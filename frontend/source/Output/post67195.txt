List of connected users <body> Sometimes, when need restart my Lion server, it warns me about the "connected users".  How is possible to show who is connected?  <answer67216> Try running the following terminal command to see the IP addresses of connected users:  precodenetstat -f inet -n | grep '.548 ' | awk '{ print $5 }'   | sed 's/\.[^.]*$//' /code/pre  <answer173567> Using the codeserveradmin/code command-line utility, you can send a command to the smb or afp file sharing daemons.  Running the following will return an array of users, including their ipAddress, login time, and account name.  precodeserveradmin command smb:command = getConnectedUsers serveradmin command afp:command = getConnectedUsers /code/pre  A typical line of output (for the user name) would appear as  precodesmb:usersArray:_array_index:0:name = "user_foo" ... smb:usersArray:_array_index:1:name = "user_bar" /code/pre  If all you are concerned about is the user names,  precodeserveradmin command smb:command = getConnectedUsers | awk -F '"' '/:name/ { print $2 }' /code/pre  awk code-F/code splits lines on the code"/code , while  code/:name//code only operates on lines matching code:name/code.  The code$2/code takes the second column of text (divided by code"/code), which is the user name.  precodeuser_foo user_bar /code/pre  <comment79227> grep followed by awk can always be combined into one awk command: `| awk '/\.548 / { print $5 }'` <comment79229> ;-) thanx. So, the only way is grepping netstat for appletalk ports? Ok, while this is an working solution (i can grep for samba ports too, or simply check all connected ports) - i was hoping in something more userfriendly solution.. ;) Simply don't understadn why mac **warn** about the connected users without showing them (like: user: xxx, proto: samba or something like.. ) :) thanx anyway.
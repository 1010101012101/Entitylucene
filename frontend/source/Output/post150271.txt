How to repair Homebrew permissions after installing as root? <body> I run brew as root, now it's defunct. No updates anymore. How to fix?  pre class="lang-none prettyprint-override"code$ brew update &amp;&amp; brew upgrade error: Unable to append to .git/logs/HEAD: Permission denied error: Unable to append to .git/logs/refs/remotes/origin/master: Permission denied Error: Failed to update tap: caskroom/cask  $ brew doctor Please note that these warnings are just used to help the Homebrew maintainers with debugging if you file an issue. If everything you use Homebrew for is working fine: please don't worry and just ignore them. Thanks!  Warning: Your XQuartz (2.7.4) is outdated Please install XQuartz 2.7.7:   https://xquartz.macosforge.org /code/pre  <answer150285> Reset the permissions of /usr/local and Homebrew's caches to the current user:  pre class="lang-none prettyprint-override"codesudo chown -R $USER:admin /usr/local /Library/Caches/Homebrew /code/pre  <comment176897> Running brew as root is just asking for trouble. Don't do it! <comment188331> You may also want ~/Library/Logs/Homebrew <comment371922> thanks, this works.It really did work. Am grateful
Automator service: delete last page from PDF with use of pdfsplit via bash <body> I would like to design a simple Automator service that would delete last page from PDF passed via finder. My proposed syntax for the Shell Script is:  precodefor f in "$@" do     pages=`pdfcount "$f"`     pagescut=`$pages - 1`     /usr/local/bin/pdfsplit "$f" - $pagescut &gt; "$f".tmp     rm "$f"     mv "$f".tmp "$f" done /code/pre  My Automator workflow looks like that: img src="https://i.stack.imgur.com/tC5qp.png" alt="Automator screenshot" The syntax to delete first page: code/usr/local/bin/pdfsplit "$f" 2- &gt; "$f".tmp/code, works like a charm so the error must be with doing the arithmetic on page numbers. I tried to modify the syntax:  precodefor f in "$@" do     pages=`pdfcount "$f"`     pagescut=`$(( ${pages} - 1 ))`     /usr/local/bin/pdfsplit "$f" - $pagescut &gt; "$f".tmp     rm "$f"     mv "$f".tmp "$f" done /code/pre  but I'm not getting the desired results. How to construct this service properly?  <answer174001> You have a couple of errors on your syntax. Replace the following lines:  precodepages=`pdfcount "$f"` pagescut=`$(( ${pages} - 1 ))` /code/pre  With this ones:  precodepages=$(pdfcount "$f") pagescut=$(($pages - 1)) /code/pre  <comment204834> At least the assignment to `pagescut` *must* be changed, the first line is correct in both parts. <comment204835> In general, it's easer to get the shell script part correct directly in Terminal first (and integrate it into an Automator workflow afterwards), primarily because Automator doesn't give all error details back if the shell script fails. <comment204848> I tried that but my original syntax with the amendments applied left only one page from the PDF. I tried modifying the syntax: `/usr/local/bin/pdfsplit "$f" $pagescut - $  "$f".tmp` but it appears like it's not removing any pages. <comment204856> Try this way: `/usr/local/bin/pdfsplit 1-$pagescut "$f"  "$f".tmp`
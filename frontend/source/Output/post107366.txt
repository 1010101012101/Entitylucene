Run script before restart/shutdown <body> Is it possible to execute a script/command right before OS X is shutting down or restarting?  I'd like to run codesudo apachectl stop/code to stop apache from auto-starting.  <answer107396> If you want Apache stop starting from your computer on boot you probably want to unload the appropiate .plist with launchctl:    Open a terminal, thenbr codesudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist/code  <answer107410> You can use a logout hook:  precodesudo defaults write com.apple.loginwindow LogoutHook ~/.logouthook echo $'#!/bin/bash\napachectl stop' &gt; ~/.logouthook chmod +x ~/.logouthook /code/pre  The value of the LogoutHook key can only be a path to an executable and not a shell command. The logout hook is run with superuser privileges so you don't need sudo.  The defaults command modifies /var/root/Library/Preferences/com.apple.loginwindow.plist. Adding a LogoutHook key to /Library/Preferences/com.apple.loginwindow.plist doesn't work.  If a logout hook takes long enough to run, a gray screen is shown until the logout hook terminates. There doesn't seem to be any time limit after which logout hooks are forced to terminate.  Logout hooks were deprecated in 10.4, but I haven't figured out any way to run programs on logout reliably with launchd. I haven't gotten rc.local.shutdown to work either. I don't know any way to run a logout hook before shutting down or restarting but not before logging out.  <comment125902> possible duplicate of [Make a script/app run on logout](http://apple.stackexchange.com/questions/16825/make-a-script-app-run-on-logout) <comment125924> This question here asks about shutdown/restart, the question linked in the comment about logout. These are different scenarios so let's leave the questions separated for the moment. <comment125973> did you mean `/usr/sbin/apachectl`? <comment126024> `apachectl stop` just runs `launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist` on OS X. See `cat /usr/sbin/apachectl`. <comment126116> Thanks, that did the trick. Still works on 10.9.
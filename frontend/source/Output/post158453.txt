DNS doesn't work properly in OS X Yosemite <body> There is a problem with resolving DNS in my OS X Yosemite.   Safari doesn't load web sites, ping says "unknown host" to google.com. DNS servers set to 8.8.8.8 and 8.8.4.4.   dig google.com  Gets proper information about google.com domain and others. nslookup also works properly.   I cannot reboot because I've got another user logged in and his data will be lost.   Restarting discoveryd doesn't seem to help. TCP dump shows no UDP activity when Safari or ping trying to resolve.   <answer158482> I experienced that problem on my MBP as well. I suppose it's a bug in Yosemite. Here's a related question: Yosemite cannot resolve domain names maybe it gives you some insight   My work around is flushing the DNS cache:  precodesudo discoveryutil mdnsflushcache /code/pre  if that command doesn't work try this one instead:  precodesudo discoveryutil udnsflushcaches /code/pre  I am not sure if this helped emfixing/em it, but I did a PRAM and SMC reset as well.    <answer179362> If you haven't stumbled on this already, try codearp -ad/code.  I don't know why it works for me, but it does. I'm still working on it  <comment186327> Udnsflushcache seem to be taking too much time. It hangs for a few minutes already and no effect from mdnsflushcache. Is there a way to make Safari work via the same DNS as gig or nslookup? <comment186328> I don't have a mac nearby and it's awhile ago since I had those problems but if I remember it correctly, discoveryd is the daemon replacing mDNSResponder so restarting the daemon should help. Did you restart it via load/unload (see linked question in my answer)? <comment186329> Yes, I used load/unload. <comment186331> Do it again but this time load/unload discoveryd_helper  as well. If all things fail, maybe that could help you [outdated apple kb](http://support.apple.com/en-us/HT201275) <comment187591> Sorry, did not try restarting discoveryd_helper, but the reboot helped me that time. Thanks anyway. <comment314928> This worked for me when even rebooting wouldn't work. Thanks!
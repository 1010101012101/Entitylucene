mac os x - usb hid - how the receive device added / device removed callbacks? <body> I'm a beginner at programming on mac os x.  I am following this tutorial.  And I have this program:  precode#include &lt;stdio.h&gt; #include &lt;IOKit/hid/IOHIDManager.h&gt; #include &lt;IOKit/hid/IOHIDKeys.h&gt; #include &lt;CoreFoundation/CoreFoundation.h&gt;  static void Handle_DeviceMatchingCallback(void *inContext, IOReturn inResult, void *inSender, IOHIDDeviceRef inIOHIDDeviceRef) {     puts("YAY Handle_DeviceMatchingCallback"); }  static void Handle_DeviceRemovalCallback(void *inContext, IOReturn inResult, void *inSender, IOHIDDeviceRef inIOHIDDeviceRef) {     puts("YAY Handle_DeviceRemovalCallback"); }  int main() {     IOHIDManagerRef HIDManager = IOHIDManagerCreate(kCFAllocatorDefault, kIOHIDOptionsTypeNone);     IOHIDManagerSetDeviceMatching(HIDManager, NULL);      IOHIDManagerRegisterDeviceMatchingCallback(HIDManager, &amp;Handle_DeviceMatchingCallback, NULL);     IOHIDManagerRegisterDeviceRemovalCallback(HIDManager, &amp;Handle_DeviceRemovalCallback, NULL);      IOHIDManagerScheduleWithRunLoop(HIDManager, CFRunLoopGetMain(), kCFRunLoopDefaultMode);      IOReturn IOReturn = IOHIDManagerOpen(HIDManager, kIOHIDOptionsTypeNone);     if(IOReturn) puts("IOHIDManagerOpen failed.");      while(1)     {         puts("sleeping...");         sleep(1);     }      return 0; } /code/pre  What I am doing wrong, because I do not get the callbacks when I insert or remove any hid device in the USB port.  <answer167470> codeIOHIDManagerScheduleWithRunLoop/code is hooked to codeRunLoop/code, so You need to start one. codewhile/code loop is not the solution here. So in order to get callbacks You should replace codewhile/code loop with codeCFRunLoopRun()/code call. More informations about RunLoops in documentation.  <comment196324> I think You should use `RunLoop` instead of `while` in main function. use for example: `CFRunLoopRun()` for this. <comment196328> yes that was the problem,thx
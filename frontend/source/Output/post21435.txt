How do local TimeMachine backups work exactly? <body> Since Mac OS X 10.7 (Lion) TimeMachine performs local backups to code/.MobileBackups/code if enabled (codetmutil enableLocal/code, default enabled on portable macs).  The different types of backups are color encoded in the fancy TimeMachine space thingy, local backups are white, external storage purple. They mostly differ only by a minute. What exactly is the concept of those local backups?   Are they simple a completely parallel, additional backup? Or are they at least merged into your external storage backup when you come home after begin away from your backup drive for a week? And what happens if i require lots of disk space suddenly? Do i need to remove the local backups manually?  <answer21436> Local Time Machine backup purpose is to have an hourly backup even when your external hard drive isn't connected. When you connect your external drive, it copies the local backup to the external drive.  That's why it is activated by default on portable Mac as they suppose the external hard drive of your desktop Mac is plugged permanently if you're interested in hourly backup with Time Machine.  <answer21437> Local backups do not use any space, so far as the user is concerned.  The area they are kept is marked as unused to the OS, so your 30Gb free space may actually contain 5Gb or backups for example.  The local backups are not quite the same as the full time machine backups tho, which (within reason) takes copies of any changed files including application binaries.  The local backups are more for changes made in your documents etc and dovetail nicely with Versions etc.  Should you need more space the system will cycle through and overwrite your local backups in order of age to preserve the most recent changes where possible.  And, as Olivier rightly mentions, they get shuttled off to your proper Time Machine should you have one when it is connected.  <answer21463> I also thought that the Local Snapshots were supposed to merge into your Time Machine backups but it seems, in my experience, that they don't. You can see both when you're in Time Machine and "About This Mac" shows that they still exist after multiple backups to an external harddrive. I do think that they are supposed to merge with themselves the way that Time Machine backups do, to save space, merging into daily and weekly backups instead. As far as Finder is concerned, the space is not used. Looking in the info bar at the bottom of a Finder window showing your root drive will show that you have more space than something like iStat Nano will show on Dashboard. I think this is because the backups are supposed to be expendable. If your computer really needs the space I assume that it will get rid of some of its snapshots to make room. We may see that in the future they merge back into regular Time Machine backups as Lion matures more. It's also worth noting that I don't think they count as real 'backups' in the sense that you can't restore to them the same way you can restore to a time machine backup from the Recovery HD. They are really meant to help you recover a file instead of your whole filesystem.  <answer21472> So, I investigated part 1 of the question: The backups are strongnot/strong merged into the external TimeMachine backups when the external disk reappears.  [15:21:35] I disconnected my backup drive  [16:40:01] I checked the contents of my code/.MobileBackups/code folder  precode# ls -l /.MobileBackups/Computer/ | tail -n2 drwxr-xr-x@ 3 root  wheel  102 Aug 11 15:36 2011-08-11-153653 drwxr-xr-x@ 3 root  wheel  102 Aug 11 16:36 2011-08-11-163653 /code/pre  [16:55:31] I reconnected my backup drive and clicked "Back Up Now"  [17:00:10] Backup finished, checked the contents of the strongexternal/strong backup drive  precode$ ls -l '/Volumes/Time Machine Backups/Backups.backupdb/&lt;myhostname&gt;' | tail -n3 drwxr-xr-x@ 6 root  staff  204 Aug 11 14:41 2011-08-11-144112 drwxr-xr-x@ 6 root  staff  204 Aug 11 17:00 2011-08-11-170010 lrwxr-xr-x  1 root  staff   17 Aug 11 17:00 Latest -&gt; 2011-08-11-170010 /code/pre  As one can see, the local backups performed inbetween have not been included in the external drive. The backups seem to be entirely independent - pretty poor implementation :(  <comment23509> Are you certain that it actually copies the local backups to the external storage? <comment23511> I'm not 100% certain. I think I read it somewhere, but I can't remember where and I didn't get the chance to try by myself yet. Sorry. <comment23512> Found it : [9to5Mac](http://9to5mac.com/2011/02/27/time-machine-can-be-used-without-an-external-hard-drive-in-lion/) <comment23520> "The local backups are more for changes made in your documents etc and dovetail nicely with Versions etc." No. Local/Mobile Time Machine (`/.MobileBackups`) is completely unrelated to Document versions (`/.DocumentRevisions-V100`). <comment23522> Not completely unrelated, document versions are stored as you correctly say in a different area, I was merely pointing out that the local TM backups know to include the versions as part of normal operation.  Not saying they are the same, just that one knows about the other. <comment23528> So what exactly are you saying? The `.MobileBackups` folder exists in the filesystem but does not consume space? I don't think HFS+ is that advanced that you can simply mark folders as "overwrite when space is required"... <comment23535> Yes, that's pretty much what I am saying, but now how you explain it.  The files certainly consume space, they have to, they exist.  But when you do a "get info" on your Mac OS HD, it knows to exclude certain files and areas from the grand total.  There is obviously some clever behind the scenes stuff such that enables this, and the backups are certainly cycled to remove the older ones if the space is requested by genuine non-backup files in the same way that when your external TM disk fills up, it removes the oldest to make space for the newest. <comment23537> If it didn't try to hide these files from you, you would have a permanently full hard disk after not very long.  And if it did not recycle that space when it was needed by things other than backups, then there would need to be a tool to enable us to do this rather than have to know the obscure areas and require us to remove them manually.  I hope this makes sense.  Apologies for taking up 2 comments slots with a lengthy reply. <comment23540> So if i do `dd if=/dev/zero of=~/testfile`, after your theory after a while OS X would start to remove backups? <comment23543> That is getting into areas which are beyond the scope of the OP questions.  As with many other HFS activities these  things take place when a write starts or finished (I'm thinking of spotlight indexes, flags to add to next Tm backup etc).  In your example you are merely starting a single write that may well fill the disk in time.  As the space is free to start the operation, it may well go until there is no space left then fail.  But if you were to do it in 100Mb increments, then each write would provide the opportunity to check for space, and to perform such maintenance if required. <comment23555> I don't know if OS X automatically removes backups as it runs out of space. It *does* hide the space taken up from backups in Finder, though: Finder reports it as free; System Information reports it as taken up. <comment23569> Unfortunately, the article seems to be wrong, see my answer. <comment23571> Do you mind if I edit out some of the specifics that make this look like a very broad, multiple question, narrowly valid to one person request for a theoretical "please teach me" question and try to turn it into an objective, "answerable with one answer" question? <comment23572> It looks a lot like you want a discussion / place to air opinion / vent... <comment23573> Are you certain that the store of data containing the intermediate versions wasn't captured as a whole to the time machine? <comment23575> Can I invite you all to the chat room? <comment23577> @bmike What do you mean with "as a whole"? <comment23579> time machine uses fseventsd to snapshot all files, except those that are excluded by rule  - I'm asking if you checked for .MobileBackups on the latest external backup or just assumed they were not there based on time stamps when the whole snapshot was taken. <comment23580> Episode 28 of HyperCritical, "Trust, But Verify", (abailable at http://5by5.tv) contains a good introduction of how Time Machine backups work. <comment23583> Yes, I also figured they won't merge. And yes of course, the mobile backups are not a safety for failing hardware / restoring your system on a new drive. It would just make so much more sense if the local and the remote backups would unified in a way... *sigh* <comment23585> If you are asking whether the external Backups contain the folder `/.MobileBackups` - no, of course they do not. That is hard-excluded by TimeMachine, otherwise it back up backups. <comment24141> I had always wished that the would merge. As a side note, I started up my laptop the other day and the 50 or so gigabytes of backups that had been accumulating were just gone, so they do go away at some point, which is nice. <comment24739> Isn't this a duplicate of a question I asked earlier: http://apple.stackexchange.com/questions/18532/how-does-the-new-local-snapshots-feature-of-time-machine-in-lion-work ? <comment95377> I've got a new retina MBP and local backups are not enabled by default. I wonder if something triggers creation of the local filesystem after install and the first few USB connected backup events happen.
Resolve domain name using the internal IP when inside the intranet? <body> I want to access a web server using the same domain name while I am inside the intranet but a different IP.  Let's say that I register into a public DNS:  ul licodemysrv-public.example.com/code   public-ip/li licodemysrv-private.example.com/code   private-ip/li /ul  When I go to codemysrv.example.com/code and I am on intranet I do want to resolve it with private IP and while I am outside I want to resolve it with the public IP.  The DNS is hosted on AWS and the IP is updated via a script.  Now, for my Mac OS X, I do want to change this behaviour by assuming that you cannot customize the DNS server for "intranet".  I can use ControlPlane to detect the proper context in order to trigger a bash script. Now the question is how can I change the hostname resolution from the command line.   I know that I could edit the hosts file, but that's risky to touch from inside a script, especially because I already have other custom records inside the /etc/hosts file.  Is there a nice solution for this? 
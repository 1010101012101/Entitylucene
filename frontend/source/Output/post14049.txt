Is it possible to use Back To My Mac DNS or routing information from the command line? <body> I often want to ssh to a Mac and would love to make use of of iCloud to look up IP/DNS routing information. Can this be done without signing up for a dynamic DNS service and configuring it on each Mac in addition to iCloud?  Let's assume of my on-all-the-time Mac at home's hostname is "maui" and it's running Snow Leopard. When I'm on my laptop connected to the home network, I can codessh maui.local/code. It sure would be nice to be able to codessh maui.whatever.icloud.com/code or whatever would work. I'm guessing I would need "maui" and my iCloud name to let it know which machine under my account needs reaching.  Does anyone know if this is possible through API or command line? I've browsed the public developer information several times but don't see anything promising. Any pointers or code examples would be welcome.  P.S. emPlease don't suggest free DNS accounts as I'm really interested in MobileMe exclusively for this question. I know those will work but I'm looking to avoid installing anything else or another account/external dependency on these Macs./em  <answer14097> I read a few articles on the underpinning of Back To My Mac and supposedly some people have effectively connected via ssh, check out the discussion contained in this Macworld post.  The best post in the thread is as follows:     Use the following format for   connecting as a differnent username:      ssh   user.name@hostname.username.members.mac.com.      If you do this regularly and wish to   save having to use the username all   the time for ssh and scp then create a   file called ~/.ssh/config with   contents like the following:      Host   hostname.username.members.mac.com.   User user.name      Host host2.some.domain.com. User   username2 Port 2222 LocalForward 3389   internal-pc:3389      The second host in this file also   includes using a port other than 22   and allowing access to a Windows   computer called internal-pc with   Remote Desktop by connecting to   localhost with the Remote Desktop   Client.   Now obviously Apple has switched .mac to MobileMe, so I dont know if that has switched to .me.com, and frankly I dont have a MobileMe account to test it.   Edit: Another interesting post you may want to try is at the veery bottom     Turns out it is even easier! :P      just open the Terminal go to Shell    New Remote Connection...      then choose ssh and there you have   your BackToMyMac Computer listed (if   the OS sees it).      type in your username and click   connect.      voila, you can even see the connection   string used. And you can also use   ftp/sftp... from this dialog to your   remote Mac.      Way easier than typing in some shell   command like suggested in the original   tip.   <answer14098> You can ssh to your machine which has "Bac to my Mac" enabled like this:  precodessh -p 22 username@computername.mobilemename.members.mac.com /code/pre  <answer14104> Big thanks to hobs and ghoppe who both had workable solutions. The main problem is that MobileMe Back To My Mac uses IPv6 addressing if available and perhaps exclusively, so I didn't think to use ping6 or traceroute6 and ssh is apparently smart enough to resolve either IPv4 or IPv6.  codessh -p 22 username@computername.mobilemename.members.mac.com./code works very reliably for me in testing today.  Since this tripped me up as I was expecting codeping/code and codehost/code and codenslookup/code to work, I figure I'll put up a nice summary of what worked for me. (with pictures! - I really like pictures)  To summarize codesftp/code, codessh/code, codeping6/code, and codetraceroute6/code should work with this naming scheme.  Apple's built in terminal (and iTerm) is great to make sure your user name and remote short name are correct. The name is the short host name (what codehostname/code prints out) and not necessarily the longer sharing name Finder will show for the remote Mac).  img src="https://i.stack.imgur.com/5EALZ.png" alt="short hostname"  Here is what the Terminal shows when it discovers Back To My Mac machines running. The menu item is strongNew Remote Connection.../strong and the shortcut is kbdShift/kbd+kbdCommand/kbd+kbdK/kbd. It shows how the finder name strong"Mikey's Mac"/strong might be different than the short host name strongmi/strong  img src="https://i.stack.imgur.com/uOTGx.png" alt="enter image description here"  <answer15457> That's because the IP addresses for resolution are version 6.  If you use ping6 or traceroute6 you can reach your host as well.  <answer50431> This has changed a little with 10.7 and you'll want to note that this uses IPv6 almost entirely so test with codeping6/code and codetraceroute6/code to debug things.  It's no longer done via code@computername.mobilemename.members.mac.com/code, it's now done via codemembers.btmm.icloud.com/code, and its no longer as simple as your codemobilemename/code.  h3Step 1: Find out your iCloud BTMM domain/h3  Either of these commands will provide your BTMM domain:  precode# dns-sd -E # mDNS -E /code/pre  The output is formatted slightly differently, but what you're after is the numeric ID, it'll be something like code12345678.members.btmm.icloud.com/code.  h3Step 2: List Computers/h3  You can use these tools to browse that domain for services, e.g. for ssh servers:  precode# dns-sd -B _ssh 12345678.members.btmm.icloud.com /code/pre  Or if you already know the hostname just access it directly as codecomputer-name.12345678.members.btmm.icloud.com/code. (Any spaces in your computer name will be hyphens in this domain).  You can emonly/em access this from a computer that is also set up for BTMM on the same account, because this hostname will resolve to an IPv6 address that is really the end of an encrypted network tunnel between your BTMM computers.  If you want to see the IPv6 address for a specific host, you can type  precode# dns-sd -G v6 computer-name.12345678.members.btmm.icloud.com /code/pre  And it'll output something like:  precode17:37:47.504  Add     2  0 computer-name.12345678.members.btmm.icloud.com. FD11:993E:64AE:4DEA:011F:FBD1:F444:11A1%&lt;0&gt;  152 /code/pre  h3Step 3: Connect/h3  precode# ssh username@computer-name.12345678.members.btmm.icloud.com /code/pre  h3Note/h3  I'm not sure if that number will ever change, so you may or may not need to repeat Step 1 at some point later on...  <comment15145> Cool idea, +1 and I hope you get an answer. <comment15164> I can see how Apple wouldn't want to expose users to this since it's a privacy risk, but it sure would be cool to have an API for this. <comment15194> Do you really have to tell it to use the default port? <comment15197> ping, host and ssh to three separate computername with three different mobilemename is failing. I get `host yy.xx.members.mac.com not found: 3(NXDOMAIN)` errors from host attempts and `ssh: Could not resolve hostname yy.xx.members.mac.com: nodename nor servname provided, or not known` All three work with back to my mac screen sharing before and after the ping, host and ssh attempts fail. What DNS server IP are you using to get this to work? <comment15198> Sadly this isn't working for me. I can use finder and screen sharing perfectly so I know the accounts and machines are up and running. Recent Time Capsules with up to date firmware are routers for both macs. Has anyone had this work for them in the last two weeks? <comment15199> Hot dang! the last tip was it. ping and host don't work, but ssh does. That terminal tip is AWESOME. <comment15200> Even though host and ping don't work - ssh started working for me. I'll play a bit and mark an answer once I figure which is better. <comment15201> And no - I don't seem to need to call out port numbers for **sftp** or **ssh** - but it doesn't hurt much to have them ;-) <comment15205> Sweet! Glad to help. <comment15206> Good comprehensive answer with screenies +1 <comment15208> hobs has one b :p <comment16982> That is really cool. Thanks so much for adding this. Do you mind if I add your info to my answer above once I have a chance to see if it works for me? +2 to @pst <comment61468> Brilliant! I'm undecided whether to edit the question to fit Lion or ask another. I'll link to the new question so you can "answer" the Lion question - this answer is so useful. <comment61470> Here it is! http://apple.stackexchange.com/questions/14049/is-it-possible-to-use-back-to-my-mac-dns-or-routing-information-from-the-command <comment61513> `host` doesn't work because it's using the DNS resolver, not the system resolver. `ping` doesn't work because BTTM uses IPv6. Try `ping6` instead and you'll see it responds. <comment61541> See also: The same issue for OS X 10.7 Lion (it's a bit different). http://apple.stackexchange.com/questions/53719/can-i-use-back-to-my-macs-mdns-address-and-for-ssh-and-other-routing-of-traffic <comment214162> Does it not prompt you for a password?
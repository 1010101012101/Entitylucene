File Sharing hangs Time Machine on Snow Leopard Server <body> I administer a Mac mini server for a small school. It's running Snow Leopard Server with all the latest updates installed. I'm backing it up via Time Machine and periodic SuperDuper clones. Time Machine often gets stuck, however, and will stay stuck part-way through a backup indefinitely. If I manually stop the backup and then start it or let it start itself, it will still get stuck.  I think the problem is related to AFP. I have client Macs (all SL) connecting for user authentication as well as file sharing and Mobile Home Sync. However, disconnecting users or killing the AFP service doesn't fix the problem. A reboot fixes it every time.  The best solution I've come up with is to simply set the server to reboot once a day, but that seems like a terrible solution. How could I fix this permanently?  <comment43227> Why do you suspect AFP if stopping that service doesn't fix the problem? What led you to this conclusion? What log files have you analysed to investigate the issue? <comment43367> I have examined the logs, but I don't remember which one yielded that information. It would say that Time Machine (backupd?) was stuck on a particular file in a user's home directory on the server. The files it gets stuck on are different every time. <comment43385> With respect, that doesn't point to AFP necessarily, unless the file is in use at that time, and even then there needs to be some sort of corroboration. <comment43498> The file doesn't appear to actually be in use, but backupd seems to think it is. Do you have a suggestion for how I might try to corroborate my hypothesis or form a new one by examining the logs more closely?
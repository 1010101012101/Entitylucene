Set Input language when USB keyboard connected <body> I'm trying to setup by MBP for use with a normal keyboard and mouse.br I've worked out that I need to change the Input Source to British-PC to get the correct key-map.   What I'm trying to find is a way of doing this automatically...br I've already got ControlPlane running to configure various other options, and Karabiner to control some other bits. Karabiner seems like the sensible way of configuring it, with a 'Docked' profile.   However what I'm struggling with is how to get Karabiner to automatically perform the Input source change when the profile is activated.   I've added the following to private.xml:    precode  &lt;vkchangeinputsourcedef&gt;     &lt;name&gt;KeyCode::VK_CHANGE_INPUTSOURCE_BRITISH-PC&lt;/name&gt;     &lt;inputsourceid_equal&gt;com.apple.keylayout.British-PC&lt;/inputsourceid_equal&gt;   &lt;/vkchangeinputsourcedef&gt;   &lt;vkchangeinputsourcedef&gt;     &lt;name&gt;KeyCode::VK_CHANGE_INPUTSOURCE_BRITISH&lt;/name&gt;     &lt;inputsourceid_equal&gt;com.apple.keylayout.British&lt;/inputsourceid_equal&gt;   &lt;/vkchangeinputsourcedef&gt;   &lt;deviceproductdef&gt;     &lt;productname&gt;Comfort_Curve_Keyboard&lt;/productname&gt;     &lt;productid&gt;0x00dd&lt;/productid&gt;   &lt;/deviceproductdef&gt;   &lt;item&gt;     &lt;name&gt;Set British-PC Input source&lt;/name&gt;     &lt;identifier&gt;private.set_british-pc_input&lt;/identifier&gt;     &lt;device_only&gt;DeviceVendor::Microsoft, DeviceProduct::Comfort_Curve_Keyboard&lt;/device_only&gt;     &lt;autogen&gt;__KeyToKey__ KeyCode::VK_CHANGE_INPUTSOURCE_BRITISH_PC&lt;/autogen&gt;   &lt;/item&gt;   &lt;item&gt;     &lt;name&gt;Set British Input source&lt;/name&gt;     &lt;identifier&gt;private.set_british_input&lt;/identifier&gt;     &lt;autogen&gt;__KeyToKey__ KeyCode::VK_CHANGE_INPUTSOURCE_BRITISH&lt;/autogen&gt;   &lt;/item&gt; /code/pre  However this doesn't seem to perform the switch automatically.   What am I missing?   Cheersbr Gavin  <comment233157> An alternative might be to have the private.xml just switch the mapping of those few keys that are different in British PC when the external keyboard is connected. <comment233357> Ah, that might be a good alternative... Any pointers on best way to do that? <comment349425> Check the Karabiner, under "Change Key".  Scroll down until you get to the "For International English Keyboard and ..." settings.  Maybe you can find what you need there.  Alternatively, you can find the source for this in the programs Resources folder in one of the XML files.
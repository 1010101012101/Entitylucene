software problem: retrieve contacts data from Time Machine <body> My Macbook Pro under Sierra is now at the Repair Shop. I am using another MacBook Pro under Yosemite while my Sierra machine is being repaired. However, I forgot to export Contacts before taking my Sierra machine in this morning and now my Contacts data is 3 years old, which is pretty well useless to me. It should be no problem, because all the necessary info is on my Time Machine linked to Sierra. However, things are not so simple (at least for me).  How can I now get my contacts info onto the Yosemite machine from the Sierra-based Time Machine backup? It seems that none of the published solutions works.  <answer274171> strongUpdate:/strong I have updated the script as per @user3439894’s feedback. The script should now work for most users, no matter what flavor their address book raw data is in.  hr  strongYou might want to look at a temporary command-line solution./strong It gives you a codecontact &lt;search_term&gt;/code command that you can run in Terminal.app to look up contacts.  I assume your Yosemite MBP is only a temporary solution while your Sierra MBP is at the repair shop. While the Terminal command has limited functionality, it might work well enough for you to be useful while you wait for your Sierra MacBook Pro to return.  Setting up the temporary command should require not more than 10–15 minutes.  h2Setting up the codecontact/code command/h2  ol liOpen the Time Machine backup that contains your (Sierra-based) address book data./li liIn your backup, look for the folder code"${HOME}/Library/Application Support/AddressBook"/code, which is the root folder for all your contact data./li liRestore that entire codeAddressBook/code folder to a temporary location, e. g.: code${HOME}/SierraAddressBook/code./li liDouble check that the whole code${HOME}/SierraAddressBook/code tree has the correct permissions so you can read it without an administrator password./li liFor good measure, make a backup copy of your code${HOME}/.bash_profile/code file./li liOpen the file code${HOME}/.bash_profile/code in a text editor of your choice./li liTemporarily append to code.bash_profile/code the following lines: /li /ol  (Note that for some of these lines, indentation matters; try not to change indentation in any of those lines, even if it looks a bit off.)  precodecontact() {   # We assume "${HOME}/Library/Application Support/AddressBook"   # has been restored to this directory from a TM backup.   local contacts_base_dir="${HOME}/SierraAddressBook"    local search_term="$1"   local sql_code="$(cat &lt;&lt; EOF .mode column       SELECT         TRIM(       IFNULL(R.ZFIRSTNAME, '')           || ' ' || IFNULL(R.ZLASTNAME, '')           || ' ' || IFNULL(R.ZORGANIZATION, '')) NAME,         'created ' || date('2001-01-01', ZCREATIONDATE           || ' seconds', 'localtime') CREATED,         'modified ' || date('2001-01-01', ZMODIFICATIONDATE           || ' seconds', 'localtime') MODIFIED,         GROUP_CONCAT(DISTINCT TRIM(IFNULL(E.ZLABEL, ''),           '! _$&lt;&gt;') || ' ' || IFNULL(E.ZADDRESSNORMALIZED, ''))           EMAIL,         GROUP_CONCAT(DISTINCT TRIM(IFNULL(P.ZLABEL, ''),           '! _$&lt;&gt;') || ' ' || IFNULL(P.ZFULLNUMBER, ''))           PHONE       FROM         ZABCDRECORD R       LEFT JOIN         ZABCDEMAILADDRESS E ON E.ZOWNER = R.Z_PK,         ZABCDPHONENUMBER P ON P.ZOWNER = R.Z_PK       WHERE         NAME LIKE '%${search_term}%'       GROUP BY         R.Z_PK       ORDER BY         NAME; EOF     )"    export sql_code   find "${contacts_base_dir}" -regex '.*/AddressBook-[^/]*\.abcddb$' \     -exec bash -c "/usr/bin/sqlite3 '{}' &lt;&lt;&lt; \"\${sql_code}\"" \; }  export -f contact /code/pre  ol start="8" liSave your changes in code.bash_profile/code./li liOpen Terminal.app./li liOpen a new terminal window./li /ol  h2Usage/h2  Run the command codecontact/code followed by your search term in the Terminal. For example:  precode$ contact "Bella Napoli"  Bella Napoli  created 2013-10-12  modified 2015-05-29              Home +49 931 51706  $ contact IKEA  IKEA Frankfurt  created 2013-10-12  modified 2013-10-12              Work 0180 5 353435  $ contact Neptun  Hotel Neptun  created 2013-10-12  modified 2013-10-12  Work concierge@hotel-neptun.de Work +49 381 777-0,WorkFAX +49 381 54023  $ contact  &lt;lists all your contacts&gt; /code/pre  h2Caveats/h2  ul liThe search term only applies to first name, last name, and organization name./li liThe search term is case sensitive./li liThe search term cannot contain spaces or certain punctuation, unless it is enclosed in the proper single or double quotes./li liTo search by full name, use the correct order: code&lt;first_name&gt; &lt;last_name&gt; &lt;organization_name&gt;/code/li liSearch terms can also be substrings of names./li liI do not endorse any of the companies and their products and services I gave in the example. I used those because I cannot disclose personal data for obvious reasons. Besides, I was too lazy to add bogus data to my own address book./li liI’ve tested the script on El Capitan only but it should work on Yosemite, even when combined with Sierra-based address book data./li liIf you run into issues, feel free to leave a comment below./li /ul  <comment344592> Please link at least some solutions which **don't work** to avoid answers based on them. <comment344612> Have you tried to just copy the (Sierra) `/.../backup.*/.../${HOME}/Library/Application Support/AddressBook` to (Yosemite) `${HOME}/Library/Application Support/AddressBook` after renaming the old (Yosemite) AddressBook folder? A quick check using two life systems revealed that this seems to work. <comment344613> @klanomath While your approach is probably the quickest, easiest, and most pragmatic one, I would advise against it because I fear it might introduce issues with iCloud synchronization, which might come back to bite you when switching laptops after repairs. <comment344628> @user3439894 The `*` character cannot be inside the quotation marks. What happens if you try `"${CONTACTS_BASE_DIR}"/AddressBook-*.abcddb` instead? <comment344630> @user3439894 Regarding your comment on `Sources`: You’re correct, there’s no `Sources` folder in some installations (no idea why). Feel free to add your variants to the answer (once figured out) so others can benefit. <comment344635> @user3439894 To pinpoint the issue, please run `find "${HOME}/SierraAddressBook" -name 'AddressBook-v22.abcddb' -print -exec bash -c '/usr/bin/sqlite3 "{}" .tables' \;`. Does that give an error, or a list of `Zxxxxx` style table names? Does that list contain `ZABCDRECORD`? (Don’t publish the output here because it might contain a UUID which is unique to your computer.) <comment344648> @user3439894 I have updated my script in the meantime. It should now work properly for your case, too. Does it? <comment344669> @user3439894 Not everyone uses the same shell, and not all shell environments are the same on every Mac. The original script worked fine for me right from the start when I tested it. Glad to hear it works for you now. <comment344671> @user3439894 Thanks for the link. <comment344673> The default shell for OS X/macOS is BASH and your original code did not work in a default install even if the files existed as you had coded it, at least not on my system. What shell are you using? <comment344674> @user3439894 The script needs to use some kind of loop because there can be multiple sources for contacts. So the script in its current form should work for more users than a single hard-coded path would. <comment344693> @user3439894 Bash version is 3.2.57. My original script still works for me: https://pastebin.com/SMtvxDyK <comment346100> I have accepted the solution by @Synoli, which seems like the result of some hard work (I hope not only for me)! I changed shell to bash before each use---no big deal. If I had some expertise in sql and bash, I would have improved on the code by providing information from more of the fields available in normal use of Contacts.app. Perhaps I should have use the solution by klanomath---since I don't use iCloud, I had nothing to lose. I find it irritating that several Macos programs need backup via Export, in addition to Time Machine. <comment346101> @klanomath see my comment. Stack Exchange would not allow me to alert you in the same comment.
How do I run Launchd as root? <body> I'm trying to block some websites via /etc/hostsbr I can't seem to figure out how to run the LaunchAgent with the correct permissions.    precode$ ls -la ~/Library/LaunchAgents/hosts_Blocksites_AM.plist      -rw-r--r--@ 1 root  staff  1854 Aug 25 11:55 /Users/bryanwheelock/Library/LaunchAgents/hosts_Blocksites_AM.plist     /code/pre  I set a UserName key:    precode&lt;key&gt;UserName&lt;/key&gt;   &lt;string&gt;root&lt;/string&gt;   /code/pre  Here is the hosts_Blocksites_AM.plist:      precode&lt;?xml version="1.0" encoding="UTF-8"?&gt;   &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;   &lt;plist version="1.0"&gt;   &lt;dict&gt;       &lt;key&gt;Label&lt;/key&gt;       &lt;string&gt;local.job&lt;/string&gt;       &lt;key&gt;ProgramArguments&lt;/key&gt;       &lt;array&gt;           &lt;string&gt;cp&lt;/string&gt;           &lt;string&gt;/etc/hosts_BLOCKED_sites.txt&lt;/string&gt;           &lt;string&gt;/etc/hosts&lt;/string&gt;       &lt;/array&gt;       &lt;key&gt;RunAtLoad&lt;/key&gt;       &lt;true/&gt;       &lt;key&gt;UserName&lt;/key&gt;       &lt;string&gt;root&lt;/string&gt;       &lt;key&gt;StartCalendarInterval&lt;/key&gt;       &lt;array&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;1&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;2&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;3&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;4&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;5&lt;/integer&gt;           &lt;/dict&gt;       &lt;/array&gt;       &lt;key&gt;StandardErrorPath&lt;/key&gt;                                                                                                                                                               &lt;string&gt;/tmp/mycommand.err&lt;/string&gt;                                                                                                                                            &lt;key&gt;StandardOutPath&lt;/key&gt;                                                                                                                                                                &lt;string&gt;/tmp/mycommand.out&lt;/string&gt;   &lt;/dict&gt;   &lt;/plist&gt;   /code/pre  Here are the errors:      precode$ cat /tmp/mycommand.err    sudo: no tty present and no askpass program specified   cp: /etc/hosts: Permission denied   /code/pre  I had tried to add the sudo command to the program arguments, but I don't think that was correct.   EDITED:  Changed Label key:    precode&lt;key&gt;Label&lt;/key&gt;   &lt;string&gt;local.hosts.blockingAM&lt;/string&gt;   /code/pre  Removed UserName key.  Moved the plist and changed name:    precode$ ls -la /Library/LaunchDaemons/ -rw-r--r--@  1 root  wheel  1474 Aug 29 13:19 local.hosts.blockingAM.plist   /code/pre  I was still getting permission errors until I ran launchctl with sudo:    precodesudo launchctl load /Library/LaunchDaemons/local.hosts.blocking.plist  /code/pre  <answer250642> Launch agents are run when a user logs in. So adding a plist in ~/Library/LaunchAgents and loading/starting it, will run a task in behalf of the user logged in - and only this one, because no other user has access to this folder. You can't run a launch agent with the rights of another user and the key UserName is no valid option in there.  A launch agent in /Library/LaunchAgents will also run in the realm of the logged in user. But every user logging in will initiate it. So two users logged in at the same time will each start an arbitrary agent task with the respective rights/permissions.  The system's LaunchAgents and LaunchDaemons folders are forbidden area, so you are left creating a launch daemon in /Library/LaunchDaemons.  Since launch daemons already run with root permissions use the following plist emlocal.hosts.blocking.plist/em in em/Library/LaunchDaemons//em (naming conventions regarding label/error file and standard output file already included):  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt;   &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;   &lt;plist version="1.0"&gt;   &lt;dict&gt;       &lt;key&gt;Label&lt;/key&gt;       &lt;string&gt;local.hosts.blocking&lt;/string&gt;       &lt;key&gt;ProgramArguments&lt;/key&gt;       &lt;array&gt;           &lt;string&gt;cp&lt;/string&gt;           &lt;string&gt;/etc/hosts_BLOCKED_sites.txt&lt;/string&gt;           &lt;string&gt;/etc/hosts&lt;/string&gt;       &lt;/array&gt;       &lt;key&gt;StartCalendarInterval&lt;/key&gt;       &lt;array&gt;           &lt;dict&gt;           ....         &lt;/dict&gt;       &lt;/array&gt;       &lt;key&gt;StandardErrorPath&lt;/key&gt;                                                                                                                                                               &lt;string&gt;/tmp/local.hosts.blocking.err&lt;/string&gt;     &lt;key&gt;StandardOutPath&lt;/key&gt;      &lt;string&gt;/tmp/local.hosts.blocking.out&lt;/string&gt;   &lt;/dict&gt;   &lt;/plist&gt; /code/pre  Apply standard permissions to the plist: root:wheel/644 and load/start it with:  precodesudo launchctl load /Library/LaunchDaemons/local.hosts.blocking.plist /code/pre  <answer288323> The asker mentions LaunchAgents a couple of times and @klanomath's answer is correct: in this case a LaunchDaemon is probably the appropriate approach.  However for Googlers that emare/em trying to give a codeLaunchAgent/code elevated sudo/root privileges, I recommend checking out or this answer on this question about LaunchAgents.  It describes a method of having selectively elevated privileges for the user and command you're running, allowing codelaunchctl/code to run codesudo/code without an interactive password prompt.  <comment311297> Start by changing the label to the name of the plist- `hosts_Blocksites_AM` <comment311759> Thanks for the response. I made the changes suggested and still get a permission error. I posted the changes in OP. <comment311789> I copied your plist exactly and I got the exact same permission error: <comment311790> $ ls /Library/LaunchDaemons/local.hosts.blocking.plist        -rw-r--r--  1 root  wheel  1002 Aug 29 16:43 /Library/LaunchDaemons/local.hosts.blocking.plist <comment311798> launchctl load /Library/LaunchDaemons/local.hosts.blocking.plist <comment311799> @BryanWheelock  After unloading it first, please use `sudo launchctl ...` <comment311806> sudo launchctl load /Library/LaunchDaemons/local.hosts.blocking.plist FIXED it.
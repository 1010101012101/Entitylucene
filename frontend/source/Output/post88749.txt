"opensnoop" utility doesn't work with spaces between filenames, how to fix? <body> I use "opensnoop"   precode/usr/bin/opensnoop /code/pre  to show all files which are opened from different processes.   But when I want to specific a file with   precodesudo opensnoop -n "directory/filename" /code/pre  i'm getting this error:  precodetoken too large, exceeds YYLMAX /code/pre  I'm hunting around for a fix and found only this website. The author modified the opensnoop script:     this is due to line 154 in /usr/bin/opensnoop containing   inline string NAME  = "'$pname'";   that produces a dtrace script with this quoting   inline string NAME  = "foo' 'bar";   and the first single quote ends the dtrace invocation leaving its input script incomplete.   The quick patch is to replace line 154 with   inline string NAME  = "'"$pname"'";   but i'm still getting this error message.   Can anybody help me? Or tell me another utility where i can show the app which is currently working with a specific file?  <answer88756> code-n/code is only meant to be used with process names like codesudo opensnoop -n System\ Preferences/code. To see what processes access a file, use codesudo opensnoop -f /tmp/a\ b.txt/code.  The change mentioned in the blog post fixes -n but not -f. To fix both of them, edit code/usr/bin/opensnoop/code and replace these lines:  precodeinline string PATHNAME = "'$pathname'"; inline string NAME = "'$pname'"; /code/pre  With this:  precodeinline string PATHNAME = "'"$pathname"'"; inline string NAME = "'"$pname"'"; /code/pre  <comment104024> `-n` is used to identify the process name to be snooped, why do you need a path for that? <comment104029> @patrix For example `sudo opensnoop -n System\ Preferences` prints that same error, and -f doesn't work with paths that have spaces either. <comment104034> Thank's! But, for example, when i open up a screenshot via Preview, and opensoop -n "Screenshot", no processes are shown. Shouldn't there been the "Preview-Process"? <comment104042> You're supposed to use something like `sudo opensnoop -f ~/Pictures/Screenshot.png`. <comment104043> Ahhh....how stupid could i be... sure! Thank's very much! RTFM... :)
Error when using "do shell script" <body> I'm using a MacBook Pro (Retina, Mid-2014) running El Capitan. I'm trying to create a script that checks if my computer is open or not, and I'm using this:  codeioreg -r -k AppleClamshellState | grep '"AppleClamshellState"' | cut -f2 -d"=""/code  I tested this in Terminal and it works fine, so I add codedo shell script/code in front of it to run it in AppleScript. But when I do, it gives me this:  codeExpected end of line, etc. but found identifier./code  Please help!  <answer229584> Instead of piping to codegrep/code and codecut/code, just use codeawk/code.  precodedo shell script "ioreg -r -k AppleClamshellState | awk -F \" = \" '/AppleClamshellState/ {print $2}'" /code/pre  ul licode-F \" = \"/code makes the separator: code=/code (space = space)/li licode/AppleClamshellState//code Search for: codeAppleClamshellState/code/li licode{print $2}/code Prints emYes/em or emNo/em depending on what's returned for:codeAppleClamshellState/code/li liE.g code"AppleClamshellState" = No/code prints codeNo/code/li /ul  img src="https://i.stack.imgur.com/dEQ7w.png" alt="enter image description here"  You can also use:  precodedo shell script "ioreg -r -k AppleClamshellState | grep 'AppleClamshellState' | cut -d'=' -f2" /code/pre  However there will be a leading space in front of emYes/em or emNo/em as codecut/code only handles a single character for the deliminator.  img src="https://i.stack.imgur.com/5HKN8.png" alt="enter image description here"  Note: The emcommand text/em portion of codedo shell script/code, e.g. codedo shell script "uptime"/code must be double-quoted. So when the emcommand text string/em itself is using double-quotes within the emstring/em, one should substitute a single-quote code'/code wherever possible and if double-quotes must be used within the emstring/em then escape them with a backslash code\/code.  <comment280091> I get the same error. <comment280092> Works fine for me! <comment280094> OK, now I have `set myVar to "do shell script "ioreg -r -k AppleClamshellState | awk -F \" = \" '/AppleClamshellState/ {print $2}'""`, and it gives me `A identifier can’t go after this “"”.` higlighting `ioreg`. <comment280095> Your command is malformed! There should be no `"` in front of `do` and you have an extra `"` at the end.  Copy and paste my code exactly as is and it should work! <comment280096> Just realised that right before you commented. Thanks for your help! :-) <comment280097> I updated my answer to use `grep` and `cut` however I'd stick with `awk`! <comment280098> See the Note at the bottom of my answer to shed some light on the quoting issues surrounding complex commands used with `do shell script`.
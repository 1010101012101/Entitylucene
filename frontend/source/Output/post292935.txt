iTerm2: session.username not set or reset on Mac after exit SSH session <body> I'm trying to set up automatic profile switching between my Mac and a remote host.  I'm having problems getting the profile to change to my default "Mac" profile when I exit from a remote SSH session.  I have added code\(session.username)@\(session.hostname)/code as a Badge on this default "Mac" profile, but not the remote profile.  However, when I open a new terminal session ("Mac" profile) all that is displayed in the badge is code@/code . When I SSH to my remote machine it updates the profile successfully and the badge disappears.  When I exit this session, the profile does not change back to the "Mac" profile, even though the rules should make it do so.  However when I manually change the profile (Right-click - Edit Session...) back to the default "Mac" profile the badge now displays my remote username and host.  I cannot find anywhere in my env where these values are stored, and my prompt is correct for my Mac.  iTerm v. 3.0.15 Shell integration is installed on Mac. 
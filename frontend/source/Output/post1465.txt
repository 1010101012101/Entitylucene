How can I move virtual memory swap files to a different drive or partition? <body> strongemnote:/em/strong This is a question that I asked on SuperUser a while ago. I'm re-posting it here because I think it belongs here.  By default, Mac OS X stores its swap files in code/private/var/vm//code. I would like to place the swap files in a different location. How can it be done?  <answer1469> strongemnote:/em/strong copied from SuperUser:  For older versions of OSX, see this thread on forums.macosxhints.com.  Credit goes to dblu for explaining the use of codeplutil/code, ZILjr for introducing the codewait4path/code command, and ekl for simplifying the whole thing by eliminating the need for an intermediate shell script.  strongComplete solution:/strong  strong1./strong  Open Terminal and make a backup copy of Apple's default dynamic_pager.plist:  precode$ cd /System/Library/LaunchDaemons $ sudo cp com.apple.dynamic_pager.plist{,_bak} /code/pre  strong2./strong  Convert the plist from binary to plain XML:  precode$ sudo plutil -convert xml1 com.apple.dynamic_pager.plist /code/pre  strong3./strong  Open the converted plist with your text editor of choice. (I use codepico/code, see dblu's answer for an example using codevim/code):  precode$ sudo pico -w com.apple.dynamic_pager.plist /code/pre  It should look as follows:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs$ &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;EnableTransactions&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;HopefullyExitsLast&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;com.apple.dynamic_pager&lt;/string&gt;     &lt;key&gt;OnDemand&lt;/key&gt;     &lt;false/&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/sbin/dynamic_pager&lt;/string&gt;         &lt;string&gt;-F&lt;/string&gt;         &lt;string&gt;/private/var/vm/swapfile&lt;/string&gt;     &lt;/array&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  strong4./strong  Modify the ProgramArguments array (lines 13 through 18) to use the codewait4path/code shell command prior to launching dynamic_pager. See note #1 for details on why this is necessary. In the following example, my partition is called codeSwap/code, and I chose to put the swapfiles in a hidden directory on that partition, called code.vm/code strongbe sure that the directory you specify actually exists/strong. The XML should look as follows:  precode&lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt;     &lt;string&gt;/bin/bash&lt;/string&gt;     &lt;string&gt;-c&lt;/string&gt;     &lt;string&gt;/bin/wait4path /Volumes/Swap/ &amp;amp;&amp;amp; /sbin/dynamic_pager -F /Volumes/Swap/.vm/swapfile&lt;/string&gt; &lt;/array&gt; /code/pre  strong5./strong  Save the plist, and return to the terminal prompt. Using codepico/code, the commands would be:  precode&lt;ctrl+o&gt; to save the file &lt;enter&gt;  to accept the same filename (com.apple.dynamic_pager.plist) &lt;ctrl+x&gt; to exit /code/pre  strong6./strong  Convert the modified plist back to binary:  precode$ sudo plutil -convert binary1 com.apple.dynamic_pager.plist /code/pre  strong7./strong Restart your Mac. If you run into trouble, switch to verbose startup mode by holding down Command-v immediately after the startup chime. This will let you see all of the startup messages that appear during startup. If you run into even worse trouble (i.e. you never see the login screen), hold down Command-s instead. This will boot the computer in single-user mode (no graphical UI, just a command prompt) and allow you to restore the backup copy of com.apple.dynamic_pager.plist that you made in step 1.  strong8./strong Once the computer boots, fire up Terminal and verify that the swap files have actually been moved:  precode$ cd /Volumes/Swap/.vm $ ls -l /code/pre  You should see something like this:  precode-rw-------  1 someUser  staff  67108864 18 Sep 12:02 swapfile0 /code/pre  strong9./strong Delete the old swapfiles:  precode$ cd /private/var/vm $ sudo rm swapfile* /code/pre  strong10./strong Profit!  strongNote 1/strong  Modifying the arguments to dynamic_pager in the plist without using codewait4path/code does not always work, and when it fails, it does so in a spectacularly silent way. The problem stems from the fact that dynamic_pager is launched very early in the startup process. If your swap partition has not yet been mounted when dynamic_pager is first loaded (in my experience, this happens 99% of the time), then the system will fake its way through. It will create a symbolic link in your /Volumes directory which has the same name as your swap partition, but points back to the default swapfile location (/private/var/vm). Then, when your actual swap partition mounts, it will be given the name codeSwap 1/code (or codeYourDriveName 1/code). You can see the problem by opening up Terminal and listing the contents of your /Volumes directory:  precode$ cd /Volumes $ ls -l /code/pre  You will see something like this:  precodedrwxrwxrwx  11 yourUser  staff   442 16 Sep 12:13 Swap -&gt; private/var/vm drwxrwxrwx  14 yourUser  staff     5 16 Sep 12:13 Swap 1  lrwxr-xr-x   1 root      admin     1 17 Sep 12:01 System -&gt; / /code/pre  Note that this failure can be emvery/em hard to spot. If you were to check for the swapfiles as I show in step 12, emyou would still see them/em! The symbolic link would make it seem as though your swapfiles had been moved, even though they were actually being stored in the default location.  strongNote 2/strong  I was originally unable to get this to work in Snow Leopard because com.apple.dynamic_pager.plist was stored in binary format. I made a copy of the original file and opened it with Apple's Property List Editor (available with Xcode) in order to make changes, but this process added some extended attributes to the plist file which caused the system to ignore it and just use the defaults. As dblu pointed out, using codeplutil/code to convert the file to plain XML works like a charm.  strongNote 3/strong  You can check the Console application to see any messages that dynamic_pager_init echos to the screen. If you see the following lines repeated over and over again, there is a problem with the setup. I ran into these messages because I forgot to create the '.vm' directory that I specified in dynamic_pager_init.  precodecom.apple.launchd[1]  (com.apple.dynamic_pager[176]) Exited with exit code: 1 com.apple.launchd[1]  (com.apple.dynamic_pager) Throttling respawn: Will start in 10 seconds /code/pre  When everything is working properly, you may see the above message a couple of times only, and then no more of the "Throttling respawn" messages. This means that the system did have to wait for the partition to load, but in the end it was successful.  h2Exclude the path from Time Machine/h2  In OS X 10.7 and later you can do this with tmutil. Example:  codesudo tmutil addexclusion -p /Volumes/Swap/.vm/code  For that example, to review the result:   codetmutil isexcluded /Volumes/Swap &amp;&amp; tmutil isexcluded /Volumes/Swap/.vm/code  h2If the volume used for swap need not be indexed/h2  Use mdutil. Example, to switch off then erase the store:   codesudo mdutil -i off /Volumes/Swap &amp;&amp; sudo mdutil -E /Volumes/Swap/code  h2 /h2  <answer163634> Simple solution:  http://www.macupdate.com/app/mac/10771/swap-relocator  SwapRelocator 1.1.2 works great on Maverick!  Use (for example) Tinker Tool System to let volumes mount before log-in, that solves the only problem I encountered.  (Thanks Filippo, I can finally move the swap from the mirrored boot volume to a striped cache volume (all SSD))  <answer186558> I have been unable to establish a permanent system boot solution, since 10.10 no longer uses /etc/.rc at boot, and the com.apple.dynamic_pager.plist method has failed.... however...  precodesudo mkdir /Volumes/Swap/s sudo chmod 755 /Volumes/Swap/s sudo sysctl vm.swapfileprefix=/Volumes/Swap/s /code/pre  does change the stored prefix as reported by   precodesysctl vm /code/pre  for the duration of the session, and it survives reboot.   this could be wrapped as a unix command into a text file:  precode$/bin/sh sysctl vm.swapfileprefix=/Volumes/Swap/s /code/pre  and run at login.  <comment1273> Next time just link the question/answer, there’s a “link” button next to each answer. ;) <comment1279> There is a link to the SuperUser question at the very top of this question. I did not link directly to "the" answer on SuperUser because It has been constructed from parts of several other answers. I did, however, add links to each partial answer (using that handy "link" button) in the second paragraph of this answer. How many more links do you want? `;)` <comment48431> I like that it's here…  I reference it all the time.. <comment105572> Additional consideration of `/private/var/vm/sleepimage` in Super User: [Should I symlink my /private/var/vm dir to another volume in OS X Lion?](http://superuser.com/q/337674/84988) (2011-09-20) – there's an answer that recommends not using the same separate volume for both external swap files and sleepimage. <comment105597> **dynamicpagerwrapper** ([source: dynamic_pager_wrapper](http://code.google.com/p/dynamicpagerwrapper/source/browse/trunk/dynamic_pager_wrapper)) – *performance wrapper for /sbin/dynamic_pager on OSX* <comment220274> This fails for me under 10.10.3 - it doesn't seem to use the plist. <comment289763> Under El Capitan, trying to clear swap is not permitted by the new System Integrity Protection. /System/Library/LaunchDaemons/com.apple.dynamic_pager.plist: Operation not permitted while System Integrity Protection is engaged br Boot into the recovery partition, and then choose Security Configuration from the Utilities menu. You can uncheck Enforce System Integrity Protection, click Apply Configuration, and restart.
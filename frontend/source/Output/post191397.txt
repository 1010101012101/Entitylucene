Yosemite crashes every time on reboot with an external display connected <body> My new RMBP 13 crashes every time on reboot if displays are connected to the Thunderbolt port. Yesterday it also crashed during operation of a connected TV to Thunderbolt while displaying a presentation.  I ran the hardware diagnostic process which revealed 0 problems. The Yosemite install is a backup from my 3 year old MBP. Other then that it runs fine.  This is the Panic Report:  precode  Sat Jun 13 13:50:41 2015    *** Panic Report ***   panic(cpu 3 caller 0xffffff800ec17cc2): Kernel trap at 0xffffff7f90c7eb06, type 14=page fault, registers:   CR0: 0x000000008001003b, CR2: 0xffffff89adc97fe8, CR3: 0x0000000002867030, CR4: 0x00000000003627e0   RAX: 0x00000000ffffffff, RBX: 0x00000000e00002bc, RCX: 0xffffff7f90ca3154, RDX: 0xffffff803243f600   RSP: 0xffffff81fc1eb820, RBP: 0xffffff81fc1eb820, RSI: 0x00000000ffffffff, RDI: 0xffffff81adc96000   R8:  0xffffff803243f600, R9:  0xffffff81fc1eb9d0, R10: 0xffffff7f8fd68950, R11: 0xffffff81fc1ebb80   R12: 0xffffff81adc96000, R13: 0xffffff802ff69cb4, R14: 0xffffff803243f600, R15: 0x0000000000000002   RFL: 0x0000000000010297, RIP: 0xffffff7f90c7eb06, CS:  0x0000000000000008, SS:  0x0000000000000010   Fault CR2: 0xffffff89adc97fe8, Error code: 0x0000000000000000, Fault CPU: 0x3    Backtrace (CPU 3), Frame : Return Address   0xffffff81fc1eb4d0 : 0xffffff800eb2bda1    0xffffff81fc1eb550 : 0xffffff800ec17cc2    0xffffff81fc1eb710 : 0xffffff800ec34b73    0xffffff81fc1eb730 : 0xffffff7f90c7eb06    0xffffff81fc1eb820 : 0xffffff7f90c8f8f0    0xffffff81fc1eb860 : 0xffffff7f90ca3164    0xffffff81fc1eb8b0 : 0xffffff7f90ca339d    0xffffff81fc1eb8d0 : 0xffffff800f0d41ce    0xffffff81fc1eb910 : 0xffffff7f90ca3408    0xffffff81fc1eb960 : 0xffffff7f90c59d74    0xffffff81fc1eb980 : 0xffffff7f90c59eb1    0xffffff81fc1eba00 : 0xffffff7f910ab5c9    0xffffff81fc1eba60 : 0xffffff800f0d41ce    0xffffff81fc1ebaa0 : 0xffffff7f910ab9d8    0xffffff81fc1ebaf0 : 0xffffff7f90c59eb1    0xffffff81fc1ebb70 : 0xffffff7f90c5984e    0xffffff81fc1ebbc0 : 0xffffff800f0ff0c3    0xffffff81fc1ebd00 : 0xffffff800ebe21e7    0xffffff81fc1ebe10 : 0xffffff800eb3000c    0xffffff81fc1ebe40 : 0xffffff800eb149f3    0xffffff81fc1ebe90 : 0xffffff800eb2531d    0xffffff81fc1ebf10 : 0xffffff800ec031ea    0xffffff81fc1ebfb0 : 0xffffff800ec35396          Kernel Extensions in backtrace:            com.apple.AppleGraphicsDeviceControl(3.10.22)[44D7223C-9628-3FEA-A3B8-27DE9E1CE0C3]@0xffffff7f90c59000-&gt;0xffffff7f90c5efff            com.apple.driver.AppleIntelBDWGraphicsFramebuffer(10.0.6)[BD924979-4EEE-345B-95A3-59BC631819CD]@0xffffff7f90c5f000-&gt;0xffffff7f90cb2fff               dependency: com.apple.iokit.IOPCIFamily(2.9)[52E715FC-521D-3869-B2EA-5228FA4BEA34]@0xffffff7f8f337000               dependency: com.apple.iokit.IOACPIFamily(1.4)[70E2B65E-A91A-3522-A1A0-79FD63EABB4C]@0xffffff7f8fcab000               dependency: com.apple.iokit.IOAcceleratorFamily2(156.14)[BE7D765B-49C1-34F9-B75E-3EAF8A4062A3]@0xffffff7f90bdc000               dependency: com.apple.iokit.IOReportFamily(31)[781C9DD1-4CE9-3AEB-85EA-D420CEC18916]@0xffffff7f8f7a9000               dependency: com.apple.AppleGraphicsDeviceControl(3.10.22)[44D7223C-9628-3FEA-A3B8-27DE9E1CE0C3]@0xffffff7f90c59000               dependency: com.apple.iokit.IOGraphicsFamily(2.4.1)[82EAD591-67E3-39CB-A232-A8095CA30E92]@0xffffff7f8fd44000            com.apple.driver.AppleGraphicsDevicePolicy(3.7.7)[59E7CF6C-C2D1-3FFC-A122-DB048907FB67]@0xffffff7f910a7000-&gt;0xffffff7f910adfff               dependency: com.apple.driver.AppleGraphicsControl(3.10.22)[61967104-88AF-3605-82F5-A480A2800A78]@0xffffff7f91083000               dependency: com.apple.iokit.IOACPIFamily(1.4)[70E2B65E-A91A-3522-A1A0-79FD63EABB4C]@0xffffff7f8fcab000               dependency: com.apple.iokit.IOPCIFamily(2.9)[52E715FC-521D-3869-B2EA-5228FA4BEA34]@0xffffff7f8f337000               dependency: com.apple.iokit.IOGraphicsFamily(2.4.1)[82EAD591-67E3-39CB-A232-A8095CA30E92]@0xffffff7f8fd44000               dependency: com.apple.AppleGraphicsDeviceControl(3.10.22)[44D7223C-9628-3FEA-A3B8-27DE9E1CE0C3]@0xffffff7f90c59000    BSD process name corresponding to current thread: displaypolicyd    Mac OS version:   14D136    Kernel version:   Darwin Kernel Version 14.3.0: Mon Mar 23 11:59:05 PDT 2015; root:xnu-2782.20.48~5/RELEASE_X86_64   Kernel UUID: 4B3A11F4-77AA-3D27-A22D-81A1BC5B504D   Kernel slide:     0x000000000e800000   Kernel text base: 0xffffff800ea00000   __HIB  text base: 0xffffff800e900000   System model name: MacBookPro12,1 (Mac-E43C1C25D4880AD6)    System uptime in nanoseconds: 24472817766   last loaded kext at 7849210273: com.cisco.kext.acsock 1.1.0 (addr 0xffffff7f912bb000, size 57344)   loaded kexts:   com.cisco.kext.acsock 1.1.0   org.virtualbox.kext.VBoxNetAdp    4.3.28   org.virtualbox.kext.VBoxNetFlt    4.3.28   org.virtualbox.kext.VBoxUSB   4.3.28   com.microsoft.driver.MicrosoftMouseBluetooth  8.2   com.microsoft.driver.MicrosoftMouse   8.2   com.microsoft.driver.MicrosoftKeyboardBluetooth   8.2   org.virtualbox.kext.VBoxDrv   4.3.28   com.intel.kext.intelhaxm  1.1.1   net.sf.tuntaposx.tun  1.0   net.sf.tuntaposx.tap  1.0   com.protech.NoSleep   1.4.0   com.microsoft.driver.MicrosoftKeyboardUSB 8.2   com.microsoft.driver.MicrosoftKeyboard    8.2   com.apple.driver.AppleBluetoothMultitouch 85.3   com.apple.filesystems.autofs  3.0   com.apple.driver.AGPM 110.19.5   com.apple.driver.ApplePlatformEnabler 2.2.0d4   com.apple.driver.X86PlatformShim  1.0.0   com.apple.driver.AudioAUUC    1.70   com.apple.iokit.IOBluetoothSerialManager  4.3.4f4   com.apple.driver.AppleOSXWatchdog 1   com.apple.iokit.IOBluetoothUSBDFU 4.3.4f4   com.apple.driver.AppleHDAHardwareConfigDriver 272.18   com.apple.driver.AppleHDA 272.18   com.apple.driver.AppleGraphicsDevicePolicy    3.7.7   com.apple.driver.AppleUpstreamUserClient  3.6.1   com.apple.iokit.IOUserEthernet    1.0.1   com.apple.Dont_Steal_Mac_OS_X 7.0.0   com.apple.driver.AppleHWAccess    1   com.apple.driver.AppleHV  1   com.apple.driver.AppleUSBCDC  4.3.3b1   com.apple.iokit.BroadcomBluetoothHostControllerUSBTransport   4.3.4f4   com.apple.driver.AppleIntelSlowAdaptiveClocking   4.0.0   com.apple.driver.AppleFIVRDriver  4.1.0   com.apple.driver.AppleCameraInterface 5.33.0   com.apple.driver.ACPI_SMC_PlatformPlugin  1.0.0   com.apple.driver.AppleThunderboltIP   2.0.2   com.apple.driver.AppleSMCLMU  2.0.7d0   com.apple.driver.AppleLPC 1.7.3   com.apple.driver.AppleMuxControl  3.10.22   com.apple.driver.AppleBacklight   170.7.4   com.apple.driver.AppleMCCSControl 1.2.11   com.apple.driver.AppleIntelBDWGraphics    10.0.6   com.apple.driver.AppleIntelBDWGraphicsFramebuffer 10.0.6   com.apple.iokit.SCSITaskUserClient    3.7.5   com.apple.driver.AppleUSBCardReader   3.5.5   com.apple.driver.CoreStorageFsck  471.20.7   com.apple.driver.AppleFileSystemDriver    3.0.1   com.apple.AppleFSCompression.AppleFSCompressionTypeDataless   1.0.0d1   com.apple.AppleFSCompression.AppleFSCompressionTypeZlib   1.0.0d1   com.apple.BootCache   36   com.apple.driver.XsanFilter   404   com.apple.driver.AppleUSBHub  705.4.2   com.apple.iokit.IOAHCIBlockStorage    2.7.1   com.apple.iokit.IOAHCIPassThrough 1.0.3   com.apple.driver.AppleAHCIPort    3.1.2   com.apple.driver.AppleTopCaseHIDEventDriver   67   com.apple.driver.AirPort.Brcm4360 930.37.3   com.apple.driver.AppleUSBXHCI 710.4.11   com.apple.driver.AppleSmartBatteryManager 161.0.0   com.apple.driver.AppleRTC 2.0   com.apple.driver.AppleACPIButtons 3.1   com.apple.driver.AppleHPET    1.8   com.apple.driver.AppleSMBIOS  2.1   com.apple.driver.AppleACPIEC  3.1   com.apple.driver.AppleAPIC    1.7   com.apple.nke.applicationfirewall 161   com.apple.security.quarantine 3   com.apple.security.TMSafetyNet    8   com.apple.driver.IOBluetoothHIDDriver 4.3.4f4   com.apple.kext.triggers   1.0   com.apple.driver.AppleUSBAudio    295.23   com.apple.driver.DspFuncLib   272.18   com.apple.kext.OSvKernDSPLib  1.15   com.apple.iokit.IOBluetoothHostControllerUSBTransport 4.3.4f4   com.apple.iokit.IOBluetoothFamily 4.3.4f4   com.apple.iokit.IOSlowAdaptiveClockingFamily  1.0.0   com.apple.driver.AppleHDAController   272.18   com.apple.iokit.IOHDAFamily   272.18   com.apple.iokit.IOAudioFamily 203.3   com.apple.vecLib.kext 1.2.0   com.apple.driver.IOPlatformPluginLegacy   1.0.0   com.apple.driver.X86PlatformPlugin    1.0.0   com.apple.iokit.IOUSBUserClient   705.4.0   com.apple.driver.AppleSMBusPCI    1.0.12d1   com.apple.driver.AppleThunderboltEDMSink  4.0.2   com.apple.driver.AppleThunderboltDPOutAdapter 4.0.6   com.apple.driver.IOPlatformPluginFamily   5.9.1d7   com.apple.driver.AppleIntelLpssUART   2.0.56   com.apple.iokit.IOSerialFamily    11   com.apple.driver.AppleGraphicsControl 3.10.22   com.apple.driver.AppleBacklightExpert 1.1.0   com.apple.driver.AppleSMC 3.1.9   com.apple.driver.AppleSMBusController 1.0.13d1   com.apple.iokit.IOSurface 97.4   com.apple.iokit.IONDRVSupport 2.4.1   com.apple.AppleGraphicsDeviceControl  3.10.22   com.apple.iokit.IOAcceleratorFamily2  156.14   com.apple.iokit.IOGraphicsFamily  2.4.1   com.apple.iokit.IOUSBHIDDriver    705.4.0   com.apple.iokit.IOSCSIBlockCommandsDevice 3.7.5   com.apple.iokit.IOUSBMassStorageClass 3.7.2   com.apple.iokit.IOSCSIArchitectureModelFamily 3.7.5   com.apple.driver.AppleUSBMergeNub 705.4.0   com.apple.driver.AppleUSBComposite    705.4.9   com.apple.driver.CoreStorage  471.20.7   com.apple.iokit.IOAHCIFamily  2.7.5   com.apple.driver.AppleThunderboltDPInAdapter  4.0.6   com.apple.driver.AppleThunderboltDPAdapterFamily  4.0.6   com.apple.driver.AppleThunderboltPCIDownAdapter   2.0.2   com.apple.driver.AppleHIDKeyboard 176.2   com.apple.driver.AppleHSSPIHIDDriver  41.3   com.apple.driver.AppleMultitouchDriver    263.9.1   com.apple.driver.AppleThunderboltNHI  3.1.7   com.apple.iokit.IOThunderboltFamily   4.2.2   com.apple.iokit.IO80211Family 730.60   com.apple.driver.mDNSOffloadUserClient    1.0.1b8   com.apple.iokit.IONetworkingFamily    3.2   com.apple.driver.AppleHSSPISupport    41.3   com.apple.driver.AppleIntelLpssSpiController  2.0.56   com.apple.iokit.IOUSBFamily   720.4.4   com.apple.driver.AppleIntelLpssGspi   2.0.56   com.apple.driver.AppleIntelLpssDmac   2.0.56   com.apple.driver.AppleIntelLpssI2C    2.0.56   com.apple.driver.AppleEFINVRAM    2.0   com.apple.driver.AppleEFIRuntime  2.0   com.apple.iokit.IOHIDFamily   2.0.0   com.apple.iokit.IOSMBusFamily 1.1   com.apple.security.sandbox    300.0   com.apple.kext.AppleMatch 1.0.0d1   com.apple.driver.AppleKeyStore    2   com.apple.driver.AppleMobileFileIntegrity 1.0.5   com.apple.driver.AppleCredentialManager   1.0   com.apple.driver.DiskImages   396   com.apple.iokit.IOStorageFamily   2.0   com.apple.iokit.IOReportFamily    31   com.apple.driver.AppleFDEKeyStore 28.30   com.apple.driver.AppleACPIPlatform    3.1   com.apple.iokit.IOPCIFamily   2.9   com.apple.iokit.IOACPIFamily  1.4   com.apple.kec.Libm    1   com.apple.kec.pthread 1   com.apple.kec.corecrypto  1.0    System Profile:   AirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0x133), Broadcom BCM43xx 1.0 (7.15.166.24.3)   Bluetooth: Version 4.3.4f4 15601, 3 services, 27 devices, 1 incoming serial ports   Thunderbolt Bus: MacBook Pro, Apple Inc., 27.1   Memory Module: BANK 0/DIMM0, 8 GB, DDR3, 1867 MHz, 0x02FE, 0x4544464232333241314D412D4A442D460000   Memory Module: BANK 1/DIMM0, 8 GB, DDR3, 1867 MHz, 0x02FE, 0x4544464232333241314D412D4A442D460000   USB Device: Internal Memory Card Reader   USB Device: Bluetooth USB Host Controller   Serial ATA Device: APPLE SSD SM0512G, 500,28 GB   Model: MacBookPro12,1, BootROM MBP121.0167.B00, 2 processors, Intel Core i5, 2.9 GHz, 16 GB, SMC 2.28f6   Network Service: Wi-Fi, AirPort, en0   Graphics: Intel Iris Graphics 6100, Intel Iris Graphics 6100, Built-In /code/pre  I narrowed down the cause and found that if the RMBP is connected via mini displayport cable to displayport, the system boots without problems. If I connect it via thunderbold to display port, it crashes on boot after login. Unfortunatelly I am using a henge dock that provides only thunderbold output. So bascially using the dock, I will never be able to boot.  Does somebody know how to fix this? Yosemeti should not crash due to a cable!  <comment227301> Have you updated the RMBP to the latest Yosemite version? (10.10.3) How are you connecting the RMBP to these external display? What kind of Thunderbolt adaptors are you using, T'bolt  VGA, T'bolt  HDMI, T'bolt  DVI? If you have another adaptor of the same kind, have you tried that one to eliminate the first adaptor as the source of the problem <comment227324> Yes. Running 10.10.3. Connected via thunderbold cable to mini displayport  at home and during the meeting connected via thunderbold to hdmi. The later one was a different system and his cable during a presentation. <comment227344> The RMBP has two TB connectors and 1 HDMI.  The TB ports are your DP ports.  When you say your are connecting it via DP to DP it works fine, but TB to DP it crashes, do you mean when connected to the Henge TB port it crashes? <comment227348> The RMBP is connected via the 2 TB ports via dock to 2 4K displays. then it crashes on boot after login. Connecting via 2 dp 2 dp cables through the TB ports directly, it does not crash. <comment227357> _"...The Yosemite install is a backup from my 3 year old MBP."_ To clarify - you **overwrote** the Yosemite version which came installed on the new RMBP in favor of a Yosemite version installed on a (relatively) old machine? This may be your problem. Newly released machines may have kernel extension files and other software designed for newer GPUs than were available on a 3-year-old machine. In most cases things will work fine, but now you're pushing 4k video x2. Also: have you taken the TB dock out of the chain and hooked the 4k monitors up directly to the RMBP with Thunderbolt? <comment227360> I used a Time Machine Backup to restore the System I had before on my old MBP. The crash also happened on another System with a TB to HDMI connection. I would rather avoid to reinstall the System. Is there not a way to update drivers etc.? Actualy I believe this is a strong plus for OSX, to refresh your hardware seamlasly and just pulling a backup via TM, it would be very unfortunate to be forced to reinstall for every new hardware upgrade.
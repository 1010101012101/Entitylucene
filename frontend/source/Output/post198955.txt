Conditional lsof loop in bash script <body> I found this example of a conditional lsof loop and want to adapt it to my situation.   precodetypeset fSrc="/path/to/sourcedir" typeset fTgt="/path/to/targetdir"  while : ; do      ls /path/to/sourcedir | while read file ; do           if [ $(lsof $fSrc/$file | wc -l) -gt 1 ] ; then                echo "file $file still loading, skipping it"           else                mv $fSrc/$file $fTgt/$file                echo "file $file completed upload, moving it"           fi      done done /code/pre  My example would be more like this:  precodewhile any files are present in "/pathto/sourcedir"; do     If [ lsof "any file" in "/pathto/sourcedir" is being written or modified]; then        echo "Files being written or modified, exiting"        exit;     else        do something     fi done /code/pre  Can this be done? Is my logic somewhat close to correct?  <comment238253> Given your question is mostly shell script related, you may attract better answers over on https://stackoverflow.com – but leave this question open for a while. Someone here might have `lsof` experience. <comment238257> Just an FYI, [StackOverflow](https://stackoverflow.com/) can be somewhat hard core in that if you do not present the code you've written to help improve it you might get down-voted and told SO is not a code writing service.  So best to actually attempt to modify the code yourself first and show what's not working and what your expected outcome/output should be.  Don't just show pseudo code and ask for working code from it! ;) <comment238258> Thanks for the advice. Ill do my best to make something somewhat coherent... Im very new to scripting.
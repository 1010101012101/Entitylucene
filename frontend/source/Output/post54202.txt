ping and browsers do not seem to use local DNS server? (or: mDNSResponder looses local dns server?) <body> strong(1) Stack Info/strong  DNS Server  ul liCentOS 5.6 64bit running dnsmasq 2.45 on IP 10.9.8.2. /li liServing as DNS-Only Server using it's local /etc/hosts. /etc/resolv.conf on this machine has /li /ul  Router  ul liDraytek Vigor 2910G configured as DHCP Server and using 10.9.8.2, 8.8.8.8 as default DNS Server/li li(Assigning DHCP IP range served 10.9.8.*)/li /ul  Network client with Problem  ul liiMac with OS X Lion 10.7.4 with Ethernet DNS on "autoconfig", i.e. 10.9.8.2, 8.8.8.8 are shown as grey entries in DNS/li /ul  All other local machines (webservers, etc) have fixed IPs 10.9.8.xx. Unix and Windows machines do not experience the problem.  strong(2) config files/strong  dnsmasq machine /etc/resolv.conf  precodesearch lan nameserver 8.8.8.8 nameserver 8.8.4.4 /code/pre  dnsmasq machine /etc/hosts  (only the entry for idevsrv)  precode10.9.8.2        idevsrv idevsrv.lan /code/pre  OS X Lion /etc/resolv.conf  precodenameserver 10.9.8.2 nameserver 8.8.8.8 /code/pre  strong(3) Observations/strong  Irregularly and currently irreproducible, name resolving for local servers (named by dnsmasq) via mDNSResponder works and then works not.   Tools using mDNSResponder, like ping, browsers, subversion cannot resolve a hostname, while dig (not using mDNSResponder) works. Using 'dscacheutil -flushcache' gets ping working again, yet I cannot predict when it will stop working again:  precode$ ping idevsrv ping: cannot resolve idevsrv: Unknown host  $ dig idevsrv  ; &lt;&lt;&gt;&gt; DiG 9.7.3-P3 &lt;&lt;&gt;&gt; idevsrv ;; global options: +cmd ;; Got answer: ;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 24510 ;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0  ;; QUESTION SECTION: ;idevsrv.           IN  A  ;; ANSWER SECTION: idevsrv.        0   IN  A   10.9.8.2  ;; Query time: 9 msec ;; SERVER: 10.9.8.2#53(10.9.8.2) ;; WHEN: Tue Jun 19 16:33:37 2012 ;; MSG SIZE  rcvd: 41  $ dscacheutil -flushcache $ ping idevsrv PING idevsrv (10.9.8.2): 56 data bytes 64 bytes from 10.9.8.2: icmp_seq=0 ttl=64 time=0.310 ms /code/pre  I have several servers including servers that need constant availability of hostnames (e.g. web, subversion) so constant availability is greatly appreciated by the team:)  After searching the web for hours I still did not find any useful information that goes further than flushing the dns cache which does not suffice.  strong(4) Question(s)/strong  (in order of benefit:)  ul liHow could I avoid the disconnect? (but stil use my local dnsmasq dns server:)/li liHow might I identify the reason for the disconnection?/li liIf you have better search terms than the usual suspects, please paste your search url :)/li /ul  Many thanx in advance!  Note: this question is moved from stackoverflow to this site.  <comment62399> New info: dscacheutil -flushcache does not always remedy the problem!   `$ dscacheutil -flushcache`   `$ ping ctf611`   `ping: cannot resolve ctf611: Unknown host`
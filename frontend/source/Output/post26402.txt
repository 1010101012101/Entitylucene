Copy to network share using local disk cache in Mac OS X Lion <body> I'm using codersync/code in Mac OS X Lion to copy a backup directory from my local HD to a network mounted share (local LAN).  My goal is to archive the local backup to the network drive, thereby freeing up local disk space.    The codersync/code command I  am using is:  precodersync -aPW * /Volumes/netshare/path /code/pre  For some reason, my free disk space is decreasing as rsync runs, and I eventually run out of space.  After killing the codersync/code process and waiting, the consumed disk space is eventually freed and returns as free space.  It seems as if the copied files are being cached locally (even though they're already on the local drive) prior to being copied by codersync/code.  I've checked and it's not swap space, and I have 1.5 GB of free RAM as rsync is running.  Has anyone else noticed this and is there a way to disable this caching in codersync/code?  strongUpdate:/strong  I've tested with codersync/code, codecp/code, and copying a file in Finder, and free disk space decreases in all 3 scenarios, so it's a general OS issue.  I've been using codelsof/code to see which files codersync/code has open, and nothing there appears to be growing in size.  My theory has been that the files are being cached somewhere on the drive as the copy progresses.  I have  2GB RAM free and 0 swap space being used, so it doesn't appear to be a virtual memory usage issue.  As I mention below, disabling local snapshots also had no effect on the growing disk space.  <answer26406> My first guess would be that you got a typo in the target path (code/Volumes/netshare/path/code, especially the codenetshare/code part) and are actually duplicating the data onto the source drive.  If not, I don't really see the benefit of using codersync/codefor a one-off copy operation with limited risk of interruption - just use codecp/code instead, OSX takes care of the network part anyway if you copy something to a share mounted under code/Volumes/code.  If you absolutely want to use codersync/code leave off the code-PW/code options for a starter. code-W/code is used anyway unless you sync directly to another server by specifying the target as coderemotehost:path/to/dir/code, code-P/code is only needed if the sync runs the risk of getting interrupted.  <answer26414> Possibly this?  http://rdutoit.home.comcast.net/~rdutoit/pub/robsoft/pages/backup.html     ol   liIf you are backing up to an external drive, check the hidden Volumes folder. This is a known problem when copying files to an external disk. Sometimes, if you pull the plug accidentally on a drive, or for no apparent reason, the Volumes folder will contain left over aliases of drives that are no longer present. This can result in data being copied into them instead of your desired disk, thus your hard drive mysteriously fills up with "hidden" backups! To check the folder go to the "GO" menu in the finder menu bar and select "Go to folder" and type "/Volumes" in the search filed. This will bring up the hidden folder. I have included a menu item called "Show Volumes folder" in the Window menu, or the Help menu if you are in Background mode./li   /ol   (backup list is a gui wrapper to rsync)  <answer26644> I think I figured it out via http://www.reedcorner.net/news.php/?p=238.  Mac OS X Lion caches Time Machine backups to the local HD, in a new feature called local snapshots.  You can disable this using   codesudo tmutil disablelocal/code  No more wonky, frequently fluctuating free disk space!  strongUpdate:/strong  False alarm, apparently. Disabling local snapshots didn't solve the problem, and the disk space is still being consumed as rsync progresses. Large files copying result in a greater amount of disk space consumed. I've gone from 4.35 GB free down to 1.5 GB, then I killed rsync.  <answer27429> Finally figured it out.  The network share was mounted via WebDAV.  Thinking this could be the issue, I created an SMB mount (of the same remote share) to test.  Sure enough, the files transferred without resulting in decreasing free disk space!  So the problem lies somewhere in Mac OS X WebDAV client.  Apparently files are being cached locally in the processes of being copied to the remote share.  <comment30161> Welcome to Ask Different. If the answer helps, I wouldn't mind getting an upvote and/or an accept :-) <comment30162> Thanks for the answer. `/Volume/netshare/path` is of course an example, not the actual path. The reason I'm using `rsync` is I'm copying ~182GB of data and want to see progress, which by default `cp` doesn't show. `rsync` was suggested here as a good [alternative](http://serverfault.com/questions/41561/unix-copy-command-that-has-a-progress-bar-but-not-as-heavy-as-rsync) to `cp`, but one that shows progress. <comment30164> Nevertheless, take the target path you are using and run an `ls` on it. rsync doesn't cache/buffer anything unless you specify `--cache`, so I still think something else is going wrong here. <comment30184> If I do an `ls` in the path, I see the actual contents of the network share.  Also, I can see the drive activity light pulsing :-)  So I know it's actually accessing the drive's content, not some phantom local version. <comment30186> Hmm, interesting.  I see the network share in `/Volumes`, and from command-line I can `ls` the contents.  I can also browse from /Volumes and go into the share, viewing the contents in Finder. <comment30232> You could also try using `--progress` instead of `-P`. `-P` also includes `--partial` which is something you won't need. On the other hand: If you just want to see progress, you can easily use `cp -v` or copy the files directly in the Finder. <comment30373> So cp -v also consumes disk space.  I think Mac OS X Lion is trying to 'cleverly' manage my space for me, but I don't understand why copying files via terminal to a network share consumes local disk space. <comment30409> So it didn't have to do anything with rsync or cp at all?! Oh well... <comment31422> That's definitively strange. I've copied 130 GB last week the same way you did and didn't run into any problems. Sorry for asking again: Are you absolutely sure that /Volumes/netshare is on the share? Try ejecting the share and have a look at /Volumes/netshare afterwards. <comment31461> I ejected the network share and there's no trace of it remaining in `/Volumes`.  I'm using Time Machine on a different external drive, but I disabled local snapshots.  In another forum it was suggested that one should disconnect external drives to prevent this fluctuating space issue when copying. So I tried that, but free disk space still decreased.
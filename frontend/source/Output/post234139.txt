In Automator, how to get the folder contents after a "Run Shell Script" action <body> I have an Automator application where I'd like to drag a folder onto it and have it create a duplicate (sibling) of that folder with the duplicate's files renamed. For example, starting with the following:  precoderoot  +--svgs      |--icons_a.svg      +--icons_b.svg /code/pre  When dragging the codesvgs/code directory onto the application, I would like to end up with the following:  precoderoot  |--svgs  |   |--icons_a.svg  |   +--icons_b.svg  +--renamed-svgs      |--a.svg      +--b.svg /code/pre  I've tried the following: img src="https://i.stack.imgur.com/K401v.png" alt="enter image description here"  But it throws the following:   img src="https://i.stack.imgur.com/gZHmU.png" alt="enter image description here"  Not sure how to debug the error, but how can I get the first "Run Shell Script" action to return either the "renamed-svgs" folder or that folder's contents?  Or is there a better way to do this whole thing?  <answer234162> This error is exactly what will happen for bash scripts if the application it is communicating with isn't a emRunning Application/em when it's interacted with. As for a better way to perform the task, no, automator is awesome.   ul liI know, not a full answer, but I cannot comment and my statement is true./li /ul  <answer234265> It is generally advisable to enclose a variable in double quotes.  Use the codeecho/code command to return the "strongrenamed-svgs/strong" folder   precoderm -rf "$@"/../renamed-svgs cp -rf "$@"/ "$@"/../renamed-svgs echo "$@"/../renamed-svgs/ /code/pre  hr  Or use the codefind/code command to return files whose name start with strongicons_/strong  precoderm -rf "$@"/../renamed-svgs cp -rf "$@"/ "$@"/../renamed-svgs find "$@/../renamed-svgs/" -type f -maxdepth 1 -iname 'icons_*' -print /code/pre 
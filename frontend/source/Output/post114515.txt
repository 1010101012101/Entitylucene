Unable to create Mobile Account on AD Connected Mavericks Machine <body> Whenever I try to login as an AD user to an OS X Mavericks Macbook Pro it says unable to create mobile account. I do have the AD settings set to create a mobile account on login so that is correct but not really sure why it is failing. I have tried running the terminal command to create the mobile user (with verbose info on) and this is what it returns: (Username has been replaced with code&lt;username here&gt;/code  precodebash-3.2$ sudo ./createmobileaccount -v -n &lt;username here&gt; createmobileaccount built Nov 23 2013 15:20:29 verbose output on. user name = "&lt;username here&gt;" home path = "(null)" user password = "(null)" prompt for password = FALSE encrypt new home = FALSE create as external account = TRUE home sync new account = FALSE effective home path = /Users/&lt;username here&gt; 2013-12-20 08:14:17.753 createmobileaccount[9371:1303] ### authenticateUsingAuthorizationSync error:Error Domain=com.apple.systemadministration.authorization Code=-60007 "The operation couldn’t be completed. (com.apple.systemadministration.authorization error -60007.)" 2013-12-20 08:14:23.145 createmobileaccount[9371:507] MCXCCacheMCXRecordAndGraph(): vproc_swap_integer(NULL, VPROC_GSK_PERUSER_SUSPEND, &amp;(uid=10175887), NULL) failed 2013-12-20 08:14:23.146 createmobileaccount[9371:507] MCXCCacheMCXRecordAndGraph(): [localNode createRecordWithRecordType:dsRecTypeStandard:Users name:"&lt;username here"] == 4001 (Operation was denied because the current credentials do not have the appropriate privileges.) 2013-12-20 08:14:23.808 createmobileaccount[9371:507] MCXCCacheMCXRecordAndGraph(): vproc_swap_integer(NULL, VPROC_GSK_PERUSER_RESUME, &amp;(uid=10175887), NULL) failed 2013-12-20 08:14:23.809 createmobileaccount[9371:507] MCXCCreateMobileAccount(): Failed to create account. Error = 4001 (MCXCCacheMCXRecordAndGraph failed). Cleaning up mobile account record. *** mobile account could not be created: 4001 (Operation was denied because the current credentials do not have the appropriate privileges.) /code/pre  I have seen the lines stating that I do not have the appropriate privileges but I am running this as codesudo/code with my admin user.  ***Updated  I tried running the command using another admin account and got a different output  precodebash-3.2$ sudo ./createmobileaccount -v -n '&lt;username here&gt;' createmobileaccount built Nov 23 2013 15:20:29 verbose output on. user name = "'&lt;username here&gt;'" home path = "(null)" user password = "(null)" prompt for password = FALSE encrypt new home = FALSE create as external account = TRUE home sync new account = FALSE effective home path = /Users/'&lt;username here&gt;' 2013-12-20 09:44:16.603 createmobileaccount[9616:1303] ### authenticateUsingAuthorizationSync error:Error Domain=com.apple.systemadministration.authorization Code=-60007 "The operation couldn’t be completed. (com.apple.systemadministration.authorization error -60007.)" 2013-12-20 09:44:17.163 createmobileaccount[9616:507] MCXCCacheMCXRecordAndGraph(): vproc_swap_integer(NULL, VPROC_GSK_PERUSER_SUSPEND, &amp;(uid=10175887), NULL) failed 2013-12-20 09:44:17.732 createmobileaccount[9616:507] MCXCCacheMCXRecordAndGraph(): vproc_swap_integer(NULL, VPROC_GSK_PERUSER_RESUME, &amp;(uid=10175887), NULL) failed 2013-12-20 09:44:18.015 createmobileaccount[9616:507] MCXCCreateMobileAccount(): Failed to create account. Error = -6304 (mobile account file path is either not a directory or could not be properly created). Cleaning up mobile account record. 2013-12-20 09:44:18.019 createmobileaccount[9616:1303] ### authenticateUsingAuthorizationSync error:Error Domain=com.apple.systemadministration.authorization Code=-60007 "The operation couldn’t be completed. (com.apple.systemadministration.authorization error -60007.)" 2013-12-20 09:44:18.102 createmobileaccount[9616:507] MCXCDeleteAccount(): vproc_swap_integer(NULL, VPROC_GSK_PERUSER_SUSPEND, &amp;(uid=10175887), NULL) failed 2013-12-20 09:44:21.579 createmobileaccount[9616:1303] ### Error: setMachineArray:(     {     date = "2013-06-13 23:01:20 +0000";     "dsAttrTypeStandard:RealName" = '&lt;old deleted username1&gt;';     "dsAttrTypeStandard:UniqueID" = 503;     name = '&lt;old deleted username&gt;'; },     {     date = "2013-06-13 23:01:51 +0000";     "dsAttrTypeStandard:RealName" = "'&lt;old deleted username2&gt;'";     "dsAttrTypeStandard:UniqueID" = 502;     name = '&lt;old deleted username&gt;'; },     {     date = "2013-06-25 21:46:17 +0000";     "dsAttrTypeStandard:RealName" = temp;     "dsAttrTypeStandard:UniqueID" = 504;     name = temp; },     {     date = "2013-08-07 15:29:02 +0000";     "dsAttrTypeStandard:RealName" = "'&lt;old deleted username3&gt;'";     "dsAttrTypeStandard:UniqueID" = 501;     name = '&lt;old deleted username3&gt;'; },     {     date = "2013-12-20 16:44:21 +0000";     "dsAttrTypeStandard:RealName" = "username here";     "dsAttrTypeStandard:UniqueID" = 10175887;     name = "'&lt;username here&gt;'"; } ) forKey:deletedUsers inDomain:com.apple.preferences.accounts 2013-12-20 09:44:21.580 createmobileaccount[9616:507] MCXCDeleteAccount(): vproc_swap_integer(NULL, VPROC_GSK_PERUSER_RESUME, &amp;(uid=10175887), NULL)failed *** mobile account could not be created: -6304 (MCXCCreateMobileAccount(): [newUser createHomeDirectory] failed) /code/pre  <answer122969> We have ended up getting around the issue by running the command:   precodesudo /System/Library/CoreServices/ManagedClient.app/Contents/Resources/createmobileaccount –v –P –n networkusername /code/pre  We are still not sure why it wouldn't just automatically create the account but this has worked for what we needed.  Thanks  <comment143434> Have you tried to do it via user interface instead of terminal?
/etc/profile not being sourced for login shells <body> The code-l/code flag to codesh/code is supposed to source the contents of code/etc/profile/code and other profile scripts like code~/.profile/code, which generally provide the initial set of environment variables for a login session.  With that in mind, I run the command codeenv -i sh -l -c env/code and expect to see a fresh environment plus the changes made by code/etc/profile/code. However, code/etc/profile/code is never sourced, despite this being the supposed behaviour of the code-l/code flag. On other non-MacOS systems, this code-l/code flag causes code/etc/profile/code to be loaded correctly.  Why does this not work on MacOS, and how can I ensure that the profile scripts are correctly sourced in the right order as they would be on login? (Note that I do not want an interactive shell session)  <answer293610> Unlike other systems, codesh/code is its own compiled binary as if you called codebash --posix/code. From the Bash Reference Manual:  precodeThe POSIX startup files are executed ($ENV) rather than the normal Bash files. /code/pre  codeenv -i/code strips every environment variable. Even adding it back as codeenv -i ENV=/etc/profile/code does not work.  Instead of codesh/code just use codebash/code:  precodeenv -i bash -l -c env /code/pre 
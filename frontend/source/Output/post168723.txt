I think I messed up the Fusion Drive on my 1TB iMac (with BootCamp) <body> this is a somewhat similar post to this one (Can&#39;t create partition on free space with Disk Utility) but not quite...  It started with me creating a BootCamp partition (around 145 GB) for Windows 8 quite some time ago.   Everything was working fine until I decided to upgrade to 8.1 from the Windows store - the installation went fine but Windows never managed to boot again. I managed to fix the iMac into booting OSX and forgot about it until today (oh why?!)  I decided I will give 8.1 another go - as the partition was there and so I wanted to use it by trying to install over it again. I chose the EFI install and went for it, but the installer informed me that it will not install, because the partition has MBR instead of GPT.  So instead of running the installer again in normal mode - I logged back into OSX deleted the BOOTCAMP partition (or so I then thought), ran the installer again in EFI and told it to create a partition for itself in the free space and install Windows.  The installer created 3 partition - 1 large one and 2 small ones. I didn't like that so went back to OS X tried to delete those partitions, but that of course didn't work and my drive became messier and messier. By that time I knew I was not very smart about it and tried to delete all the partitions I thought I didn't need from the Windows Installer.  I messed up even more... OSX stopped booting. I then read and performed steps from the above mentioned thread. But all along my diskutil list showed 2 physical volumes instead of 1.  So I followed all the steps from the above thread and this is the effect at the moment:  Disk Utility - No hidden partitions  img src="https://i.stack.imgur.com/BwRUb.jpg" alt="Disk Utility - No hidden partitions"  Disk Utility - hidden partitions shown  img src="https://i.stack.imgur.com/T27qc.jpg" alt="Disk Utility - hidden partitions shown"  Diskutility - partition scheme  img src="https://i.stack.imgur.com/oFZCk.jpg" alt="Diskutility - partition scheme"  Information from the Terminal:  pre -bash-3.2# diskutil list /dev/disk0     #:                        TYPE NAME               SIZE       IDENTIFIER     0:       GUID partition_scheme                   *121.3 GB   disk0     1:                         EFI EFI                209.7 MB   disk0s1     2:           Apple_CoreStorage                    121.0 GB   disk0s2     3:                  Apple_Boot Boot OS X          134.2 MB   disk0s3 /dev/disk1     #:                        TYPE NAME               SIZE       IDENTIFIER     0:       GUID partition_scheme                     *1.0 TB   disk1     1:                         EFI EFI                209.7 MB   disk1s1     2:           Apple_CoreStorage                    852.7 GB   disk1s2     3:                  Apple_Boot Recovery HD        650.1 MB   disk1s3     4:                         EFI NO NAME            104.9 MB   disk1s4  /dev/disk2     #:                        TYPE NAME               SIZE       IDENTIFIER     0:      Apple_partition_scheme                     *1.3 GB   disk2     1:         Apple_partition_map                     30.7 KB   disk2s1     2:                   Apple_HFS OS X Base System     1.3 GB   disk2s2  /dev/disk3     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                   Apple_HFS Macintosh HD       967.8 GB   disk3                                    Logical Volume on disk1s2, disk0s2                                    D237FFDC-70A4-41D7-AC13-4CC7E5E8C0A0                                    Unencrypted Fusion Drive /dev/disk4     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled           *5.2 MB    disk4 /dcv/disk5     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk5 /dev/disk6     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk6 /dev/disk7     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk7 /dev/disk8     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk8 /dev/disk9     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk9 /dev/disk10     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled           *6.3 MB    disk10 /dev/disk11     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled           *2.1 MB    disk11 /dev/disk12     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled           *1.0 MB    disk12 /dev/disk13     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk13 /dev/disk14     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled         *524.3 KB    disk14 /dev/disk15     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled           *1.0 MB    disk15 /dev/disk16     #:                        TYPE NAME               SIZE       IDENTIFIER     0:                             untitled           *6.3 MB    disk16 -bash-3.2#/pre  pre-bash-3.2# diskutil cs list CoreStorage logical volume groups (1 found) | +-- Logical Volume Group 1EFE58BC-3613-44C4-86EE-D816F3B66E3E     =========================================================     Name:   Macintosh HD     Status: Online     Size:   973655252992 B (973.7 G8)     Free Space: 0 B (0 B)     |     +-- Physical Volume 93892BE8-2B7F-4ABD-A4C3-984495DCD98D     |   ----------------------------------------------------     |     |   Index:  0                          |   Disk:   disk1s2         |   Status: Online     |   Size:   852666400768 B (852.7 GB)     |                                                                    +-- Physical Volume 4BF0E99A-8D5F-4B1E-B6C5-31B705455EDF                               |   ----------------------------------------------------     |     |   Index:  1                                                            |   Disk:   disk0s2                                                           |   Status: Online                                                          |   Size:   120988852224 B (121.0 GB)     |          +-- Logical Volume Family 3C62D09F-E2B7-47E2-8106-76EDB58F32F7         ----------------------------------------------------------         Encryption Status:      Unlocked         Encryption Type:        None         Conversion Status:      NoConversion         Conversion Direction:   -none-         Has Encrypted Extents:  No         Fully Secure:           No         Passphrase Required:    No         |         +-- Logical Volume D237FFDC-7DA4-41D7-AC13-4CC7E5E8C0A0               ---------------------------------------------------             Disk:                 disk3                                                                     Status:               Online                                                                  Size (Total):         967799996416 B (967.8 GB)              Conversion Progress:  -none-                                 Revertible:           No              LV Name:              Macintosh HD                 Volume Name:          Macintosh HD                      Content Hint:         Apple_HFS /pre  Result of codegpt -r -vvv show /dev/disk0/code:  pre -bash-3.2# gpt -r -vvv show /dev/disk0 gpt show: /dev/disk0: mediasize=121332826112; sectorsize=512; blocks=236978176 gpt show: /dev/disk0: PMBR at sector 0 gpt show: /dev/disk0: Pri GPT at sector 1 gpt show: /dev/disk0: GPT partition: type=C12A7328-F81F-11D2-BA48-00A0C93EC93B, start=40, size=409600 gpt show: /dev/disk0: GPT partition: type=53746F72-6167-11AA-AA11-00306543ECAC, start=409640, size=236306352 gpt show: /dev/disk0: GPT partition: type=426F6F74-0000-11AA-AA11-00306543ECAC, start=236715992, size=262144 gpt show: /dev/disk0: Sec GPT at sector 236978175     start      size index contents         0         1       PMBR         1         1       Pri GPT header         2        32       Pri GPT table        34         6        40    409600     1 GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B    409640 236306352     2 GPT part - 53746F72-6167-11AA-AA11-00306543ECAC 236715992    262144     3 GPT part - 426F6F74-0000-11AA-AA11-00306543ECAC 236978136         7 236978143        32       Sec GPT table 236978175         1       Sec GPT header /pre  Result of codegpt -r -vvv show /dev/disk1/code:  pre -bash-3.2# gpt -r -vvv show /dev/disk1 gpt show: /dev/disk1: mediasize=1000204886016; sectorsize=512; blocks=1953525168 gpt show: /dev/disk1: PMBR at sector 0 gpt show: /dev/disk1: Pri GPT at sector 1 gpt show: /dev/disk1: GPT partition: type=C12A7328-F81F-11D2-BA4B-00A0C93EC93B, start=40, size=409600 gpt show: /dev/disk1: GPT partition: type=53746F72-6167-11AA-AA11-00306543ECAC, start=409640, size=1671210848 gpt show: /dev/disk1: GPT partition: type=426F6F74-0000-11AA-AA11-00306543ECAC, start=1671620488, size=1269760 gpt show: /dev/disk1: GPT partition: type=C12A7328-F81F-11D2-BA4B-00A0C93EC93B, start=1672890368, size=204800 gpt show: /dev/disk1: Sec GPT at sector 1953525167                                     start          size  index contents                                                  0             1        PMBR                                                      1             1        Pri GPT header                                            2            32        Pri GPT table                                            34             6         40        409600      1 GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B     409640    1671210848      2 GPT part - 53746F72-6167-11AA-AA11-00306543ECAC 1671620488       1269760      3 GPT part - 426F6F74-0000-11AA-AA11-00306543ECAC 1672890248           120    1672890368        204800      4 GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B 1673095168     280429967 1953525135            32        Sec GPT table 1953525167             1        Sec GPT header /pre  I don't know where to go from here? Why are there 2 physical volumes and what to do with them? If anyone could help I would greatly appreciate it.  <answer168744> Theoretically everything is fine with your Fusion Drive. Fusion Drives look like this. Disk0 is your SSD with 121 GB and disk1 is your HDD with ~1 TB (~1.121 TB summed up).   The larger parts of your SSD (disk0s2) and your HDD (disk1s2) are pooled to a CoreStorage LVG (Fusion Drive: disk3) with a size of 967.8 GB. The rest is reserved for EFIs, a Recovery HD (alltogether ~1.3 GB) and your old Windows partition - now probably free space (~152 GB).  The logical volume 'Macintosh HD' (967.8 GB) spans disk0s2 and disk1s2. This is the first 'Macintosh HD' in picture 1. The volume 'Macintosh HD' - it's the one visible on the desktop - should ideally also have about 967.8 GB. This is the second 'Macintosh HD' in picture 1.br In fact it has only 852.67 GB (see picture 3).  In the second picture the logical volume 'Macintosh HD' is the first listed in black, the volume 'Macintosh HD' is the second listed in black, the other two 'Macintosh HD's listed in grey are the parts of your SSD and HDD dedicated to the logical volume 'Macintosh HD'.  In my opinion something went wrong after deleting various partitions with the Bootcamp Assistant/Disk Utility or in Windows.  strongPreparation:/strong  ul liDetach any external drive (especially your external Time Machine backup drive)/li liRestart to Internet Recovery Mode by pressing kbdalt/kbd kbdcmd/kbd kbdR/kbd at startup.br The prerequisites are the latest firmware update installed, either ethernet or WLAN (WPA/WPA2) and a router with DHCP activated.br On a 50 Mbps-line it takes about 4 min (presenting a small animated globe) to boot into a recovery netboot image which usually is loaded from an apple/akamai server.  I recommend ethernet because it's more reliable. If you are restricted to WIFI and the boot process fails, just restart your Mac until you succeed booting.  Alternatively you may start from a bootable installer thumb drive (preferably Mavericks or Yosemite) or a thumb drive containing a full system (preferably Mavericks or Yosemite)./li /ul  strongNow you may either repair CoreStorage or rebuild your Fusion Drive/strong:  strong'Repair CoreStorage' (not recommended):/strong  ul liFirst i would try to check the volume 'Macintosh HD' with Disk Utility. If the volume is corrupted consider a reinstall of Mac OS X./li liIf the volume is ok quit Disk Utility/li liOpen Terminal and enter codediskutil unmountDisk /dev/LVIdentifier/code and both codediskutil unmountDisk /dev/DiskContainingApple_CoreStorageIdentifier/codebr In your case: first codediskutil unmountDisk /dev/disk3/code then codediskutil unmountDisk /dev/disk0/code and codediskutil unmountDisk /dev/disk1/code/li liremove the EFI NO NAME partition with codegpt remove -i IndexNumberOfEFINoName DiskIdentifier/code:br codegpt remove -i 4 disk1/code/li liRemount the CoreStorage disks and then the Logical Volume:br In your case: first codediskutil mountDisk /dev/disk0/code and codediskutil mountDisk /dev/disk1/code and then codediskutil mount /dev/disk3/code./li lienter codegpt -r -vvv show /dev/diskIdentfierOfApple_CoreStorage/code to get infos of your HDD CoreStorage disk.br In your case: codegpt -r -vvv show /dev/disk1/codebr It should look like this:  precode-bash-3.2# gpt -r -vvv show /dev/disk1 gpt show: /dev/disk1: mediasize=1000204886016; sectorsize=512;         blocks=1953525168 gpt show: /dev/disk1: PMBR at sector 0 gpt show: /dev/disk1: Pri GPT at sector 1 gpt show: /dev/disk1: GPT partition: type=C12A7328-F81F-11D2-BA4B-00A0C93EC93B, start=40, size=409600 gpt show: /dev/disk1: GPT partition: type=53746F72-6167-11AA-AA11-00306543ECAC, start=409640, size=1671210848 gpt show: /dev/disk1: GPT partition: type=426F6F74-0000-11AA-AA11-00306543ECAC, start=1671620488, size=1269760 gpt show: /dev/disk1: Sec GPT at sector 1953525167                                     start          size  index contents                                                  0             1        PMBR                                                      1             1        Pri GPT header                                            2            32        Pri GPT table                                            34             6         40        409600      1 GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B     409640    1671210848      2 GPT part - 53746F72-6167-11AA-AA11-00306543ECAC 1671620488       1269760      3 GPT part - 426F6F74-0000-11AA-AA11-00306543ECAC 1672890248     280634887 1953525135            32        Sec GPT table 1953525167             1        Sec GPT header /code/pre/li liThe free space on your HDD has 280634887 blocks. Please calculate the biggest block number dividable through 8. That's 280634880 blocks (á 512 bytes) which equals 143685058560 B or ~143.7 GB. Add the size of your HDD CoreStorage Physical Volume (852666400768 B) The result is 143685058560 B + 852666400768 B = 996351459328 B/li liResize your HDD CoreStorage physical volume with codediskutil cs resizeDisk HDDPVUUID newsize/codebr In your case: codediskutil cs resizeDisk 93892BE8-2B7F-4ABD-A4C3-984495DCD98D 996351459328b/code/li liCalculate the maximal size of your CoreStorage Logical Volume in codediskutil cs list/code: (size disk0s2) + (size disk1s2) In your case that's 120988852224 B + 996351459328 B = 1117340311552 B. That should be the size of your refreshed Logical Volume Group./li liResize your Logical Volume with codediskutil cs resizeVolume LVUUID LVGSize-128 MB/code In your case that's codediskutil cs resizeVolume D237FFDC-7DA4-41D7-AC13-4CC7E5E8C0A0 1117212311552b/code. If you get an error (There is not enough free space...) choose a smaller size like 1117148311552b./li liQuit Terminal and open Disk Utility./li liCheck your expanded CoreStorage Volume for errors./li liQuit Disk Utility, choose your CS volume as startup disk and restart your Mac/li /ul  strong'Rebuild Fusion Drive' (recommended if you have a Time Machine backup)/strong  ul liBooted to Internet Recovery Mode open Utilities → Terminal in the menubar and enter:br codediskutil cs list/code to get the CoreStorage listing.  /li liCopy the Logical Volume UUID, it's the fifth listed.  /li liNow delete the Logical Volume with codediskutil cs deleteVolume LVUUID/code.br In your case: codediskutil cs deleteVolume D237FFDC-7DA4-41D7-AC13-4CC7E5E8C0A0/code.  /li liCopy the Logical Volume Group UUID, it's the first listed in the listing of codediskutil cs list/code.  /li liThen delete the Logical Volume Group with codediskutil cs delete LVGUUID/code.br In your case: codediskutil cs delete 1EFE58BC-3613-44C4-86EE-D816F3B66E3E/code  /li liEnter exit and quit 'Terminal'/li liOpen 'Disk Utility'. Enter 'Ignore' if you are asked to fix the drives./li liChoose your SSD and partition it: 1 Partition Mac OS X Extended (Journaled), hit the Options button and choose GUID Partiton table and hit OK and Apply.br Please check that the size is ~121 GB    Example:    img src="https://i.stack.imgur.com/puoay.png" alt="ssd"/li liChoose your HDD and partition it: 1 Partition Mac OS X Extended (Journaled), hit the Options button and choose GUID Partiton table and hit OK and Apply.br Please check that the size is ~1 TB    Example:    img src="https://i.stack.imgur.com/g2zac.png" alt="hdd"/li liQuit Disk Utility and open Terminal/li liEnter codediskutil list/code  Example (your disk identifiers and sizes are different of course: Your volume SSD probably has the Identifier disk0s2 and the size 121 GB and your volume HDD probably has the Identifier disk1s2 and the size 1.0 TB):  img src="https://i.stack.imgur.com/ME7yM.png" alt="diskutil"/li liEnter codediskutil cs create "Name" IdentifierSSD IdentifierHDD/codebr In your case probably codediskutil cs create "Macintosh HD" disk0s2 disk1s2/code.    Copy the resulting LVGUUID  Example:   img src="https://i.stack.imgur.com/yIrV7.png" alt="cscreate"/li liEnter codediskutil cs CreateVolume LVGUUID jhfs+ "Macintosh HD" 100%/code.  Example:  img src="https://i.stack.imgur.com/tRBJV.png" alt="lvcreate"/li liEnter codediskutil cs list/codebr Check the size of your Logical Volume. It should have the size ~1.121 TB  Example:  img src="https://i.stack.imgur.com/55bIV.png" alt="diskcslist"/li liQuit Terminal/li liOpen 'Disk Utility' and check your newly created volume for errors/li liQuit 'Disk Utility'/li liAttach your external Time Machine backup drive or check this answer if you use NAS or another network share./li liOpen 'Restore from Time Machine Backup'/li liChoose the appropriate Time Machine backup and restore your system/li liReboot to your restored system./li liUnmount and detach your Time Machine backup drive/li liOpen 'Terminal' and enter 'diskutil list'/li liCheck if your 'Recovery HD' is listed./li liIf your 'Recovery HD' is missing, usually reinstalling your current system with the latest available system installer (e.g. 'Install OS X Mavericks (10.9.5)' if Mavericks is currently installed) will recreate it without loosing any data. AFAIK Recovery Partition Creator 3.8 will NOT create a Recovery HD on CoreStorage volumes./li liAfter reinstalling the system with the latest available system installer open codeApp Store/code and install the latest security fixes./li /ul  <answer168760> Where did you fail? Where ever you could.  The disks are GPT. Windows thinks they are MBR. Apple/Microsoft set it up this way. This means you can not use anything from Microsoft to change the partitions on the disks. If changes are going to be made to the partitions, the software used must come from Apple. The only exception is windows can format partitions. Now while the Disk Utility and the Terminal can be used to change partitions, there is no reason to do so. You should be using Bootcamp to create or destroy the windows Bootcamp partition. Bootcamp knows what it is doing, you don't.   If you wish to know what MBR partition scheme windows views, enter the following commands in a terminal window:  precodefdisk /dev/disk0 fdisk /dev/disk1 /code/pre  Your OS X HFS+ core storage partitions should have an id of AC. Windows partitions are type 07. The efi partition is type EE and the OS X recovery partition is type AB.  I am not using core storage. I would tell you do to do the same, except with a fusion drive you have no choice. I have found, the OS X partition can not be resize unless it is done while OS X is running. This is the opposite of what I would have expected. Using the disk utility to resize the OS X boot partition while booted to a recovery partition for me has resulted in failure. However, resizing is possible for both Windows and OS X, if you remove them from their partitions, resize the partitions and then restore them back to their partitions.  FYI, here is some info on Fusion drives: Mac mini (Late 2012 and later), iMac (Late 2012 and later): About Fusion Drive  <answer205955> I had the same problem after an attempt to install Windows 8.1 on my fusion drive. That wouldn't work since windows refused to use the MBR type partition created by bootcamp. Yosemite was running ok, there was just a 300Gb unmovable free space block. I could have left it as it was, but I decided to reinstall Yosemite booting from a USB install drive. It took about 2 hours, after that everything was working again. No free space, no extra little partitions (there were 13 of them), and the recovery partition was present once more. I made a fresh time machine backup just in case, but I ended up not even have to use it. This is consistent with report that the installer is cable of repairing fusion drive issues.  <answer250065> Since El Capitan you can now do this:  From the terminal execute diskutil coreStorage delete lvgUUID  Exit terminal  Start disk utility  When it prompts you to fix the drive say yes.  It will automatically rebuild the Fusion drive.   <comment198072> Do you have a backup of your volume 'Macintosh HD'? Is any important data on your Mac or could you delete all volumes and start from scratch? <comment198115> I made the mistake with the 2 disk1s2. Previously the OP published some huge pics and i ran them through OCR and used the text output. Probably i missed that error. <comment198119> Sorry just noticed this comment now - I am ready to go from scratch. And of course thanks very much for your help on this. I will be online now... <comment198121> @DavidAnderson Yes I think you are right - there is something wrong with the partitions and naming of the volumes thats why I am ready to start with setting this up from scratch and then restoring from a Time Machine copy... Also thanks for having a look into my case. <comment198125> Please add pictures of `gpt -r -vvv show /dev/disk0` and `gpt ... /dev/disk1`  executed in Terminal to your question. I will convert them with an OCR app afterwards. <comment198130> Done. I added them after the first 3. <comment198135> Index NO.4 partition of disk1 must be created by windows installer. I would like to suggest your the remove it if you don't care about windows partition. <comment198183> Comments are not for extended discussion; this conversation has been [moved to chat](http://chat.stackexchange.com/rooms/20535/discussion-on-answer-by-klanomath-i-think-i-messed-up-the-fusion-drive-on-my-1tb). <comment198189> For those with the Time Machine on a network drive like me and wanting to restore without bootable OS X - there is a step-by-step walkthrough here: (http://ialsowent.com/2012/08/13/recovering-from-time-machine-on-nas/) . <comment198404> @klanomath Got you about the Time Machine solution, unfortunately I can't actively participate in chat rooms yet, hence my answer here. FYI - I restored from the NAS and everything works great! Thank you again and let me know where to send the beers? ;) <comment198406> @dalogrus I prefer Wodka ;-). Hmm regarding the chat: I think an admin increasesd your 'temporary chat points' to 50 so that you can participate in this little chatroom. At least your account has shown 50 points there... <comment198409> Ok got the chat to work, will try to reach you on it tomorrow... <comment254434> I can confirm this fix works on El Capitan 10.11 as well thankfully. Life saver! <comment310322> This does not *rebuild* your Fusion drive volume, it ***DELETES*** it.
How to fix very slow server performance on OS X Lion? <body> I have a 2008 Mac Pro (MacPro3.1 -- dual 3 GHz quad-core Xeon, 6GB memory) running Lion (10.7.3) that I'm using for as a server for a business (files, print, media, etc.) as well as a development server for a pretty standard PHP stack.  From time to time, but most of the time, other machines take a VERY long time to reach the machine over the network -- ten seconds to display a trivial html page, for instance.  The problem seems to be one of reaching the machine -- if I watch the apache server logs after making a request, I'll initially see nothing happen, and then a burst of activity once (I'm guessing here) the request reaches the server and gets handled.  But there are other times when performance is fine.    Some details:  ul liI mostly see this with web access, but I sometimes also get long delays in opening up a Screen Sharing or ssh connection to the machine.  Thus I don't think it's an Apache problem.  Restarting Apache also doesn't have any effect./li liIf the problem is happening and I hit the same website from the Mac Pro, performance is OK.  This makes me look towards the network./li liI have another server -- a linux box -- on the same network, and it does not have these problems.  So, unless there's something weird about the domain name, it doesn't seem like it's a problem with my internet service./li liThe machine is typically not under significant load -- top reports the load average as around .3, and my attempts to crank up the load (screen sharing, playing videos, etc.) don't seem to have much impact./li liI've disabled IPv6 in the Network control panel./li liThere's nothing of obvious (to me, anyway) interest in the log files./li /ul  I realize this isn't a lot to go by, but does anyone out there have any insights?  This is starting to be a real issue.  Thanks!  <answer42261> I'm betting that you're using the machine name and depending on Bonjour/mDNS for name resolution, which is almost always machines' last resort (hence the waiting for every other possible means of resolution to give up).  If this is the case, the fix is to use something reliable, like proper DNS, IP addresses, or even hosts files (though this should be avoided too).  <answer42386> If it is not responding to pings (meaning ping is returning "Request timeout"), then the problem is definitely not DNS or anything at the application level.  I see two possibilities:  ul liHardware failure: either a switch or network interface is failing.  Since you have another machine working (presumably) on the same switch, perhaps your ethernet port or ethernet cable have problems.  Try a different cable.  Try setting up another interface (perhaps via WiFi, or better yet via USB ethernet dongle) just so you can ping it and see if it ever goes down./li liConfiguration jitter: something may be causing your network settings to change unexpectedly, similar to if you changed the Network Location.  Check your system.log and console.log.  See what is happening around the times of these outages./li /ul  I have not seen OS X suddenly change its network configuration since 10.5 Server, so hardware failure seems more likely.  But definitely look in your system.log and console.log.  <answer42417> The fact that you're seeing redirects from the router suggests to me that you have some sort of routing issue. Was that happening when you ping from another computer on the same subnet?  If so, the router shouldn't be involved at all (and the redirect is basically its way of saying, "why did you send this to me?").  The situation I'd expect to cause this sort of thing is when the computers (and/or router) don't all agree on what the subnet mask is.  Does everything agree on what the network's address range is?  If that's not the case, it might help if you clarified how your network's set up, and especially how the routers between the Mac and the computer you're pinging from are set up.  <comment48040> No, everything is properly DNSed through my service provider (although I suppose the question had to be asked...:). I'd post a full dig output if you could do formatting in these posts, but the relevant part, I expect, is ";; QUESTION SECTION: ;mysubdomain.mydomain.com. IN A" and ";; SERVER: 70.91.nnn.nnn#53(70.91.nnn.nnn)" (excuse the anonymizing).  Meanwhile, a new experiment: when I ping the server via its IP address, I get either bytes coming back or a Request Timeout... <comment48041> ... .  Sometimes the bytes are a clean return ("64 bytes from 70.91...") and sometimes they're "92 bytes from 192.168.0.myrouteraddress: Redirect Host(New addr: 70.91....).  Does that help? <comment48064> I agree - It sounds like a name resolution issue. Have you tried connecting by the server's ip address? What is handling DNS for your network? <comment48142> When the delays are occurring, is the machine reachable via ping? <comment48173> See response to answer 1 -- sometimes yes, sometimes no. <comment48492> Update: I was working on the server over the weekend -- things never fail when you want them to -- and have reached the conclusion that it's a hardware problem. The randomness of it all makes it hard for me to be certain, but I started experimenting with running the network off the second ethernet interface, and I haven't seen the problem since.  For now, it's working, and I've probably killed enough of my own time and yours that we can all move on. If it returns, I'll probably be back  Thanks to all.
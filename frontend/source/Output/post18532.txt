How does the new "local snapshots" feature of Time Machine in Lion work? <body> Apple's advertising for Lion highlights a new "local snapshots" feature of Time Machine:     OS X Lion lets you take the Time Machine experience with you when you’re away from your Time Capsule or backup drive. Time Machine keeps a spare copy of the files you create, modify, or delete right on your Mac. Now if you accidentally delete a file while on the road, you can recover it from a local copy.   I'm wondering how this integrates with the regular Time Machine backups. Are the "local snapshots" copied to the external Time Machine drive the next time you connect it? And are they then deleted from the internal drive? What if you're doing dual backups with two separate external drives? ...  <answer18549> I haven't found any documentation for this feature yet, so I don't have any specific answers for your questions about interactions with external Time Machine drives.  However, I did do some playing around with the feature while using my laptop on battery.  The first thing I noticed is that local snapshots were not enabled by default – for me, at least. I know that because "entering" Time Machine while my backup drive was detached resulted in the usual error message — until I executed the following from a command line:  precodesudo tmutil enablelocal /code/pre  After I did this, a hidden volume called codeMobileBackups/code was created (in code/Volumes/code) and I was able to "enter" Time Machine. (Perhaps local snapshots weren't enabled on my machine because I have less than 10% free disk space?)  Unfortunately, the feature seems a little half-baked. I tried the following, with pretty unsatisfactory results:  ol liCreated a new folder, code~/Documents/Test/code./li liForced a new snapshot by running codetmutil snapshot/code./li liVerified that a new snapshot was created by looking in code/Volumes/MobileBackups/Backups.backupdb/hostname/Latests/drivename/Users/myname/Documents/code./li liDeleted the codeTest/code folder./li liEntered Time Machine and browsed the backups/snapshots. The codeTest/code folder was not there in any of the backups./li /ol  Update: I installed Lion on a second Mac, and without any explicit action on my part, this Mac has a codeMobileBackups/code volume. emAnd/em restoring deleted files from a local snapshot emworks/em on this Mac.  <comment20418> Have you been able to determine if versions and local store use the same storage structure? <comment20421> I haven't verified this myself because I haven't had the opportunity to use any versioning-enabled apps yet, but according to Siracusa, the answer is no.  See his discussions of [versioning internals](http://arstechnica.com/apple/reviews/2011/07/mac-os-x-10-7.ars/14#versioning-internals) and [Mobile Time Machine](http://arstechnica.com/apple/reviews/2011/07/mac-os-x-10-7.ars/18#mobile-time-machine). <comment20427> I am just still so happy to have `time tmutil startbackup --block` <comment89779> I known it's an old thread, but if you're still alive, I have a very specific question. Did your Time Machine set up to make encrypted backups while your main hard drive was not encrypted?
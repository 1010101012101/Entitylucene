Accidentaly converted from a basic disk to a dynamic one <body> I got a MacBook Pro (13-inch late 2013 retina) So I installed Windows 7 using bootcamp and all was fine. I then needed to create a 32MB FAT16 partition, when Windows prompted me to convert to a dynamic disk, I mistakenly hit enter. When I rebooted PC, the Mac option was gone and if I tried booting into Windows it would BSOD and restart.  I read some guides about using TestDisk, so I tried to do that. I booted with a Xubuntu LiveCD then I scanned and I found an HFS partition that seemed to be the partition I was looking for, so I set it to [P]rimary and wrote it to disk, but it still failed to boot.  Please help! I don't know what to do, I reran TestDisk with Deep Search and uploaded the log file: http://pastebin.com/kpzYuFDp  I don't care about my Windows data, I just want my Mac partition back.  PS: I read that I could do something with pdisk (I assume this is manually editing partition table data), but I have no idea how to do this.  As requested fdisk, gpt and diskutils output:  precodefdisk /dev/disk0 Disk: /dev/disk0    geometry: 14751/255/63 [236978176 sectors] Signature: 0xAA55          Starting       Ending  #: id  cyl  hd sec -  cyl  hd sec [     start -       size] ------------------------------------------------------------------------  1: EE    0   0   2 - 1023 254  63 [         1 -  236978175] &lt;Unknown ID&gt;  2: 00    0   0   0 -    0   0   0 [         0 -          0] unused        3: 00    0   0   0 -    0   0   0 [         0 -          0] unused        4: 00    0   0   0 -    0   0   0 [         0 -          0] unused        gpt -r show /dev/disk0       start       size  index  contents           0          1         PMBR           1          1         Pri GPT header           2         32         Pri GPT table          34   30666498            30666532  138412290      1  GPT part - 48465300-0000-11AA-AA11-00306543ECAC   169078822   67899321           236978143         32         Sec GPT table   236978175          1         Sec GPT header  diskutil list /dev/disk0    #:                       TYPE NAME                    SIZE       IDENTIFIER    0:      GUID_partition_scheme                        *121.3 GB   disk0    1:                  Apple_HFS                         70.9 GB    disk0s1 /code/pre  <answer224757> Windows' Disk Management has overwritten the GUID partition table with something unknown. This usually only effects the partition table but strongnot/strong the content of your disk (though it seems to be gone)! A proper GUID partition table has to be restored.  The particular obstacle here is: the OP neither has a thumb drive nor a second Mac.  strongPreparation:/strong  ul liBackup the whole SSD to an external drive using a Linux Live DVD with codedd if=/dev/sda of=/path/to/file/code. The resulting file's size should be 121.3 GB or 113 GiB!/li liRestart to Internet Recovery Mode by pressing kbdalt/kbd kbdcmd/kbd kbdR/kbd at startup.   The prerequisites are the latest firmware update installed, either ethernet or WLAN (WPA/WPA2) and a router with DHCP activated.br On a 50 Mbps-line it takes about 4 min (presenting a small animated globe) to boot into a recovery netboot image which usually is loaded from an Apple/Akamai server.  I recommend ethernet because it's more reliable. If you are restricted to WIFI and the boot process fails, just restart your Mac until you succeed booting.  Alternatively you may start from a bootable installer thumb drive (preferably Yosemite or El Capitan) or a thumb drive containing a full system (preferably Yosemite or El Capitan). If you boot to a full system and login as admin you have to prepend codesudo/code to execute some commands like codegpt .../code or codenewfs_hfs .../code!/li /ul  strongModify the GUID partition table/strong  ul liOpen Utilities-Terminal in the menubar, enter codediskutil list/code and codegpt -r show /dev/diskX/code (with diskX: the disk identifier of your internal disk (probably disk0)) to get an overview. In the commands below I assume the disk identifier is disk0.  You should get the following listings:  precodegpt -r show /dev/disk0       start       size  index  contents           0          1         PMBR           1          1         Pri GPT header           2         32         Pri GPT table          34   30666498            30666532  138412290      1  GPT part - 48465300-0000-11AA-AA11-00306543ECAC   169078822   67899321           236978143         32         Sec GPT table   236978175          1         Sec GPT header  diskutil list /dev/disk0    #:                       TYPE NAME                    SIZE       IDENTIFIER    0:      GUID_partition_scheme                        *121.3 GB   disk0    1:                  Apple_HFS                         70.9 GB    disk0s1  # disk1-disk13 are volatile disks belonging to Internet Recovery Mode /code/pre/li liNow remove the bogus HFS+ partition:  precodegpt remove -i 1 /dev/disk0 /code/pre/li liAdd the EFI partition in the partition table:  precodegpt add -b 40 -i 1 -s 409600 -t C12A7328-F81F-11D2-BA4B-00A0C93EC93B /dev/disk0 /code/pre/li /ul  hr  strongNow you can either install OS X to a new partiton - without overwriting your old OS X partitions - and try to detect the sizes of the old partitions with appropriate tools (like wxHexEditor) or you can guess the old content of the GUID partition table (with the help of the TestDisk result - not recommended)/strong  hr  strongInstalling a new OS X/strong  This will destroy the content of the Windows partition(s).  ul liAdd a new partition in the (old) OS X part of your disk to protect it.  precodegpt add -b 409640 -i 2 -s 179590360 -t FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF /dev/disk0 /code/pre  This might be superfluous./li liAdd new partitions in the (old) Windows part of your disk. The first one (i=4) is a new system partition, the second one (i=5) a recovery partition. The new OS X partition starts at ~91 GB and has a size of ~26 GB - which shouldn't affect the old (hidden, "lost") OS X partition:  precodegpt add -b 180000000 -i 4 -s 50000000 -t 48465300-0000-11AA-AA11-00306543ECAC /dev/disk0 gpt add -b 230000000 -i 5 -s 1269536 -t 426F6F74-0000-11AA-AA11-00306543ECAC /dev/disk0 /code/pre/li liNow you have to format the new 26 GB partition:  precodediskutil list newfs_hfs -v "TempSystem" -J /dev/disk0s4 #use the proper partition found in diskutil list. It should have a size of ~26 GB newfs_hfs -v "Recovery HD" -J /dev/disk0s5 #use the proper partition found in diskutil list. It should have a size of ~650 MB diskutil mount /dev/disk0s4 /code/pre/li liExit Terminal by entering codeexit/code and quit it./li liOpen emRestore OS X/em and install OS X to the partition emTempSystem/em./li liConfigure the new system and enable internet access. Don't initialize any "unknown" volumes if asked./li liEnable the root user/li liLog-out as admin and log-in as root/li liDownload and install wxHexEditor/li /ul  hr  strongDetect the start block and type of your emold/em OS X volume and the start block of your emold/em Recovery HD with wxHexEditor:/strong  The approach is similar as in my answer here: HFS+ invalid number of allocation blocks  Since the start block of a main partition and the size of a recovery partition have fixed sizes/boundaries you can usually calculate the proper GUID partition entries of your old partition(s).  emHint: While working with wxHexEditor don't use copy and paste. Enter everything manually! You might accidentally write directly to your disk./em  ul listrongJHFS+ or CoreStorage partition?/strong  First you have to determine, if you had a JHFS+ or CoreStorage partition at index number 2.  Open the Calculator. Open wxHexEditor. Check that you work in read-only mode ("Options" - "File mode" - "Read only"). In the menubar go to "Devices" - "Open disk device" - choose the appropriate diskNumber. Probably it's disk0. The disk should have further partitions (disk0s1 - disk0s5). Please try to arrange the wxHexEditor window like in the examples below with straight red lines.  Then hit the "Go to offset"-button (marked with the green circle) and enter 409640 exactly like in the picture below. Sometimes you have to do that twice to jump to the correct sector. Re-check the correct sector by entering the offset (marked red) in the Calculator and divide it through 512.  The first 3 sectors of a CoreStorage partition look like this:  img src="https://i.stack.imgur.com/TkH8f.png" alt="cs"  The first 3 sectors of a JHFS+ partition look like this:  img src="https://i.stack.imgur.com/WjZGw.png" alt="jhfs+"  If you get a fundamentally different picture stop here./li listrongWhere does the Recovery HD partition start?/strong  That's probably the most difficult part because you have to find a string which is not very specific. Jump almost to the beginning of your new main partition (in your case to sector 179999900)  Then enter "HFSJ" like in the picture below, search for this string several times and make readable! stronghand-written/strong notes of the different offsets. To restore your old OS X you have to boot to Internet Recovery Mode later and all on-screen findings in the current temporary OS X will be lost!  The reason to search for the string "HFSJ" is that all HFSJ+ volumes contain this string in the third sector of its partition. The magic string may occur up to 40 times cluttered over ~10000 sectors! Sometimes it's really difficult to find the proper sector. A second indicator for the beginning of the Recovery HD is at least one block of 0xFF in the tenth sector (or block(MagicString)+7) of the partition.  img src="https://i.stack.imgur.com/v2rVO.png" alt="rhd"  You may have two really different results depending on the partition type:  ol liCalculate the sector number of the second last finding. In my example (see picture above) it's 68069452800/512=132948150. Continue searching and calculate the sector of the last finding somewhere in the middle of the disk and surrounded by empty sectors. In my case it was 68069454848/512=132948154 (no picture). The difference between the two finding is 4 blocks (=2 KB).  This is typical for the boundary between a JHFS+ partition and the Recovery HD. The Recovery HD starts then at the sector of the second finding - 2 (in my example 132948154-2=132948152)./li liCalculate the sector number of the first finding. In my example it was 67733904384/512=132292782 (no picture). Continue searching and calculate the sector of the second finding. In my case it was 68069454848/512=132948154 (no picture). The difference between the two findings is 655372 (~336 MB)  This is typical for the boundary between a CoreStorage partition and the Recovery HD. The Recovery HD starts then at the sector of the second finding - 2 (in my example 132948154-2=132948152)./li /ol/li /ul  strongWith these results you should be able to restore your GPT properly. Quit wxHexEditor. If you are asked to save changes don't save them!/strong  ul liBoot back to Internet Recovery Mode and open Terminal/li liEnter codediskutil list/codeand codegpt -r show /dev/disk0/code/li liRemove the second partition (the protective FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF type partition):  precodediskutil umountDisk /dev/disk0 gpt remove -i 2 /dev/disk0 /code/pre/li liSince the EFI and the Recovery HD usually have fixed sizes you can calculate the start and end block of your main volume.  Calculate the size of the main volume: the start block is 409640. The end block has been found in the section "Where does the Recovery HD partition start?": 1 less than the start block of the Recovery HD. The size is then StartBlockOfRecoveryHD-409640./li liIf you've found a classical JHFS+ earlier the following command should fix partition 2:  precodediskutil umountDisk /dev/disk0 gpt add -b 409640 -i 2 -s StartBlockOfRecoveryHD-409640 -t 48465300-0000-11AA-AA11-00306543ECAC disk0 /code/pre/li liIf you've found a CoreStorage partition earlier the following command should fix partition 2:  precodediskutil umountDisk /dev/disk0 gpt add -b 409640 -i 2 -s StartBlockOfRecoveryHD-409640 -t 53746F72-6167-11AA-AA11-00306543ECAC disk0 /code/pre/li liTo rebuild the Recovery HD enter:  precodediskutil umountDisk /dev/disk0 gpt add -b StartBlockOfRecoveryHD -i 3 -s 1269536 -t 426F6F74-0000-11AA-AA11-00306543ECAC disk0 /code/pre/li liNow you may try to mount and verify your old OS X volume:  precodediskutil mount /dev/disk0s2 diskutil verifyVolume /dev/disk0s2 /code/pre  If you get an error mounting or verifying the volume its boundaries might be wrong. Stop here and consult me./li liIf the verification was successful you may either boot to your old OS X volume and check if it works and delete emTempSystem/em and the new Recovery HD later strongor/strong delete both immediately. The downside of booting to your old OS X volume first is that you have to boot to Internet Recovery Mode once more to delete emTempSystem/em and the new Recovery HD./li liTo delete both dispensable partitions booted to Internet Recovery Mode enter:  precodediskutil list gpt -r show /dev/disk0 diskutil umountDisk /dev/disk0 gpt remove -i 4 /dev/disk0 # remove the partition starting at block 180000000 diskutil umountDisk /dev/disk0 # remove the partition starting at block 230000000 gpt remove -i 5 /dev/disk0 /code/pre/li liDepending on the partition type (HFSJ+ or CoreStorage) you may either use codediskutil resizeVolume .../code or codediskutil cs resizeStack .../code to expand your recovered OS X volume./li /ul  hr  After accessing the remote Mac and inspecting the disk the final probable solution seems to be:  Remove the blocking partition  precodediskutil umountDisk /dev/disk0 gpt remove -i 2 /dev/disk0 /code/pre  Restore the old OS X partition table entry  precodediskutil umountDisk /dev/disk0 gpt add -b 409640 -i 2 -s 157173736 -t 53746F72-6167-11AA-AA11-00306543ECAC /dev/disk0 /code/pre  Restore the old recovery HD:  precodediskutil umountDisk /dev/disk0 gpt add -b 157583376 -i 5 -s 1269536 -t 426F6F74-0000-11AA-AA11-00306543ECAC /dev/disk0 /code/pre  The volume (encrypted with FileVault) had a proper volume structure, the superior disk structure was corrupted though. After backing up the volume externally the disk was repartitioned to one partition and the backup was restored.  <comment272528> Hope you had any data under Windows backed up because Windows itself does not provide a nondestructive way to convert dynamic disks to basic disks and you looking at essentially starting over.  There might be a third party utility can can do it nondestructively however not sure how you'd run it since you cannot boot Windows now.   Supposedly [EaseUS Partition Master](http://www.partition-tool.com/professional.htm) can do it however again not sure how you'll be able to run it. <comment272569> @klanomath Pasted the result to my question. user3439894 I don't care about my Windows data, I just need my Mac data back. <comment272570> @user167173 Do you remember the rough sizes of the OS X and the Windows partition? And do you have an empty thumb drive or an external disk with at least 16 GB **or** and an external thumb drive/disk with OS X already installed? <comment272584> @klanomath Windows partition was 40GB, OS X partition was the rest(I'd say 70-80GB). Yes, I have an external 1TB drive. No I don't have a thumb drive with OS X. Thanks in advance! <comment272585> @user167173 I have already answered a similar question earlier. It's a complex recovery procedure. Do you have a decent internet connection and are you content that I support you via Teamdrive if necessary? Where do you live (TimeZone only)? <comment272589> My answer is [here](http://apple.stackexchange.com/a/222792/93229). It's no 1:1 answer. Some steps aren't necessary in your case; so **don't** start immediately. I will write a separate answer. Since some steps in my answer depends on your interactions/replies I can't write a final answer immediately. <comment272590> @klanomath Hey, my timezone is GMT+3 and I got a 60mbit connection and I am okay with you supporting me. <comment272591> @user167173 Do you have a backup of your main (vanished) OS  X volume? What type of file system has the main volume on the **external** drive and do you have about 130 GB free space if the file system is HFS+? <comment272592> @klanomath Got Skype or Jabber? <comment272593> @klanomath I am currently imaging the SSD on my mac using Xubuntu Live and dd. The external drive is currently partitioned as 256GB ext3, rest(around 700GB) as unallocated. <comment272595> @klanomath please do. I think it would be easier for us to chat there <comment272596> http://chat.stackexchange.com/rooms/34794/accidentaly-converted-from-a-basic-disk-to-a-dynamic-one <comment272597> @klanomath It seems that I don't have enough reputation to chat. <comment272599> @klanomath Can't chat, it says I need 20rep. <comment272602> @klanomath I can see what you are writing, but I can't chat myself as I don't have needed rep. I created an instant chatroom https://tlk.io/klanomath   We can just post transcript here after everything. <comment272603> @klanomath I still can't chat in the link you posted.
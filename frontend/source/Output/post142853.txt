Connecting to EC2 Amazon using iTerm and .pub-file <body> How can I setup my iTerm to connect my amazon server using the .pem file I have been given.  When I try codessh PUBLIC-DNS/code it returns codePermission denied (publickey)./code.  strongEDIT/strong  I have now tried the following without log, including a debug log:  precodeMarks-MacBook-Air:.ssh mark$ ssh -i s1.pem -v ubuntu@**********.amazonaws.com OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011 debug1: Reading configuration data /etc/ssh_config debug1: /etc/ssh_config line 20: Applying options for * debug1: Connecting to ************.amazonaws.com [***.***.***.***] port 22. debug1: Connection established. debug1: identity file s1.pem type -1 debug1: identity file s1.pem-cert type -1 debug1: Enabling compatibility mode for protocol 2.0 debug1: Local version string SSH-2.0-OpenSSH_6.2 debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2 debug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2 pat OpenSSH* debug1: SSH2_MSG_KEXINIT sent debug1: SSH2_MSG_KEXINIT received debug1: kex: server-&gt;client aes128-ctr hmac-md5-etm@openssh.com none debug1: kex: client-&gt;server aes128-ctr hmac-md5-etm@openssh.com none debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;8192) sent debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP debug1: SSH2_MSG_KEX_DH_GEX_INIT sent debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY debug1: Server host key: RSA **:**:**:**:**:**:**:**:**:**:**:**:**:**:**:** debug1: Host '**************.amazonaws.com' is known and matches the RSA host key. debug1: Found key in /Users/mark/.ssh/known_hosts:2 debug1: ssh_rsa_verify: signature correct debug1: SSH2_MSG_NEWKEYS sent debug1: expecting SSH2_MSG_NEWKEYS debug1: SSH2_MSG_NEWKEYS received debug1: Roaming not allowed by server debug1: SSH2_MSG_SERVICE_REQUEST sent debug1: SSH2_MSG_SERVICE_ACCEPT received debug1: Authentications that can continue: publickey debug1: Next authentication method: publickey debug1: Offering RSA public key: /Users/mark/.ssh/id_rsa debug1: Authentications that can continue: publickey debug1: Trying private key: s1.pem debug1: read PEM private key done: type RSA debug1: Authentications that can continue: publickey debug1: No more authentication methods to try. Permission denied (publickey). /code/pre  Please note that I have removed the following informations codeSERVER IP/code, codePUBLIC DNS/code and codeRSA KEY/code  <answer142865> codessh -i /path/to/keypair.pem user@host/code should do it.  <comment168293> I have now tried the above without luck. But have posted a log above in my answer. <comment168294> You might also need to `chmod 400 /path/to/keypair.pem` <comment168296> The default user for EC2 instances depends on the source of the AMI you're using to spawn the instance. Can you please provide a link to the AMI you're starting your instance from? FWIW Amazon usually uses `ec2-user` as the default user, not `ubuntu`. <comment168371> Already did this since I before got the error `Permissions 0666 for 's1.pem' are too open.`. Any other ideas? <comment168374> The default user for ubuntu on `ec2` is `ubuntu`. It says on thir documentation page. But even with the user `ec2-user` it still returns `Permission denied (publickey).`. <comment168375> I noticed in my debugging process that it says `debug1: Offering RSA public key: /Users/mark/.ssh/id_rsa`, which is not the key for this server, but is used for another server that my job helped me configure. So why does it tries to use this RSA key? <comment282102> Have a look for `/Users/mark/.ssh/id_rsa` in your `/Users/mark/.ssh/config` file - it's possible that some other directive is setting that as the identity file.
Compiling / installing shotdetect for OS X <body> I would like to find scene changes in a video with this command line tool:     Shotdetect is a free software (LGPL) which detects shots and scenes   from a video.   Dependencies are:     sudo apt-get install libavdevice-dev libavformat-dev   libgd2-noxpm libgd2-noxpm-dev   What I did already:  ul licodegit clone https://github.com/johmathe/Shotdetect.git/code/li licodemkdir -p build; cd build; cmake -D USE_WXWIDGETS:BOOL=OFF ../code/li /ul  I get this error message (full output):  precodeCMake Error at cmake/FindGD.cmake:112 (MESSAGE):   Could not find GD library Call Stack (most recent call first):   CMakeLists.txt:85 (FIND_PACKAGE) /code/pre  I have homebrew installed, but I do not know how to map the dependencies mentioned above to a codebrew install .../code command.  strongIs homebrew the way to go? If so, what would be the "install" command?/strong  PS. I am on OS X 10.8.5 with Xcode 5.0.2 and Xcode Command Line Tools installed.  <answer120520> h2How to compile/h2  h3Easy version (late 2015)/h3  ul limake sure you have homebrew installed/li liinstall dependencies  /li lidownload source code:br codegit clone https://github.com/johmathe/Shotdetect.git/codebr codecd Shotdetect/code/li lirun install script: code./compile.sh all/code/li lifind the binary "shotdetect-cmd" in the codebuild/code directory./li lifor details, check strongHow to use/strong section below /li /ul  h3Old version (up to late 2015)/h3  pre class="lang-bash prettyprint-override"codebrew install gd    # ... obviously, http://brew.sh is needed for this! git clone https://github.com/johmathe/Shotdetect.git cd Shotdetect /code/pre  I found XML output was broken as of 2014-02-11, so I applied these two patches. This might be a hack:  pre class="lang-bash prettyprint-override"codecurl https://patch-diff.githubusercontent.com/raw/johmathe/Shotdetect/pull/8.patch | git apply curl https://patch-diff.githubusercontent.com/raw/johmathe/Shotdetect/pull/9.patch | git apply /code/pre  Finally:  pre class="lang-bash prettyprint-override"codemkdir -p build; cd build cmake -D USE_WXWIDGETS:BOOL=OFF ..    # make sure you include the two dots! :) make /code/pre  The resulting binary is codeshotdetect-cmd/code.  h2How to use/h2  Here is a sample command that worked for me:  code./shotdetect-cmd -i test.mp4 -o outputDir  -s 60 -w -v -f -l -m -r -a FOO/code  Flags explained:  precode-i file      : input file path -o path      : output path (MUST exist already) -a id        : (required!) movie ID (alphanumeric, creates subfolder in output path) -s threshold : threshold (optional, default=75, 60 is recommended in the docs(??))  -w           : generate xml of audio -v           : generate xml of video infos  -m           : generate the thumbnail images -r           : generate the images in native resolution  -f           : generate 1st image for each shot  ( -m or/and -r flags must be set) -l           : generate last image for each shot ( -m or/and -r flags must be set) /code/pre  h2Troubleshooting/h2  On a second install in spring of 2015, shotdetect complained:  precodedyld: Library not loaded: /usr/local/lib/libtiff.5.dylib   Referenced from: /usr/local/lib/libgd.3.dylib   Reason: image not found Trace/BPT trap: 5 /code/pre  I could fix this with codebrew reinstall libtiff/code.  <comment140547> You are missing dependencies(listed in the apt-get install command). Check if you can install them via homebrew, if not you have to compile them by yourself and after that compile shotdetect. <comment140697> libavdevice and libavformat are a part of ffmpeg, so do brew install ffmpeg if it warns about that. <comment210943> This works and goes through the entire process but I get an error at the end. It creates most of the output but not the results.xml which is the most important one. GD Error: gd-png: fatal libpng error: Wrote palette index exceeding num_palette GD Warning: gd-png error: setjmp returns error condition I/O error : No such file or directory I/O error : No such file or directory
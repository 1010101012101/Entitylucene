Cannot use ssh/ping domain name after connecting to openvpn <body> I've got two macs, both on the same network, both using Tunnelblick to connect to vpn. Both with same settings. Both connect fine and both have the same settings for DNS and search domain applied after connection. The only difference actually is that one is Lion and second one is Mountain Lion. That's the end of the differences.  After connecting to my vpn on Mountain Lion I cannot ping nor ssh to any address using domain name. And I don't mean local/private domain. I mean google.com for example. Nothing! However, when using nslookup/dig/host domain name is resolved just fine. On the second machine with Lion everything works just fine. With the exact same settings.  Any thoughts?  I've already tried adding -AlwaysAppendSearchDomains and it didn't work [why would it, google.com is not under the search domain specified in my dns settings...].  <answer93378> I solved my problem by switching to Vicosity. After installing Viscosity I imported my Tunnelblick configuration and have been able to connect to the VPN of my company instantly. In opposite to Tunnelblick Viscosity is not free. But the price is fine for me.  <answer93649> Currently the solution for tunnelblick [ver 3.3 beta 54] is to manually configure DNS settings to have two entries: 1. your VPN dns address 2. your regular dns address  for me it looks like this:  precode1. 10.10.0.1 2. 8.8.8.8 /code/pre  I know it's not perfect, but it works. I guess that for most people it shouldn't be a problem, especially that in osx you can configure multiple network profiles which will automatically switch when they detect changes in your network configuration.  <answer228915> strongTLDR/strong: add codelist push "dhcp-option DOMAIN lan"/codein the vpn server config. Server config is in /etc/openvpn/server.conf or /etc/config/openvpn or some other place.  strongExplanation:/strong  After a lot of investigation I found out why it didn't work. Imagine in the network where the vpn server is I have a machine called codearch/code. If I am in the same network pinging arch works.  Now when I connect though the vpn I want to ping arch. But it fails. if I do codedig arch/code or codehost arch/code it works. Where's the problem?  Using wireshark I found out that locally if I codeping arch/code it queries the DNS for codearch.lan/code (my dhcp supplies a codelan/code search domain).  I tried codedig arch/code - works.  I also tried codedig arch.lan/code - also works.  When I connect through the vpn (tunnelblick) I checked what it does when I do codeping arch/code, and it does a DNS query for codearch.openvpn/code.  Where does the codeopenvpn/code come from? Well, it's a stupid Tunnelblick default. TunnelBlick supplies an extra codeopenvpn/code search domain.  How do we fix it, well we can say to the vpn server to "push" to all vpn clients a search domain which overrides the stupid default from TunnelBlick. That's the line in the top.  I tried viscosity it didn't work prior to the "pushing". Unfortunaly I uninstalled it before I started sniffing with Wireshark. So not sure what the problem with it was.  <comment109446> Same problem here. Did you find a solution for this problem? <comment109506> Not really. The only solution for me was to manuall enter the DNS address from vpn [even though it was exactly the same as the address updated by tunnelblick]. it seems that tunnelblick/openvpn is missing a step which would flush/update the dns system on newer mac. <comment109547> BTW, adding the DNS server manually was the only way to solve this issue before switching to an other VPN client. Indeed I had to add two DNS serer. The internal of my company and a public one. Somehow I wasn't able to resolve public names while being connected. <comment168720> You tried adding `-AlwaysAppendSearchDomains` to what? <comment168754> Yes, but it doesn't work even for fully qualified domains. <comment279135> Tried it - doesn't work. <comment279138> What did you try? Installing Viscosity? <comment279172> yes, same result as in tunnelblick, I managed to fix the problem another way
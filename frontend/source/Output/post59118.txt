How can I mount partition disk0s4 that became inaccessible after a clean installation of Mountain Lion? <body> The hard drive on my MacBook Pro has two partitions. One with the OS and the other with data.  Yesterday, from a USB boot drive, I performed a clean installation of Mountain Lion to the OS drive. I created the USB boot installer from InstallESD.dmg that I received from purchasing the OS from the Mac App Store.  Now I can't see or mount my data partition.  I'm wondering if there's a problem with the MBR. In Disk Utility it shows up as "disk0s4", but it's greyed out.  Any ideas on how I can mount the data partition so I can get my data off it?  For codediskutil list disk0/code the result is:   precode/dev/disk0    #:                                 TYPE NAME         SIZE       IDENTIFIER    0:                GUID_partition_scheme             *500.1 GB   disk0    1:                                  EFI              209.7 MB   disk0s1    2:                            Apple_HFS MacBook OS    99.5 GB   disk0s2    3:                           Apple_Boot Recovery HD  650.0 MB   disk0s3    4: 46860E2C-2310-4F96-99F6-616D0B4CB55D              399.6 GB   disk0s4 /code/pre  Here's the result of codediskutil info /dev/disk0s4/code  precodeDevice Identifier:        disk0s4 Device Node:              /dev/disk0s4 Part of Whole:            disk0 Device / Media Name:      MacBook Data  Volume Name:              Not applicable (no file system)  Mounted:                  Not applicable (no file system)  File System:              None  Partition Type:           46860E2C-2310-4F96-99F6-616D0B4CB55D OS Can Be Installed:      No Media Type:               Generic Protocol:                 SATA SMART Status:             Verified  Total Size:               399.6 GB (399629668352 Bytes) (exactly 780526696 512-Byte-Blocks) Volume Free Space:        Not applicable (no file system) Device Block Size:        512 Bytes  Read-Only Media:          No Read-Only Volume:         Not applicable (no file system) Ejectable:                No  Whole:                    No Internal:                 Yes Solid State:              No /code/pre  <answer59127> Interestingly, two Google results if you search for that GUID, em46860E2C-2310-4F96-99F6-616D0B4CB55D/em.  One of them refers to a command that might set the partition type back to Apple_HFS (assuming it was that in the first place?), so might be worth a go?  precodesudo asr adjust --target /dev/disk0s4 --settype "Apple_HFS" /code/pre  Source: http://help.bombich.com/discussions/questions/12878-unable-to-boot-from-local-disk-after-verify-step  [Edit: seems like my asr on Mountain Lion doesn't have an strongadjust/strong argument to codeasr/code] :(  <answer59166> h1Mounting the volume/h1  h2Disk Utility verification and possible repair of the partition map/h2  If you have not already done so, use Disk Utility 13 (426) in OS X 10.8 to select then verify:   ul listrongnot/strong the greyed-out partition/li liinstead, the physical disk that contains the partition./li /ul  If verification reveals a problem with the partition map, then consider allowing Disk Utility to attempt a repair.   h2Proceeding without Disk Utility/h2  Credit to Caesium's answer for finding the codeasr/code suggestion.   Here with a disposable JHFS+ volume, an example of adjustments working as expected. Note the file system checks:   precodemacbookpro08-centrim:~ gjp22$ diskutil unmount /dev/disk12s1 Volume sandpit on disk12s1 unmounted macbookpro08-centrim:~ gjp22$ sudo asr adjust --target /dev/disk12s1 --settype "Apple_UFS" Fsck /dev/disk12s1 ....10....20....30....40....50....60....70....80....90....100 Adjust completed successfully macbookpro08-centrim:~ gjp22$ diskutil list disk12 /dev/disk12    #:                       TYPE NAME                    SIZE       IDENTIFIER    0:      GUID_partition_scheme                        *256.9 MB   disk12    1:                  Apple_UFS sandpit                 256.9 MB   disk12s1 macbookpro08-centrim:~ gjp22$ diskutil mount readOnly /dev/disk12s1 Volume on disk12s1 failed to mount macbookpro08-centrim:~ gjp22$ sudo asr adjust --target /dev/disk12s1 --settype "Apple_HFS" Fsck /dev/disk12s1 ....10....20....30....40....50....60....70....80....90....100 Adjust completed successfully macbookpro08-centrim:~ gjp22$ diskutil mount readOnly /dev/disk12s1 Volume sandpit on /dev/disk12s1 mounted macbookpro08-centrim:~ gjp22$  /code/pre  If the type of your own code/dev/disk0s4/code can not be safely adjusted or (re)set to codeApple_HFS/code then:   ul lithe operating system may no longer work with the HFS Plus file system (or remnants thereof) that occupies, or occupied, the affected area of the physical disk; and /li liyou might doubt the integrity of the partition (start and end blocks, and so on). /li /ul  Relevant lines from code/private/var/log/install.log/code should reveal what, if anything, happened to codedisk0s4/code before, during or after installation of the OS to codedisk0s2/code. This logged information may become critical to regaining easy access to the data.   h1Getting the data without mounting the volume/h1  Good luck with your use of Data Rescue 3 – I have the app, but have never attempted to recover from any area of a disk where the partition type has been affected in this way.   hr  h1Observations/h1  h2Device/media name/h2  This is sometimes, not always, a match for the volume name. Here for example:  precodemacbookpro08-centrim:~ gjp22$ diskutil info disk0s2 | grep Name:    Device / Media Name:      swap    Volume Name:              swap macbookpro08-centrim:~ gjp22$ diskutil info disk0s4 | grep Name:    Device / Media Name:      Untitled    Volume Name:              spare /code/pre  For Todd K., presence of the device/media name –     MacBook Data   – raises hope that start and end blocks etc. are good, that only the codetype/code of the partition is wrong.   h2No Recovery System 10.8 for OS X 10.8/h2  emRecovery HD/em implies Recovery OS 10.7.x.   In any case such as this, an installation that is incomplete (that is without the expected upgrade to the codeApple_Boot/code slice) signals that a nonstandard method of installation – with only part of Apple's installer app – may have been used.   h2Side note/h2  emGUID Partition Table/em, as it's described in Disk Utility, is the norm for this type of modern installation of OS X – not Master Boot Record.   <answer59247> Download testdisk and refer to the embedded instructions. It is a very powerful piece of software, so use it carefully. It will rebuild disk0s4’s partition and then the filesystem. All your files will be back as it is. I recommend this because it is very user friendly and I saved 2000 bucks on data recovery because of testdisk.  <answer82095> I had the same issue, I had to rsync data out of the partition, delete and recreate and re-move data back again..   <comment68141> /dev/disk0    0: GUID_partition_scheme  *500.1 GB   disk0    1: EFI  209.7 MB   disk0s1    2: Apple_HFS MacBook OS  99.5 GB    disk0s2    3: Apple_Boot Recovery HD  650.0 MB   disk0s3    4: 46860E2C-2310-4F96-99F6-616D0B4CB55D  399.6 GB   disk0s4 <comment68171> I installed from a USB boot disk I created.  Upgraded on several other machines with no issues.  I'm trying a demo of ProSoftEng's Data Rescue 3 now.  I just want to get my data! <comment68172> Did you use `InstallESD.dmg` alone (without Install OS X Mountain Lion.app) to produce that USB boot disk? Please edit the opening question to include the information … and for the moment, set aside thoughts of other machines; let's focus on this one – thanks. <comment68184> I tried the sudo command and received the following message: Volume adjustment failed: Unknown error: -123 <comment68195> The `adjust` verb of [asr](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man8/asr.8.html) seems to be undocumented by Apple, but understood elsewhere, for example justindelliott/[PartitionAndRestoreLionRecoveryHD](https://github.com/justindelliott/PartitionAndRestoreLionRecoveryHD). I can find no information about the unknown error code. <comment68254> For at least one build of Lion: `Install.ESD` was **not** applicable to all Lion-capable Macs. [Wonder](http://apple.stackexchange.com/q/59239/8546) whether the same is true for Mountain Lion. <comment68300> I'm trying it now.  It's the first tool that's even recognized the missing partition.  I'll post the outcome.  Thanks! <comment68303> Is it normal for the "quick search" to take a long time? <comment68307> No. You probably entered deep search. Did you specify GPT/EFI as the partition table type? You should have written the partition table when it recognised the missing partition. Check the Readme file. <comment68328> The readme.txt file just refers me to the web resources. After running the sudo option, I see the drive listed four times as: /dev/disk0, /dev/disk3, /dev/rdisk0 and /dev/rdisk3.  I can see the "MacBook Data" partition on /dev/rdisk0.    It tells me that write access for this media is not avaiable.  Do I need to boot in a recovery mode and not in the OS? <comment68329> Whenever I try to "write", I get an error. Ugh. <comment68334> Oh yeah I forgot that! You have to boot from the Recovery HD or other recovery media. <comment68338> I can boot from the Recovery HD, but how can I access testdisk within Recovery?  Do I need to use Terminal? Any tips on this? <comment68413> You have to learn some basic Terminal for that. Navigating within directories and stuff. I can’t help you step by step as your disk and directory structure will be obviously different from mine. Also, you have to boot from an EXTERNAL Recovery HD. This (http://support.apple.com/kb/DL1433?viewlocale=en_US&locale=en_US) article will help you create an external Recovery HD. <comment68535> Did you get going? Please update your progress regularly. <comment68731> The answer from @DeepanshuUtkarsh helped me to find other questions that may be of interest: [Best resources on data recovery from corrupted OS X HFS+ partitions](http://apple.stackexchange.com/q/4326/8546) (2010-11-24), [Recover partitions or data after partition map becomes corrupted (HFS+)](http://apple.stackexchange.com/q/13690/8546) (2011-05-07) and [How to recover a deleted/replaced HFS+ partition from external drive?](http://apple.stackexchange.com/q/52932/8546) (2012-06-05). <comment68732> A most promising answer (though I never needed to use TestDisk). For simplicity, I might recommend installing OS X (not Recovery OS alone) to the external drive; the resulting environment will be more familiar.
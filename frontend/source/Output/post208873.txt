How to run script on startup and shutdown OS X El Capitan <body> Actually I want to make a RAM drive related to this script on my Mac.  Here is what I did:    ol liDisabled SIP in recovery mode using command "csrutil"  /li liCreated a plist file in /Library/LaunchDaemons/br and entered codelaunchctl -w /Library/LaunchDaemons/vn.magik.ramdisk.plist/code  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt;     &lt;dict&gt;         &lt;key&gt;Label&lt;/key&gt;             &lt;string&gt;vn.magik.ramdisk&lt;/string&gt;         &lt;key&gt;ProgramArguments&lt;/key&gt;             &lt;array&gt;               &lt;string&gt;/Users/khacpm/ramdisk.sh&lt;/string&gt;             &lt;/array&gt;         &lt;key&gt;RunAtLoad&lt;/key&gt;             &lt;true/&gt;         &lt;key&gt;StandardOutPath&lt;/key&gt;             &lt;string&gt;/Users/khacpm/ramdisk.log&lt;/string&gt;         &lt;key&gt;StandardErrorPath&lt;/key&gt;             &lt;string&gt;/Users/khacpm/ramdisk.err&lt;/string&gt;     &lt;/dict&gt; &lt;/plist&gt; /code/pre/li liCreated .sh file and put it in ~/ramdisk.sh  code:  precodefunction fstartup() {     //put folder into ramdisk } function fshutdown() {     //detach ramdisk }  function framdisk() {     //do something } trap fshutdown SIGTERM trap fshutdown SIGKILL fstartup; /code/pre/li /ol  The problem is, the function fstartup runs well but it seems like function fshutdown isn't called by the system.  <answer209397> I found one bug in my script: Missing these lines in function fshutdown:  precodetail -f /dev/null &amp; wait $! /code/pre  the correct function is:    precodefunction fstartup() {     //put folder into ramdisk } function fshutdown() {     //detach ramdisk      tail -f /dev/null &amp;      wait $! }  function framdisk() {     //do something } trap fshutdown SIGTERM trap fshutdown SIGKILL fstartup; /code/pre  base on apple document, When the system shuts down, it sends a SIGTERM signal to all of the daemons that it started.br But my old script will execute and close itself after it started.br You need to make your script alive and wait for Sigterm signal by adding some functions like "sleep" or "wait" to make the script alive.    <comment251843> Have you tried disabling SIP to see if your scripts are even compatible with that new protection? <comment251855> I set the nvram rootless=0 already. but it not work <comment251857> You can't modify /System with sip. I'll answer how to disable that <comment251860> Thanks god, I boot into recovery mode and disable SIP with command "csrutil disable" and now I can modify /System folder. But sadly what I want still not work, the script not run on startup and shutdown <comment252564> If the removal of the bug solved your problem, please add an explication whether and why this solved your question in your answer.
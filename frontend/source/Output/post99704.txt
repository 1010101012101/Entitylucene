Why does iterating over a list in applescript with `repeat with … in` fail with error code `-1731` part way through the list? <body> I have this script for ensuring that every track in a given smart playlist is both shufflable and bookmarkable.  The script is inteded to be launched via launchd.  All of this is set up fine except that the script exhibits strange behavior. When you run it, some of them succeed but the majority seem to fail due to error code code-1731/code. Subsequent runs the same behavior happens until you have no more shufflable and bookmarkable tracks.  I would expect that if the code errors on the first run it would keep erroring but that's not what happens.  What's happening here?  <answer99705> As a emcomplete/em hack, this seems to do the trick.  Note that it's super unsatisfying so I'm still very interested in hearing a better response.  <answer99726> Add an explicit get to resolve the reference to the tracks:  precodetell application "iTunes"     repeat with t in (get tracks of playlist "Listen Smart" where shufflable is false)         set shufflable of t to true     end repeat     repeat with t in (get tracks of playlist "Listen Smart" where bookmarkable is false)         set bookmarkable of t to true     end repeat end tell /code/pre  Try running a script like this:  precodetell application "iTunes"     repeat with t in (tracks of playlist "Listen Smart" where shufflable is false)         t     end repeat end tell /code/pre  If the playlist has three tracks where shufflable is false, the result at the end will be something like codeitem 3 of every track of playlist "Listen Smart" of application "iTunes" whose shufflable = false/code. If you set the shufflable of the first two tracks to true inside the repeat loop, there won't be an item 3 where shufflable is false.  If you replace coderepeat with t in (tracks/code with coderepeat with t in (get tracks/code, the result at the end will be something like codeitem 3 of {file track id 54774 of user playlist id 54771 of source id 73 of application "iTunes", file track id 54775 of user playlist id 54771 of source id 73 of application "iTunes", file track id 54776 of user playlist id 54771 of source id 73 of application "iTunes"}/code.  <comment117307> I would bet that the failure isn't random. <comment117422> I think I understand now. I believe what you're pointing out is that the list I'm consuming with the `repeat … in` is actually mutating under the hood but the counter that I'm repeating over is not so I'm actually erroring when I consume half the list each time because half the last is now gone. Could you make that a little more explicit in your answer if that's what you're going for? It took me a little while to see it and I think other people would have the same difficulty. <comment117480> @TimVisher I edited the answer. The list is not mutating, but it contains references like `item 123 of every track of playlist "Listen Smart" of application "iTunes" whose shufflable = false`.
Yosemite hdiutil: create failed - error -5341 <body> I could successfully use hdiutil for creating a dmg file for my program in Mountain Lion, but after upgrading to Yosemite (and after updating it to 10.10.1), when I execute  precodehdiutil create -srcfolder build/Thonny.app Thonny-0.2.5.dmg /code/pre  I get following error:  precodehdiutil: create failed - error -5341 /code/pre  Verbose mode didn't reveal anything useful.  Folder build/Thonny.app contains a Python application.  Any idea what this error means and what to try next?  UPDATE: Looks like the number of files in my app affects the result. When I remove one of the files (doesn't matter which one), then the command is able to produce the result. Currently there are about 70 files and few folders under Thonny.app/Contents/MacOS  <answer157004> Looks like I found a workaround. If I do   precodehdiutil create -srcfolder build Thonny-0.2.5.dmg /code/pre  instead of   precodehdiutil create -srcfolder build/Thonny.app Thonny-0.2.5.dmg /code/pre  (ie provide the parent of the app folder instead of app folder itself), then it works.   <answer177071> I had the same error -5341 and was able to work around it with the -megabytes option as suggested here.  precodehdiutil create -megabytes 130 Reassembly.dmg -srcfolder Reassembly /code/pre  In this case the Reassembly directory is 107M and the resulting Reassembly.dmg is 97M. The code-size 130m/code option did not work for me. My issue was intermittent - adding or removing one or two files would fix it or break it.  <comment184608> What's the command you type ? <comment184611> Try to set a filesize <comment184616> @Thomas, no luck, "hdiutil create -size 200k -srcfolder build/Thonny.app Thonny-0.2.5.dmg" gives me "hdiutil: create failed - Operation not permitted" <comment184620> And with a sudo ? <comment184622> Same result with sudo <comment184623> Another thread I found and what could be useful for people having similar problem: http://stackoverflow.com/questions/18621467/error-creating-disk-image-using-hdutil <comment265761> I had a similar problem, but had to use `-megabytes 900` instead of `-megabytes 130`. Note that I didn't try any intermediate values, but just wanted to choose a number that I was hoping was "large enough". With a value of 130, I got the message `hdiutil: create failed - No space left on device`
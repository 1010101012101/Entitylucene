Kernel panics and GPU restarts on MacBook <body> I've been getting GPU restarts and even some kernel panics multiple times a day on my Early 2015 13-inch retina MacBook Pro running Sierra 10.12.6 beta. The crashes tend to happen when I'm working in Unity (the game engine) and visual studio (for mac), but a reinstall for both of them did not fix the problem. After many google searches I can't find others using Unity that have this problem, so I don't believe Unity is the root of the problem.  Even weirder is when the GPU resets, my laptop stays running in a glitched, mostly unusable state. Black bars and UI glitches cover half the screen, but I'm still able to do some stuff. Logging out and back in seems to fix it. Here are two dumps, one kernel and on GPU:  precodeSun Jul  2 18:51:33 2017  *** Panic Report *** panic(cpu 0 caller 0xffffff8009bff2dd): Kernel trap at 0xffffff7f8c55b1ba, type 14=page fault, registers: CR0: 0x000000008001003b, CR2: 0xffffff802f5b7794, CR3: 0x0000000260943076, CR4: 0x00000000003627e0 RAX: 0x000000000000002c, RBX: 0xffffff8024209000, RCX: 0xffffff802bd202d0, RDX: 0xffffff802f5b7700 RSP: 0xffffff9139b93660, RBP: 0xffffff9139b936b0, RSI: 0x0000000000055050, RDI: 0x0000000000000021 R8:  0x000018ec1913178d, R9:  0x000000000000002a, R10: 0x0000000000000000, R11: 0xffffff8000a8a810 R12: 0xffffff80edc6a000, R13: 0xffffff8022d49800, R14: 0xffffff8022d49800, R15: 0xffffff8022d49800 RFL: 0x0000000000010202, RIP: 0xffffff7f8c55b1ba, CS:  0x0000000000000008, SS:  0x0000000000000010 Fault CR2: 0xffffff802f5b7794, Error code: 0x0000000000000002, Fault CPU: 0x0, PL: 0, VF: 1  Backtrace (CPU 0), Frame : Return Address 0xffffff9139b932f0 : 0xffffff8009aea53c  0xffffff9139b93370 : 0xffffff8009bff2dd  0xffffff9139b93550 : 0xffffff8009a9b593  0xffffff9139b93570 : 0xffffff7f8c55b1ba  0xffffff9139b936b0 : 0xffffff7f8c57604f  0xffffff9139b936e0 : 0xffffff7f8c575f41  0xffffff9139b93740 : 0xffffff7f8c55aac1  0xffffff9139b937b0 : 0xffffff7f8c2e6de1  0xffffff9139b937f0 : 0xffffff7f8c572e8f  0xffffff9139b93840 : 0xffffff7f8c2ebc78  0xffffff9139b93890 : 0xffffff7f8c573d9e  0xffffff9139b938e0 : 0xffffff7f8c56d711  0xffffff9139b93920 : 0xffffff7f8c2eaa06  0xffffff9139b93960 : 0xffffff7f8c2eaec3  0xffffff9139b93990 : 0xffffff7f8c2f0c3f  0xffffff9139b939e0 : 0xffffff7f8c57315b  0xffffff9139b93a30 : 0xffffff7f8c2e8b1d  0xffffff9139b93ac0 : 0xffffff800a0e54a9  0xffffff9139b93b20 : 0xffffff800a0e34d2  0xffffff9139b93b80 : 0xffffff800a0ec391  0xffffff9139b93cc0 : 0xffffff8009bbe2f8  0xffffff9139b93dd0 : 0xffffff8009aef7bc  0xffffff9139b93e30 : 0xffffff8009acbfb1  0xffffff9139b93e80 : 0xffffff8009ae0777  0xffffff9139b93f10 : 0xffffff8009beb1d8  0xffffff9139b93fb0 : 0xffffff8009a9bdb6        Kernel Extensions in backtrace:          com.apple.iokit.IOAcceleratorFamily2(311.13)[4E8ED752-4109-3D72-9C13-D26BD3B108CF]@0xffffff7f8c2e3000-&gt;0xffffff7f8c372fff             dependency: com.apple.iokit.IOPCIFamily(2.9)[F5738B0D-BC87-3C5A-943E-A4A721F22EE8]@0xffffff7f8a332000             dependency: com.apple.iokit.IOGraphicsFamily(515.3)[A423518D-758D-3021-A111-A59F44D760A8]@0xffffff7f8b053000          com.apple.driver.AppleIntelBDWGraphics(10.2.5)[0CA54DCC-0C6F-360E-B391-5D7D03407BC7]@0xffffff7f8c52c000-&gt;0xffffff7f8c5c3fff             dependency: com.apple.iokit.IOSurface(159.7)[6BEC9451-2A51-3F4B-AA52-44C47DA08AED]@0xffffff7f8af14000             dependency: com.apple.iokit.IOPCIFamily(2.9)[F5738B0D-BC87-3C5A-943E-A4A721F22EE8]@0xffffff7f8a332000             dependency: com.apple.iokit.IOGraphicsFamily(515.3)[A423518D-758D-3021-A111-A59F44D760A8]@0xffffff7f8b053000             dependency: com.apple.iokit.IOAcceleratorFamily2(311.13)[4E8ED752-4109-3D72-9C13-D26BD3B108CF]@0xffffff7f8c2e3000  BSD process name corresponding to current thread: Unity Boot args: rootless=1  Mac OS version: 16F71b  Kernel version: Darwin Kernel Version 16.6.0: Mon Apr 17 17:15:27 PDT 2017; root:xnu-3789.60.24~21/RELEASE_X86_64 Kernel UUID: 8C1D632B-C8D8-35D9-AE59-760098A827F9 Kernel slide:     0x0000000009800000 Kernel text base: 0xffffff8009a00000 __HIB  text base: 0xffffff8009900000 System model name: MacBookPro12,1 (Mac-E43C1C25D4880AD6)  System uptime in nanoseconds: 27402302154645 last loaded kext at 24335408222147: com.apple.driver.usb.cdc    5.0.0 (addr 0xffffff7f8cb9e000, size 28672) last unloaded kext at 24866572062985: com.apple.driver.usb.AppleUSBHostCompositeDevice  1.1 (addr 0xffffff7f8cb97000, size 28672) loaded kexts: com.apple.filesystems.autofs    3.0 com.apple.driver.AudioAUUC  1.70 com.apple.driver.AGPM   110.23.17 com.apple.driver.X86PlatformShim    1.0.0 com.apple.driver.ApplePlatformEnabler   2.7.0d0 com.apple.iokit.IOBluetoothSerialManager    5.0.4f18 com.apple.driver.AppleGraphicsDevicePolicy  3.14.47 com.apple.driver.AppleUpstreamUserClient    3.6.4 com.apple.driver.AppleHDA   279.48 com.apple.driver.pmtelemetry    1 com.apple.iokit.IOUserEthernet  1.0.1 com.apple.driver.AppleOSXWatchdog   1 com.apple.driver.AppleIntelBDWGraphics  10.2.5 com.apple.iokit.BroadcomBluetooth20703USBTransport  5.0.4f18 com.apple.driver.AppleSMCLMU    208 com.apple.driver.AppleLPC   3.1 com.apple.Dont_Steal_Mac_OS_X   7.0.0 com.apple.driver.AppleHV    1 com.apple.driver.AppleThunderboltIP 3.0.8 com.apple.driver.AppleBacklight 170.9.20 com.apple.driver.AppleCameraInterface   5.60.0 com.apple.driver.AppleIntelSlowAdaptiveClocking 4.0.0 com.apple.driver.AppleMCCSControl   1.3.1 com.apple.driver.AppleIntelBDWGraphicsFramebuffer   10.2.5 com.apple.driver.AppleUSBCardReader 404.50.6 com.apple.AppleFSCompression.AppleFSCompressionTypeDataless 1.0.0d1 com.apple.AppleFSCompression.AppleFSCompressionTypeZlib 1.0.0 com.apple.BootCache 40 com.apple.filesystems.hfs.kext  366.50.19 com.apple.iokit.IOAHCIBlockStorage  295.20.1 com.apple.driver.AppleAHCIPort  326.60.1 com.apple.driver.AppleTopCaseHIDEventDriver 114 com.apple.driver.AirPort.Brcm4360   1150.10.1a2 com.apple.driver.AppleRTC   2.0 com.apple.driver.AppleSmartBatteryManager   161.0.0 com.apple.driver.AppleACPIButtons   5.0 com.apple.driver.AppleHPET  1.8 com.apple.driver.AppleSMBIOS    2.1 com.apple.driver.AppleACPIEC    5.0 com.apple.driver.AppleAPIC  1.7 com.apple.nke.applicationfirewall   172 com.apple.security.quarantine   3 com.apple.security.TMSafetyNet  8 com.apple.kext.triggers 1.0 com.apple.driver.DspFuncLib 279.48 com.apple.kext.OSvKernDSPLib    525 com.apple.iokit.IOSurface   159.7 com.apple.iokit.BroadcomBluetoothHostControllerUSBTransport 5.0.4f18 com.apple.iokit.IOBluetoothHostControllerUSBTransport   5.0.4f18 com.apple.iokit.IOBluetoothHostControllerTransport  5.0.4f18 com.apple.iokit.IOBluetoothFamily   5.0.4f18 com.apple.driver.AppleGraphicsControl   3.14.47 com.apple.driver.AppleHDAController 279.48 com.apple.iokit.IOHDAFamily 279.48 com.apple.iokit.IOAudioFamily   205.15 com.apple.vecLib.kext   1.2.0 com.apple.driver.AppleSSE   1.0 com.apple.driver.AppleBacklightExpert   1.1.0 com.apple.iokit.IONDRVSupport   516.1 com.apple.driver.X86PlatformPlugin  1.0.0 com.apple.driver.IOPlatformPluginFamily 6.0.0d8 com.apple.iokit.IOSerialFamily  11 com.apple.iokit.IOSlowAdaptiveClockingFamily    1.0.0 com.apple.driver.AppleSMC   3.1.9 com.apple.driver.AppleSMBusController   1.0.18d1 com.apple.AppleGraphicsDeviceControl    3.14.47 com.apple.iokit.IOAcceleratorFamily2    311.13 com.apple.iokit.IOGraphicsFamily    515.3 com.apple.iokit.IOSCSIBlockCommandsDevice   394.50.1 com.apple.iokit.IOUSBMassStorageDriver  131.60.1 com.apple.iokit.IOSCSIArchitectureModelFamily   394.50.1 com.apple.driver.usb.networking 5.0.0 com.apple.driver.CoreStorage    540.30.1 com.apple.filesystems.hfs.encodings.kext    1 com.apple.iokit.IOAHCIFamily    288 com.apple.driver.AppleThunderboltDPInAdapter    5.0.2 com.apple.driver.AppleThunderboltDPAdapterFamily    5.0.2 com.apple.driver.AppleThunderboltPCIDownAdapter 2.1.3 com.apple.driver.AppleHIDKeyboard   199 com.apple.driver.AppleMultitouchDriver  368.16 com.apple.driver.AppleInputDeviceSupport    76.7 com.apple.driver.AppleHSSPIHIDDriver    49 com.apple.driver.AppleThunderboltNHI    4.5.4 com.apple.iokit.IOThunderboltFamily 6.5.7 com.apple.iokit.IO80211Family   1200.12.2 com.apple.driver.mDNSOffloadUserClient  1.0.1b8 com.apple.iokit.IONetworkingFamily  3.2 com.apple.driver.corecapture    1.0.4 com.apple.driver.AppleHSSPISupport  49 com.apple.driver.AppleIntelLpssSpiController    3.0.60 com.apple.driver.AppleIntelLpssGspi 3.0.60 com.apple.driver.AppleIntelLpssDmac 3.0.60 com.apple.driver.usb.AppleUSBXHCIPCI    1.1 com.apple.driver.usb.AppleUSBXHCI   1.1 com.apple.driver.usb.AppleUSBHostPacketFilter   1.0 com.apple.iokit.IOUSBFamily 900.4.1 com.apple.driver.AppleEFINVRAM  2.1 com.apple.driver.AppleUSBHostMergeProperties    1.1 com.apple.driver.AppleEFIRuntime    2.1 com.apple.iokit.IOHIDFamily 2.0.0 com.apple.iokit.IOSMBusFamily   1.1 com.apple.security.sandbox  300.0 com.apple.kext.AppleMatch   1.0.0d1 com.apple.driver.AppleKeyStore  2 com.apple.driver.AppleMobileFileIntegrity   1.0.5 com.apple.driver.AppleCredentialManager 1.0 com.apple.driver.KernelRelayHost    1 com.apple.iokit.IOUSBHostFamily 1.1 com.apple.driver.AppleBusPowerController    1.0 com.apple.driver.DiskImages 444.50.16 com.apple.iokit.IOStorageFamily 2.1 com.apple.iokit.IOReportFamily  31 com.apple.driver.AppleFDEKeyStore   28.30 com.apple.driver.AppleACPIPlatform  5.0 com.apple.iokit.IOPCIFamily 2.9 com.apple.iokit.IOACPIFamily    1.4 com.apple.kec.Libm  1 com.apple.kec.pthread   1 com.apple.kec.corecrypto    1.0  System Profile: AirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0x133), Broadcom BCM43xx 1.0 (7.21.171.130.1a1) Bluetooth: Version 5.0.5f1, 3 services, 27 devices, 1 incoming serial ports Thunderbolt Bus: MacBook Pro, Apple Inc., 27.1 Memory Module: BANK 0/DIMM0, 4 GB, DDR3, 1867 MHz, 0x80CE, 0x4B3445364533303445452D45474346000000 Memory Module: BANK 1/DIMM0, 4 GB, DDR3, 1867 MHz, 0x80CE, 0x4B3445364533303445452D45474346000000 USB Device: USB 3.0 Bus USB Device: Bluetooth USB Host Controller Serial ATA Device: APPLE SSD SM0256G, 251 GB Model: MacBookPro12,1, BootROM MBP121.0167.B33, 2 processors, Intel Core i5, 2.7 GHz, 8 GB, SMC 2.28f7 Network Service: Wi-Fi, AirPort, en0 Graphics: Intel Iris Graphics 6100, Intel Iris Graphics 6100, Built-In /code/pre  And the top of the GPU:  precodeMon Jul 10 23:23:10 2017  Event:               GPU Reset Date/Time:           Mon Jul 10 23:23:10 2017 Application:          Path:                 GPUSubmission Trace ID: 1bc06d6df70 OS Version:          Mac OS X Version 10.12.6 (Build 16G23a) Graphics Hardware:   Intel Iris Graphics 6100 Signature:           821  Report Data:   ===========================================================================                          Intel GPU Hang Summary                               version 1.1.0 ===========================================================================    BDW Graphics is running in Execlist mode   Scheduler interface revision 1   Processing hang for hardware context ID[3729]  -- Summary of Status for ALL Rings -- MAIN Ring   is idle MEDIA Ring  is NOT enabled BLIT Ring   is idle VEBOX Ring  is NOT enabled MEDIA2 Ring is NOT enabled  ===========================================================================                      Hardware Ring Registers ===========================================================================  -- MAIN Ring --   RING_HEAD   = 0x00002978  (offset = 0x00002978, wrap count = 0, wait_for_cond = 0x0)   RING_TAIL   = 0x00002978  (offset = 0x00002978)   RING_START  = 0x40133000  (offset = 0x40133000)   RING_CTRL   = 0x0001f001  (enabled, auto report disabled (0x00), not waiting, semaphore not waiting, length = 0x020 4KB pages)  -- MEDIA Ring --   RING_HEAD   = 0x00000000  (offset = 0x00000000, wrap count = 0, wait_for_cond = 0x0)   RING_TAIL   = 0x00000000  (offset = 0x00000000)   RING_START  = 0x00000000  (offset = 0x00000000)   RING_CTRL   = 0x00000000  (disabled, auto report disabled (0x00), not waiting, semaphore not waiting, length = 0x001 4KB pages)  -- BLIT Ring --   RING_HEAD   = 0x0200e050  (offset = 0x0000e050, wrap count = 16, wait_for_cond = 0x0)   RING_TAIL   = 0x0000e050  (offset = 0x0000e050)   RING_START  = 0x40169000  (offset = 0x40169000)   RING_CTRL   = 0x0001f001  (enabled, auto report disabled (0x00), not waiting, semaphore not waiting, length = 0x020 4KB pages)  -- VEBOX Ring --   RING_HEAD   = 0x00000000  (offset = 0x00000000, wrap count = 0, wait_for_cond = 0x0)   RING_TAIL   = 0x00000000  (offset = 0x00000000)   RING_START  = 0x00000000  (offset = 0x00000000)   RING_CTRL   = 0x00000000  (disabled, auto report disabled (0x00), not waiting, semaphore not waiting, length = 0x001 4KB pages)  -- MEDIA2 Ring --   RING_HEAD   = 0x00000000  (offset = 0x00000000, wrap count = 0, wait_for_cond = 0x0)   RING_TAIL   = 0x00000000  (offset = 0x00000000)   RING_START  = 0x00000000  (offset = 0x00000000)   RING_CTRL   = 0x00000000  (disabled, auto report disabled (0x00), not waiting, semaphore not waiting, length = 0x001 4KB pages) /code/pre  The last thing I could dig up was WindowServer having some problems:  precodeDate/Time:       2017-07-05 22:56:41.494032 -0700 OS Version:      Mac OS X 10.12.6 (Build 16G23a) Architecture:    x86_64 Report Version:  19  Command:         WindowServer Path:            /System/Library/PrivateFrameworks/SkyLight.framework/Versions/A/Resources/WindowServer Version:         ??? (???) Parent:          launchd [1] PID:             165  Event:           wakeups Wakeups:         45004 wakeups over the last 299 seconds (150 wakeups per second average), exceeding limit of 150 wakeups per second over 300 seconds Duration:        299.46s Steps:           407  Hardware model:  MacBookPro12,1 Active cpus:     4  Fan speed:       1302 rpm /code/pre  Thanks for any help, I'm just hoping this isn't a hardware issue.  <comment366765> @בנימןהגלילי Should have clarified, I meant Unity the game engine.
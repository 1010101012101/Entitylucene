2013 MBA 11" + TB display - wake issues <body> I've read quite a few posts on various discussion sites about people getting a black screen + cursor on waking the MBA. I get this too when running using just the MBA, no external display. However, I experience additional issues when using the ThunderBolt Display.  There seems to be 3 usage cases:  ol liMBA only, black screen with cursor on wake, irrespective of battery / mains power/li liMBA + TB display clamshell mode, black screen with cursor on wake / switching displays, battery power (as magsafe not recognised)/li liMBA + TB display clamshell mode, no wake, no power recognised/li /ol  If I take my sleeping and closed-lid MBA and plug in the display and magsafe power (via the display) 9 times out of 10 the madsafe LED will not illuminate, and I will not be able to wake the laptop from sleep using keyboard or mouse. To rectify this I have to either (1) unplug and replug the thunderbolt cable multiple times and unplug and replug the magsafe likewise, or (2) open the lid, hit a key, and still unplug and replug the magsafe.  This is incredibly annoying, and didn't occur with my 2012 13" MBA or my 2011 13" MBA.  I've reset the SMC / PRAM, updated everything to the latest versions. No Chrome.  I've been looking at the system log files to see if I can make sense of them, but I've reached the extent of my knowledge. I'd like to know if the issue is the MBA or the display. Can this be ascertained from the logs?  I've placed a recent log here: http://pastebin.com/z7bYfmN2  A brief excerpt is below.  hr  precode08:15:31 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:15:31 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:15:32 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000280 08:15:32 kernel[0]: 19899.385144: AirPort_Brcm43xx::powerChange: System Sleep  08:15:32 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:15:32 kernel[0]: en0: BSSID changed to 20:c9:d0:26:d4:b7 08:15:32 kernel[0]: wlEvent: en0 en0 Link DOWN virtIf = 0 08:15:32 kernel[0]: AirPort: Link Down on en0. Reason 8 (Disassociated because station leaving). 08:15:32 kernel[0]: en0::IO80211Interface::postMessage bssid changed 08:15:32 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 11 unplug = 0 08:15:32 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 12 unplug = 0 08:15:33 configd[17]: network changed: v4(en0-:192.168.1.81) DNS- Proxy- SMB 08:15:33 configd[17]: setting hostname to "Bertie.local" 08:15:33 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:15:33 kernel[0]: AppleThunderboltNHIType2::waitForOk2Go2Sx - retries = 2 08:16:51 kernel[0]: Wake reason: EC.DarkPME (Maintenance) 08:16:51 kernel[0]: 19901.454339: AirPort_Brcm43xx::powerChange: System Wake - Full Wake/ Dark Wake / Maintenance wake 08:16:51 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:16:51 kernel[0]: Previous Sleep Cause: 5 08:16:51 kernel[0]: AppleHSSPIController::HandleMessage Device Wake by Host 08:16:51 hidd[64]: MultitouchHID: device bootloaded 08:16:51 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 11 unplug = 0 08:16:51 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 12 unplug = 0 08:16:51 kernel[0]: TBT W (2): 0x0002 [√] 08:16:51 kernel[0]: en0: 802.11d country code set to 'X3'. 08:16:51 kernel[0]: en0: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 120 124 128 132 136 140 149 153 157 161 08:16:51 kernel[0]: Graphics suppressed 820 ms 08:16:52 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 2 unplug = 0 08:16:52 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 1 unplug = 0 08:16:52 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:16:52 kernel[0]: IOThunderboltSwitch&lt;0xffffff801ce43600&gt;(0x1)::listenerCallback - Thunderbolt HPD packet for route = 0x1 port = 11 unplug = 0 08:16:53 kernel[0]: en0: 802.11d country code set to 'DE'. 08:16:53 kernel[0]: en0: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 120 124 128 132 136 140 149 153 157 161 165 08:16:53 kernel[0]: 19903.746339: MacAuthEvent en0   Auth result for: 20:c9:d0:26:d4:b7  MAC AUTH succeeded 08:16:53 kernel[0]: wlEvent: en0 en0 Link UP virtIf = 0 08:16:53 kernel[0]: AirPort: Link Up on en0 08:16:53 kernel[0]: en0: BSSID changed to 20:c9:d0:26:d4:b7 08:16:53 kernel[0]: en0::IO80211Interface::postMessage bssid changed 08:16:53 kernel[0]: AirPort: RSN handshake complete on en0 08:16:53 kernel[0]: AppleThunderboltDPPathManager&lt;0xffffff803094f500&gt;::createPath - kDPPathTypeVideo - NFC [src=11 int=14 dst=14] Initial Credits [src=0 int=0 dst=0] 08:16:53 kernel[0]: AppleThunderboltDPPathManager&lt;0xffffff803094f500&gt;::createPath - kDPPathTypeAuxTx - NFC [src=0 int=0 dst=0] Initial Credits [src=4 int=2 dst=1] 08:16:53 kernel[0]: AppleThunderboltDPPathManager&lt;0xffffff803094f500&gt;::createPath - kDPPathTypeAuxRx - NFC [src=0 int=0 dst=0] Initial Credits [src=7 int=2 dst=1] 08:16:53 configd[17]: network changed: v4(en0+:192.168.1.81) DNS+ Proxy+ SMB 08:16:53 UserEventAgent[11]: Captive: en0: Not probing 'TheLodge' (protected network) 08:16:53 configd[17]: network changed: v4(en0!:192.168.1.81) DNS Proxy SMB 08:16:53 configd[17]: setting hostname to "bertie.home" 08:16:53 airportd[3597]: _doAutoJoin: Already associated to “TheLodge”. Bailing on auto-join. 08:16:53 kernel[0]: en0: 802.11d country code set to 'GB'. 08:16:53 kernel[0]: en0: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 120 124 128 132 136 140 149 153 157 161 165 08:16:56 kernel[0]: [ PCI configuration begin ] 08:16:56 kernel[0]: [ PCI configuration end, bridges 20, devices 19 ] 08:16:56 kernel[0]: FireWire runtime power conservation disabled. (3) 08:16:56 kernel[0]: FireWire (OHCI) Lucent ID 5901 PCI now active, GUID 000a27020051bbd3; max speed s800. 08:16:59 kernel[0]: BCM5701Enet: Ethernet address 10:dd:b1:ca:9c:a0 08:17:03 com.apple.time[11]: Next maintenance wake [Backup Interval]: &lt;date: 0x7f9573428d20&gt; Thu Oct 10 08:39:28 2013 BST (approx) 08:17:03 com.apple.time[11]: Requesting maintenance wake [Backup Interval]: &lt;date: 0x7f9573428d20&gt; Thu Oct 10 08:39:28 2013 BST (approx) 08:17:05 kernel[0]: 19914.863419: AirPort_Brcm43xx::powerChange: System Sleep  08:17:05 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:17:05 kernel[0]: en0: BSSID changed to 20:c9:d0:26:d4:b7 08:17:05 kernel[0]: wlEvent: en0 en0 Link DOWN virtIf = 0 08:17:05 kernel[0]: AirPort: Link Down on en0. Reason 8 (Disassociated because station leaving). 08:17:05 kernel[0]: en0::IO80211Interface::postMessage bssid changed 08:17:05 configd[17]: network changed: v4(en0-:192.168.1.81) DNS- Proxy- SMB 08:17:05 configd[17]: setting hostname to "Bertie.local" 08:17:06 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:17:06 kernel[0]: IOThunderboltSwitch&lt;0xffffff801ce43600&gt;(0x1)::listenerCallback - Thunderbolt HPD packet for route = 0x1 port = 11 unplug = 1 08:17:07 kernel[0]: AppleThunderboltNHIType2::waitForOk2Go2Sx - retries = 18 08:17:07 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 11 unplug = 0 08:17:07 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 12 unplug = 0 08:17:07 kernel[0]: TBT W (2): 0x0020 [√] 08:17:08 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 2 unplug = 0 08:17:08 kernel[0]: IOThunderboltSwitch&lt;0xffffff801cc94c00&gt;(0x0)::listenerCallback - Thunderbolt HPD packet for route = 0x0 port = 1 unplug = 0 08:17:08 kernel[0]: AppleThunderboltDPPathManager&lt;0xffffff803094f500&gt;::createPath - kDPPathTypeVideo - NFC [src=11 int=14 dst=14] Initial Credits [src=0 int=0 dst=0] 08:17:08 kernel[0]: AppleThunderboltDPPathManager&lt;0xffffff803094f500&gt;::createPath - kDPPathTypeAuxTx - NFC [src=0 int=0 dst=0] Initial Credits [src=4 int=2 dst=1] 08:17:08 kernel[0]: AppleThunderboltDPPathManager&lt;0xffffff803094f500&gt;::createPath - kDPPathTypeAuxRx - NFC [src=0 int=0 dst=0] Initial Credits [src=7 int=2 dst=1] 08:17:19 hidd[64]: MultitouchHID: device bootloaded 08:17:19 kernel[0]: Wake reason: EC.DarkPME (Maintenance) 08:17:19 kernel[0]: 19918.890523: AirPort_Brcm43xx::powerChange: System Wake - Full Wake/ Dark Wake / Maintenance wake 08:17:19 kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 08:17:19 kernel[0]: Previous Sleep Cause: 5 08:17:19 kernel[0]: [ PCI configuration begin ] 08:17:19 kernel[0]: [ PCI configuration end, bridges 20, devices 19 ] 08:17:19 kernel[0]: The USB device HubDevice (Port 1 of Hub at 0x40000000) may have caused a wake by issuing a remote wakeup (2) 08:17:19 kernel[0]: AppleHSSPIController::HandleMessage Device Wake by Host 08:17:19 kernel[0]: The USB device Keyboard Hub (Port 1 of Hub at 0x40100000) may have caused a wake by issuing a remote wakeup (3) 08:17:19 kernel[0]: The USB device Apple Keyboard (Port 2 of Hub at 0x40110000) may have caused a wake by issuing a remote wakeup (3) 08:17:19 awacsd[73]: InnerStore GetWakeInfoForZone: zero address for 272685661.members.btmm.icloud.com. 08:17:19 awacsd[73]: KV HTTP 0 /code/pre 
VPN on demand: if VPN server is not reachable the entire device network connection is cut off from public internet <body> I have a configuration profile for VPN on demand if the VPN server is down then internet is not getting connected.  I have enabled on demand VPN connection using below lines in my mobileconfig profile  precode&lt;key&gt;OnDemandEnabled&lt;/key&gt; &lt;integer&gt;1&lt;/integer&gt; &lt;key&gt;OnDemandMatchDomainsAlways&lt;/key&gt; &lt;array&gt;     &lt;string&gt;*&lt;/string&gt;                         &lt;/array&gt; &lt;key&gt;OnDemandMatchDomainsNever&lt;/key&gt; &lt;array/&gt; &lt;key&gt;OnDemandMatchDomainsOnRetry&lt;/key&gt; &lt;array/&gt; &lt;key&gt;OnDemandRules&lt;/key&gt; &lt;array&gt;     &lt;dict&gt;         &lt;key&gt;Action&lt;/key&gt;         &lt;string&gt;Connect&lt;/string&gt;     &lt;/dict&gt; &lt;/array&gt; /code/pre  On-Demand VPN is establishing as expected in iOS 6 &amp; 7. Whereas when the VPN server is down, on-demand still tries to establish connection and it fails, hence the user is not able to reach the internet. I want to disable VPN connection when the VPN server is down, hence user can use the internet. I tried the following On-Demand rule to connect VPN when I able to reach a service of my VPN server else disconnect VPN.  h2Approach 1:/h2  precode&lt;key&gt;OnDemandRules&lt;/key&gt; &lt;array&gt;     &lt;dict&gt;         &lt;key&gt;URLStringProbe&lt;/key&gt;         &lt;string&gt;http://myserverip/openvpn/server&lt;/string&gt;         &lt;key&gt;Action&lt;/key&gt;         &lt;string&gt;Connect&lt;/string&gt;     &lt;/dict&gt;  &lt;/array&gt;   /code/pre  h2Approach 2/h2  precode &lt;key&gt;OnDemandRules&lt;/key&gt; &lt;array&gt; &lt;dict&gt;    &lt;key&gt;RequiredURLStringProbe&lt;/key&gt;                               &lt;string&gt;https://host.domain.com/nonexistent_url&lt;/string&gt;                        &lt;key&gt;DomainAction&lt;/key&gt;    &lt;string&gt;ConnectIfNeeded&lt;/string&gt;  &lt;/dict&gt;  &lt;/array&gt; /code/pre  I tried both the approaches they neither connect the VPN nor Disconnect the VPN  I referred the following links  ul lihttp://www.derman.com/blogs/Example-iOS-VPN-OnDemand-Rules. /li lihttp://jelockwood.blogspot.in/2014/03/how-to-do-vpn-on-demand-for-ios-at-zero.html/li liapple key reference document/li /ul  strongSteps to Reproduce:/strong  ul liConfigure you device VPN connection using OpenVPN client app with OpenVPN  server(Certificate based authentication)/li liMake sure you have a working VPN connection using OpenVPN server/li liConfigure a VPN on demand for any internet connection using wild card filter(*)/li liNow shut your OpenVPN server down thats it.the internet connection of device will go down/li /ul  strongExpected Results:/strong  if OpenVPN server is not reachable then the device should not try to reach it again and again Instead after sometime it should stop trying and connect with public internet  strongActual Results:/strong  Device's internet connection is cut off  strongVersion:/strong I tried in both iOS 6 and 7  I want to disable VPN or On-Demand feature in iOS 6 &amp; 7 when VPN server is down.   Here is a link that has configuration profile(dummy) of mine.  Here is a link that has ipcu console log when connection fails  
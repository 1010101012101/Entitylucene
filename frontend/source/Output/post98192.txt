How to diagnose a graphic looking bug? <body> I got the following strange image on both low corners of 2 application windows:  ul liFirefox (22)/li liPreview (MacOS X)/li /ul  img src="https://i.stack.imgur.com/P0fRM.png" alt="screen capture of lower left corner graphic grey box"  This strange image is following the windows corners when I move them. This is occuring on a MacBookPro6,2 (mid 2010), running MacOS X 10.6.8 fully updated. This image can be captured (kbdcmd ⌘/kbd+kbdshift ⇧/kbd+kbd4/kbd).  h1Context/h1  The mother board and video card were replaced by an Apple Store.  Since I got it back 3 days ago, this MBP has been up and running and heavily tested. It went through many graphical use without a problem during 3 full days.  This event happened a few minutes after an exit from hybernation where the battery was totally exhausted.  Graphic cards:  ul liIntel HD Graphics: rev 0x0018/li liNVIDIA GeForce GT 330M: rev 0x00a2/li /ul  This problem occured arround 08:20. Here the nearby content of code/var/log/kernel.log/code:  pre Aug  6 22:48:49 my__MBP kernel[0]: AirPort: Link Up on en1 Aug  6 22:49:26 my__MBP kernel[0]: en1: 802.11d country code set to 'FR'. Aug  6 22:49:26 my__MBP kernel[0]: en1: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 120 124 128 132 136 140 Aug  6 23:03:31 my__MBP kernel[0]: hfs: Initializing the journal (joffset 0x3000 sz 0x80000)... hrAug  7 08:00:13 my__MBP kernel[0]: hibernate image path: /var/vm/sleepimage Aug  7 08:00:13 my__MBP kernel[0]: sizeof(IOHibernateImageHeader) == 512 Aug  7 08:00:13 my__MBP kernel[0]: Opened file /var/vm/sleepimage, size 4294967296, partition base 0xc805000, maxio 400000 ssd 0 Aug  7 08:00:13 my__MBP kernel[0]: hibernate image major 14, minor 2, blocksize 512, pollers 5 Aug  7 08:00:13 my__MBP kernel[0]: hibernate_alloc_pages flags 00000000, gobbling 0 pages Aug  7 08:00:13 my__MBP kernel[0]: hibernate_setup(0) took 0 ms Aug  7 08:00:13 my__MBP kernel[0]: AirPort: Link Down on en1. Reason 8 (Disassociated because station leaving). Aug  7 08:00:13 my__MBP kernel[0]: System SafeSleep Aug  7 08:19:17 my__MBP kernel[0]: hibernate_page_list_setall start 0x450cb000, 0x450ea000 Aug  7 08:19:17 my__MBP kernel[0]: hibernate_page_list_setall time: 397 ms Aug  7 08:19:17 my__MBP kernel[0]: pages 988881, wire 137387, act 328832, inact 12950, spec 0, zf 9189, throt 0, could discard act 130843 inact 255304 purgeable 25377 spec 88999 Aug  7 08:19:17 my__MBP kernel[0]: hibernate_page_list_setall found pageCount 488358 Aug  7 08:19:17 my__MBP kernel[0]: IOHibernatePollerOpen, ml_get_interrupts_enabled 0 Aug  7 08:19:17 my__MBP kernel[0]: IOHibernatePollerOpen(0) Aug  7 08:19:17 my__MBP kernel[0]: writing 486856 pages Aug  7 08:19:17 my__MBP kernel[0]: encryptStart 541a70 Aug  7 08:19:17 my__MBP kernel[0]: encryptEnd 4e56560 Aug  7 08:19:17 my__MBP kernel[0]: hibernate_machine_init: state 2, image pages 137257, sum was 7d2d0110, image1Size 9911400, conflictCount 403, nextFree 996 Aug  7 08:19:17 my__MBP kernel[0]: hibernate_page_list_discard time: 265 ms, discarded act 130843 inact 255304 purgeable 25377 spec 88999 Aug  7 08:19:17 my__MBP kernel[0]: IOHibernatePollerOpen(), ml_get_interrupts_enabled 0 Aug  7 08:19:17 my__MBP kernel[0]: IOHibernatePollerOpen(0) Aug  7 08:19:17 my__MBP kernel[0]: hibernate_machine_init reading Aug  7 08:19:17 my__MBP kernel[0]: PMStats: Hibernate read took 9038 ms Aug  7 08:19:17 my__MBP kernel[0]: hibernate_machine_init pagesDone 488202 sum2 c5a58d42, time: 9038 ms Aug  7 08:19:17 my__MBP kernel[0]: Wake reason = Aug  7 08:19:17 my__MBP kernel[0]: System SafeSleep Wake Aug  7 08:19:17 my__MBP kernel[0]: Previous Sleep Cause: -60 Aug  7 08:19:17 my__MBP kernel[0]: Previous Shutdown Cause: -60 Aug  7 08:19:17 my__MBP kernel[0]: com_apple_driver_AppleUSBCardReaderUMC:: Stop::Controller Reset Aug  7 08:19:17 my__MBP kernel[0]: en1: 802.11d country code set to 'X3'. Aug  7 08:19:17 my__MBP kernel[0]: en1: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 132 136 140 Aug  7 08:19:17 my__MBP kernel[0]: USBMSC Identifier (non-unique): 000000009833 0x5ac 0x8403 0x9833 /pre  <answer98552> Looks like an issue with GPU drivers. I have such issues on other machines with other versions of OSX time to time. Most of them are likely addressed in next versions of OSX.  I would start with checking Console.app. Various subsystem might log some useful information.  <answer98595> Best way to test if it is hardware or software is to use a fresh install. If you have your original CDs that came with the MacBook Pro, or the Snow Leopard upgrade cd, you can install Snow Leopard to an external hard drive and try to reproduce the issue in that second copy of Mac OS X.  If it is reproducible, it's hardware, if it won't re-occur, it's software.  If it is software, you can do an archive and install of Mac OS X and see if that resolves it. If not, then you may need to reinstall the Operating System completely and copy all your files back on manually.  If you want a step by step guide for running an Archive and Install, let me know and I'll write one up for you!  Honestly though, since this is right after a repair from an Apple Store, if you rule it down to software, go in and ask them to Archive and Install it if you have the time. That way they'll document it, and if it comes back or anything down the track, you can point them at their repair history and get them to cover it since it was documented while in Warranty and immediately after a repair!  After all, checking in a second install only really works if the issue is reliably reproducible.  Let me know if I can elaborate on anything!  <answer98597> You told this happened after you restored your running system from hibernation that was caused by a depleted battery. I suspect this to be the problem.   The battery charging status is indirectly measured by the voltage. When nearly drained, Lithium batteries cannot provide the needed current to power all the computers components. This may crash your system as some components fail but it is also possible that it causes memory corruption. This is called a brownout. Additionally this might be caused by Power Management errors. If this continues happening, reset you SMC.  Around the time this happened the computer began to save the contents of the RAM (and also the VRAM? Please correct me!) to disk and power down the system. In case the memory was already damaged, the hibernation image also contains some garbage. Restoring might cause such symptoms.  <answer255533>    Shutdown Cause: -60   This shutdown code is usually related to bad master directory block (badMDBErr).  So you can try to:  ul liRun emFirst Aid/em from the Disk Utility to check your HD (or codefsck/code from Safe mode)./li liReset [the System Management Controller (SMC)][1]./li /ul  If above won't help, you are advised to back up your data, erase the disk and reinstall OS X.  Otherwise, you should take your MBP to repair again, as normally they give you ~21 days if there're some issues with your replaced hardware.  supSee: Are OS X shutdown cause and sleep cause numbers listed/explained anywhere?/sup  See also: What is shutdown cause -60?  <comment115279> So the problem is ONLY with Firefox and Preview ? <comment115280> If yes, trash they respective plists and restart those applications. <comment115281> I couldn't say this. I had more than twenty other windows opened at the same time. Some of them from Firefox and they were clean. I'm using Spaces and on other Desktops no window was showing the same graphic bug. I'm actually trying to reproduce this problem. <comment115679> Sounds like a brown out? <comment115681> Did it happen while you used the dedicated nVidia Graphics or the chipset internal Intel one? <comment115682> → Max: excellent question! That's the one I wanted to be able to answer myself. I've seen gfxCardStatus, but I'm on 10.6 (and will stay there for a while). <comment115684> System Preferences - Energy Saver: What the selection of the radio buttons on top? <comment115686> → Max: Automatic graphics switching: on. How to know which graphic card is in use now? <comment115702> In this case, you can't tell what card was used back then. To see what card is in use right now, open System Profiler, select "Graphics/Display". You see both of your cards. Select each and look which the internal display is currently connected to. <comment115779> If memory is damaged during the save process, hardware should be able to detect corruption on load. <comment115780> No. How could it? <comment115809> I see. In case RAM is already damaged *before* save process hardware unlikely detect problems. However, I'm not sure that GPU Memory is ever dumped to disk. It's likely purged completely because apps can redraw anything on request. <comment115927> I already have a freshly installed original MacOS X on another partition of the same MacBook Pro. I spent many days booted on this system trying to reproduce the same graphical bug: total failure. I tried to reproduce it on my production OS: total failure. Hence my actual hunt is to be able to reproduce a problem, then the second hunt will be declared open (hardware, firmware, software?). <comment116574> → Max: The VRAM isn't saved during the hibernation process. It was already in main RAM as a process saved GC (graphical context). This process is the one which was managing the video output at the time the scheduler decided to compute again all priorities. Most of the time it is `Windowserver` or `loginwindow` on MacOS X. <comment318415> Possible duplicate of [What is shutdown cause -60?](http://apple.stackexchange.com/questions/111603/what-is-shutdown-cause-60)
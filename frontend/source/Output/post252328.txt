Mac App Store failed downloads <body> I've been having problems downloading several apps and updates from the Mac App Store.  One thing they have in common is that all of the problematic downloads are from Apple: Xcode, iTunes update, macOS Sierra beta, OS X El Capitan update.  My main suspicion: My ISP has a problem with Apple downloads. I also tried downloading Xcode from the Developers site and got a persistent "Invalid response" error.  Some quirks I noticed:  ol liWhile downloading mac OS Sierra, a 2.15 GB download, every time I try, at the end of download, the progress report goes back and forth from 2.14 GB to 2.15 GB after ultimately failing. The same thing happened on another Mac downloading./li liTrying to re-download Xcode or the iTunes update, the progress is reported an order of magnitude strongfaster/strong than my Internet connection, like 3/4 megabytes per second. That can't be true./li liXcode on the Purchased page doesn't have a DOWNLOAD button, rather, it has an INSTALL one./li /ol  What I have done so far:  ol liReset application from the Debug menu./li liFound cache folder from Activity Monitor and deleted it./li liSeveral reboots./li liLogged out/in the App Store./li liChecked for unfinished downloads./li liTrying to solve using answers from: Xcode failed to download. Use the Purchases page to try again/li /ol  To finish, here's a dump from code/var/log/install.log/code. I notice a few instances like:     Failed post-download size check for package "iTunesAccess.pkg": expected 638270, got 638257   I couldn't test on another network yet, but will update when I do.  Any suggestions as to what I could be missing?  precodeSep 11 19:46:38 Precious softwareupdated[456]: 6 updates found:     031-61467    | OS X El Capitan Update 10.11.6     031-67169    | XProtectPlistConfigData 1.0     031-72351    | Core Suggestions Configuration Data 762     031-74368    | Chinese Word List Update 4.22     031-77691    | Gatekeeper Configuration Data 100     zzzz031-69279    | iTunes 12.4.3 Sep 11 19:46:44 Precious softwareupdated[456]: Ramped updates marked Sep 11 19:46:56 Precious installd[337]: PackageKit: Adding client PKInstallDaemonClient pid=312, uid=502 (/System/Library/PrivateFrameworks/CommerceKit.framework/Versions/A/Resources/storeassetd) Sep 11 19:46:56 Precious storeassetd[312]: SUAppStoreUpdateController: authorize Sep 11 19:46:56 Precious installd[337]: PackageKit: Adding client PKInstallDaemonClient pid=456, uid=200 (/System/Library/CoreServices/Software Update.app/Contents/Resources/softwareupdated) Sep 11 19:46:56 Precious softwareupdated[456]: Cannot find local product zzzz031-69279 in index file Sep 11 19:46:56 Precious installd[337]: PackageKit: Adding client PKInstallDaemonClient pid=456, uid=200 (/System/Library/CoreServices/Software Update.app/Contents/Resources/softwareupdated) Sep 11 19:46:56 Precious installd[337]: PackageKit: Removing client PKInstallDaemonClient pid=456, uid=200 (/System/Library/CoreServices/Software Update.app/Contents/Resources/softwareupdated) Sep 11 19:46:56 Precious storeassetd[312]: SUAppStoreUpdateController: disk space required for updates is: 1878615772 Sep 11 19:46:56 Precious installd[337]: PackageKit: Removing client PKInstallDaemonClient pid=456, uid=200 (/System/Library/CoreServices/Software Update.app/Contents/Resources/softwareupdated) Sep 11 19:46:56 --- last message repeated 2 times --- Sep 11 19:46:56 Precious softwareupdated[456]: Adding client SUUpdateServiceClient pid=312, uid=502, installAuth=NO rights=(), transactions=0 (/System/Library/PrivateFrameworks/CommerceKit.framework/Versions/A/Resources/storeassetd) Sep 11 19:46:56 Precious storeassetd[312]: SUAppStoreUpdateController: start install session with zzzz031-69279 Sep 11 19:46:56 Precious softwareupdated[456]: SUUpdateSession startUpdateForProducts:&lt;SUProduct: zzzz031-69279&gt; inForeground: YES staged: NO Sep 11 19:46:56 Precious softwareupdated[456]: SoftwareUpdate: Added foreground transaction [0x2] for iTunesX-12.4.3 Sep 11 19:46:56 Precious softwareupdated[456]: SoftwareUpdate: starting download of zzzz031-69279 (iTunesX-12.4.3) Sep 11 19:46:56 Precious softwareupdated[456]: Cannot find local product zzzz031-69279 in index file Sep 11 19:46:56 Precious softwareupdated[456]: ContentLocator: No modified URL found Sep 11 19:46:58 --- last message repeated 4 times --- Sep 11 19:46:58 Precious softwareupdated[456]: Finished downloading package iTunesAccess.pkg to file:///var/folders/zz/zyxvpxvq6csfxvn_n00000s0000068/C/com.apple.SoftwareUpdate/CFNetworkDownload_WVtGVN.tmp (error (null)) from peer: 10.1.1.3 Sep 11 19:46:58 Precious softwareupdated[456]: zzzz031-69279: Failed post-download size check for package "iTunesAccess.pkg": expected 638270, got 638257 Sep 11 19:46:58 Precious softwareupdated[456]: Finished downloading package CoreADI.pkg to file:///var/folders/zz/zyxvpxvq6csfxvn_n00000s0000068/C/com.apple.SoftwareUpdate/CFNetworkDownload_zq8OVW.tmp (error (null)) from peer: 10.1.1.3 Sep 11 19:46:58 Precious softwareupdated[456]: zzzz031-69279: Failed post-download size check for package "CoreADI.pkg": expected 1932602, got 1920316 Sep 11 19:47:10 Precious softwareupdated[456]: Finished downloading package CoreFP.pkg to file:///var/folders/zz/zyxvpxvq6csfxvn_n00000s0000068/C/com.apple.SoftwareUpdate/CFNetworkDownload_8vHsxB.tmp (error (null)) from peer: 10.1.1.3 Sep 11 19:47:10 Precious softwareupdated[456]: zzzz031-69279: Failed post-download size check for package "CoreFP.pkg": expected 27581760, got 27581748 Sep 11 19:47:18 Precious softwareupdated[456]: Finished downloading package MobileDevice.pkg to file:///var/folders/zz/zyxvpxvq6csfxvn_n00000s0000068/C/com.apple.SoftwareUpdate/CFNetworkDownload_QwCq9Y.tmp (error (null)) from peer: 10.1.1.3 Sep 11 19:47:18 Precious suhelperd[457]: Verifying package at path: /Library/Updates/zzzz031-69279/MobileDevice.pkg Sep 11 19:47:18 Precious softwareupdated[456]: Host (null) isReachable = YES Sep 11 19:47:23 Precious softwareupdated[456]: Retrying download for package: com.apple.pkg.MobileDevice Sep 11 19:47:23 Precious softwareupdated[456]: Empty packageURL found for package com.apple.pkg.MobileDevice while retrying Sep 11 19:47:28 Precious softwareupdated[456]: Finished downloading package iTunesX.pkg to file:///var/folders/zz/zyxvpxvq6csfxvn_n00000s0000068/C/com.apple.SoftwareUpdate/CFNetworkDownload_yr4zTj.tmp (error (null)) from peer: 10.1.1.3 Sep 11 19:47:28 Precious softwareupdated[456]: zzzz031-69279: Failed post-download size check for package "iTunesX.pkg": expected 144915862, got 144919952 Sep 11 19:47:28 Precious softwareupdated[456]: No more tasks - invalidating session now Sep 11 19:47:28 Precious softwareupdated[456]: SULocalProduct: zzzz031-69279 is not completely downloaded.  Package with identifier com.apple.pkg.iTunesX not found: Sep 11 19:47:28 Precious softwareupdated[456]: SoftwareUpdate: Invalid or incomplete local product zzzz031-69279 Sep 11 19:47:28 Precious softwareupdated[456]: Removing local product after found to be incomplete Sep 11 19:47:28 Precious softwareupdated[456]: Removed local product for zzzz031-69279 (1) Sep 11 19:47:28 Precious softwareupdated[456]: Stopping transaction with ID [0x2] Sep 11 19:47:28 Precious softwareupdated[456]: SoftwareUpdate: Removed foreground transaction [0x2] Sep 11 19:47:28 Precious storeassetd[312]: SUAppStoreUpdateController: status for zzzz031-69279: zzzz031-69279 (a=0x3): install error (234125311 of 237486812) 49.3% -1.0s (error: Error Domain=SUErrorDomain Code=301 "The update has been deleted since being downloaded from the Apple Software Update server." UserInfo={SUErrorUpdateTitle=iTunes, SUErrorUpdateProductKey=zzzz031-69279, NSLocalizedDescription=The update has been deleted since being downloaded from the Apple Software Update server.}) /code/pre  EDIT: I have finally been able to test it on another network, and in fact this is related to my ISP failing to connect me to Apple's servers.  <answer252350> I had a similar problem a couple of months ago - after some digging through the vast forums on the internet, I found three commands that basically restored permissions to the App Store:  precodesudo mkdir -p /Users/Shared sudo chown root:wheel /Users/Shared sudo chmod -R 1777 /Users/Shared /code/pre  Execute each of these in Terminal (Utilities folder on the Mac) and restart the computer. Since then, I never had that problem.  <answer252451> I recently had an app that would vanish from my Applications folder immediately after it had finished being downloaded.   Deleting the app's receipts from code/private/var/db/receipts/code and code/Library/Receipts/code solved it for me.  <answer252783> This is a network related issue. I have been able to download the file correctly when connected through another ISP.  <comment314005> Thanks for your reply, I did what you mentioned, but in my case it didn't solve it. <comment314226> I did as you mentioned, unfortunately that's not what's causing my issue. I'm starting to suspect something spiritual related rather than software related at this point. <comment314240> Sorry to hear that :(
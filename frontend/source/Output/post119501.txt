OS X Server Postfix configuration <body> I hope this is the right site to ask this question. I have successfully configured OS X server (3.0.2 on mavericks) mail service, but if i edit my code/Library/Server/Mail/Config/postfix/main.cf/code (postfix config file), it won't affect the behaviour of the server mail service.  For example I changed codesmtpd_client_restrictions = permit_mynetworks permit_sasl_authenticated/code to codesmtpd_client_restrictions = reject/code and the same with codesmtpd_recipient_restrictions/code, but i'm still able to login to the SMTP Server and send emails. I always did codesudo postfix reload/code and codesudo serveradmin stop mail/code, codesudo serveradmin start mail/code.  What am i doing wrong?  <answer119574> To check which file your postfix is using do a codeps ax | grep master/code at the command line and you should see a line with  precodemaster -c /Library/Server/Mail/Config/postfix /code/pre  which tells you that it is indeed using the files in that directory.  If it is using those files then I'd try logging in from another machine using telnet and see what is says.  precodetelnet mailserver.example.com 25 /code/pre  If you want to try sending a message "by hand" then check out http://www.smtp2go.com/articles/smtp-protocol for some good notes on SMTP.  It is here that Postfix will probably reject your email. If it does reject your email then set codesmtpd_client_restrictions/code back to the default and see if it then allows your email through.  <comment139386> Are the more config files which can be used? Looks like your editing an unused config file. <comment139387> Not really, actually that must be the right/main config file (http://www.postfix.org/postconf.5.html). Indeed there is `master.cf`, but i think that's not the right file to make this changes. <comment139460> Yes that's right.. i see it. <comment139461> Yes and there is the program `/Applications/Server.app/Contents/ServerRoot/usr/bin/amavisd (master)` that uses it <comment139463> Ok now i know that OSX Server is using the config file under `/Library/Server/Mail/Config/postfix`, but why doesn't it react on the changes? <comment139465> Ok i've logged in using telnet an it work, but cloudn't send an email. It says: `Client host rejected: Access denied`. So this makes sense since i didn't allow this in the postfix config file, right? But how could i log in at all? I didn't permit this, too, didn't i? <comment139467> This is OK. You shouldn't be able to send an email to your server. <comment139471> That sounds right. SMTP is terribly insecure so it lets you connect but then rejects any mail you send. <comment139486> Ok thank you, Tony! But why do i need to authenticate when i want to connect to (for example) GMAIL's SMTP server? <comment139492> Actually you don't. You can connect to it and not send mail without authorisation. Try telnetting to `smtp.gmail.com` on port 25 and you connect. <comment139499> Oh i see, you're right. But why does my mail program (Apple Mail) - when i check the connections - say: GMAIL SMTP: `connection and authorization successful`. My SMTP Server:  `connection successful, no authorization required` (or maybe a little different, i translated it)? So i guess there must be another postfix config parameter to change that? <comment139903> Ok guys, now I have it: When i take "None" as authentication method in mail, it won't try to authenticate, until i want to send an email. When i choose a authentication method, it will try to authenticate when connecting to the server ...
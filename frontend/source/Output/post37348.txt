100% CPU Lock Up On Launching Applications On AFP Shares <body> When ever I try to launch an application that is located on an AFP share, the CPU load raises to max and shortly after that the system locks. Why is this? How can I prevent it?  I'm on current Lion, problem persists since Snow Leopard. The AFP share is on a Synology DiskStation with current firmware.  After the GUI stopped working the windowserver.log reads as following. Every other log file is unchanged until the reboot related log entries.   precodeJan 19 19:35:35  [109] kCGErrorIllegalArgument: CGXGetWindowWorkspace: invalid window id: 49 Jan 19 19:35:35  [109] kCGErrorIllegalArgument: CGXGetWindowWorkspace: invalid window id: 3a Jan 19 19:35:35  [109] kCGErrorIllegalArgument: CGXGetWindowWorkspace: invalid window id: 32 /code/pre  These entries are reproducible. Trying the same through VMware+Lion I experience no crash thus I conclude that there is no problem on server side.  <comment42845> I read that a Mac often freezes in such cases because it tries to write `.DS_store` files. What then helped was to excecute `defaults write com.apple.desktopservices DSDontWriteNetworkStores true`. After that, log out and back in. <comment43006> When this is happening, try running `ps auxr | head -6` from the Terminal. Post the output here. It will give us a list of the top 5 CPU processes running at the time. <comment43289> Can't tell. The hang prevents me even from sshing. <comment43345> You might try leaving an open ssh session before the hang and see if you can use it after the hang. All this on another machine naturally. <comment43747> The SSH session halts immediately. <comment44439> Figured out that it has something to do with Hands Off!
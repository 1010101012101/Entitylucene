How to find where files reside on a partition <body> I'm trying to use Bootcamp to install a Windows partition. But it gives this error message.  img src="https://i.stack.imgur.com/hIOOh.png" alt="enter image description here"  I remember there was a program that let you see where all the files are on the partition and how much space they took up. I figure that this can help me in this situation, but I forgot what the name of the program was.  What are some programs that can help me see where files are located on the partition?  <answer42058> A disk defragmenter emmight/em do what you want for this. Possibly.  OS X since 10.3 automatically defragments files, but doesn't do anything to move them all to the 'top' of your volume. A 3rd party defragmenter might do this, which theoretically would clear out all the cruft that's preventing non-destructive repartitioning from taking place.  The other option is what Apple recommends in that dialog: clone the volume at the filesystem level, reformat, and then clone it back--when it rewrites, all of the files will be written one by one at the 'top' of the volume. Of course, if you need to do that, you might as well repartition while you're in the process of reformatting the disk.  <answer42095> There are a few third-party utilities that show disk usage graphically:  ul liDisk Inventory X/li liGrandPerspective/li liDaisyDisk/li /ul  If you're comfortable with the command-line, there's also codedu/code.  <answer42099> Sounds like you have a virtual memory page file, or a hibernation file or similar stuck at the end of the disk.  I would boot from a CD or other media (Recovery partition if on Lion), startup Disk Utility from there so you have access to the whole drive without the encumberence of actually running on the drive you are trying to play with, and rezising the partition from there to the desired size.  This will stop you encountering any files that are "locked" which prevented the resize from taking place previously.  Then you can boot back into it, and carry on with the Boot Camp Assistant.  Take a backup first, this applies emregardless/em of what method you are using, if you are resizing your partitions, then a power cut could easily screw the lot.  Another method would be to backup, recreate the partition smaller, and restore into it like the dialogue screenshot you provide says, but this is overkill and you should be able to do it without needing to complete emall/em those steps, just have the backup handy as a safety net, and resize while booted from another OS instance.  <answer42100> I had the same problem once while installing Bootcamp on a Snow Leopard machine.  The disk utility (which partitions the drive) actually tries to move your files around to create a large enough space for the new partition. Therefore you don't really need to worry about that yourself.  But two things are needed for that to work:  ol liThere has to be enough free space on your disk. Not just enough for the new partition, but more than that, so it actually has some room to work with./li liIt can't move files that are in use. And while you're logged in normally, there are always some files in use (see stuffe's answer). For me it helped to strongboot up in safe mode/strong, then running the bootcamp assistant./li /ol  <comment47781> Does your disk only have a single partition currently, and has it ever reached close to full capacity? <comment47784> Yes, it's a single 300GB partition and one time it only had 30GB free. <comment47831> Hi, I would just like to offer some advise on asking a better question.  You have got a problem which you have assumed the answer to, and then asked how to acheive that answer, not how to fix the problem.  If you edit your question to say "how can I move locked files in order to resize a partition" (or similar, just state your problem, don't pre-empt the answer) then you will get better answers, some of which may show you how to identify the locked files, others may provide a fix that doesn't need to find them (like my answer).  Of course there is no need to change anything if you don't want. <comment47848> DaisyDisk is the way to go. Great piece of software for $10.
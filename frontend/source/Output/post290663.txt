MacBook Pro hangs when shutting down <body> For a while now my MacBook Pro (Retina, 2013) hangs when shutting down. I get to the black screen and the grey spinner just spins forever. Eventually I have to press and hold the power button.  ul liThis doesn't happen when shutting down from Safe Mode./li liI ran disk First Aid from recovery mode. This fixed some disk errors, but the shutdown issue remains./li liI've tried clearing all caches as described here./li /ul  I've been looking at the shutdown logs by booting using verbose mode. Every time I shutdown I get something slightly different, but what I do always get is this message:  precodekauth external resolver timed out (1 timeout(s) of 60 seconds). /code/pre  Some other log messages I often get, but not every time, are:  precode[WindowServer pid 161 mux-aware] exiting, non-mux-aware app count 0, runtime: 0:11:44.284 WindowServer died pid 161 WS count 0 /code/pre  and:  precodeprocess akd[293] crossed memory high watermark (50 MB); sending EXC_RESOURCE. process 293 (akd) exceeded physical memory footprint, the ActiveSoftMemoryLimit of 50 MB Failed to send exception EXC_CORPSE_NOTIFY. error code: 5 for pid 293 /code/pre  and (where the pid, 88 in this case, is always that of codehttpd/code process):  precodeFailed to send exception EXC_CORPSE_NOTIFY. error code: 5 for pid 88 /code/pre  and:  precodemux-regs 4 3 5f 1d 0 8 severity 0 switch-state 0 EG power-state 0 3D 0 HDA 0 : AGC Dump State Timer /code/pre  and sometimes, after waiting something like 5 minutes, this weird thing (the packet length 145 changes):  precodeen0: Received EAPOL packet (length = 145) inputEAPOLFrame: 0 extra bytes present in EAPOL frame inputEAPOLFrame: decrypting key data inputEAPOLFrame: Received message 1 of 2 installGTK: setting cipher key (flags = 0x0) GTK-RSC: 00 00 00 00 00 00 GTK: 91 6a c9 26 39 84 84 4d 8a 65 52 c8 53 27 8c 75 ARPT: 1456.279468: SetCryptoKey() bcmerr[0]: ea[00:00:00:00:00:00] R: keyIdx[1] keylen[32] flags[0x0000] algo[2] rxiv(hi[0x00000000] lo[0x0000]) installGTK: GTK installed /code/pre  I'm running the latest mac OS Sierra 10.12.5, and I'm quite sure I've had this problem since before the latest OS upgrade.  Most of the time I just sleep the computer and nothing else seems to be wrong so it's not affecting me too much, but still I would like to fix this issue. Any help would be welcome. 
Auto unmount time machine drive on sleep <body> I keep a drive attached to my MacBook for Time Machine backups when I'm at my desk. I also regularly work from places other than my desk. Most of the time, if I close the laptop lid I intend to leave my desk, so I need to unmount the drive. Is there any way to automate this, so that the OS automatically unmounts the drive before sleep? I figure my options are  ol liJust be a bad computer user and unplug the drive. (yikes)/li liManually remember to unmount the driveâ€¦ This takes 15-20 seconds altogether, and I'll forget at least some of the time./li liFigure out how to make it automatic./li /ol  <answer179038> You can use codeioreg/code to test if your lid is closed or open:  precodeioreg -r -k AppleClamshellState | grep AppleClamshellState /code/pre  No= Lid is open Yes= Lid is closed  You can use codediskutil unmount /dev/&lt;mydisk&gt;/code to unmount the TimeCapsule. Use codediskutil list/code to find the disk location of the TimeCapsule.  Using if statements you can automate the job:  precodeif [[ $(ioreg -r -k AppleClamshellState | grep AppleClamshellState | grep Yes) ]]; then echo Lid Closed; diskutil unmount /dev/&lt;mydisk&gt;; fi /code/pre  You can use launchd to set up a automated job that is repeated for example every second (see how to here: http://alvinalexander.com/mac-os-x/mac-osx-startup-crontab-launchd-jobs) 
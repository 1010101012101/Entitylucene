-p: command not found - Automator help needed <body> I'm using Automator to run a shell script for taking an interactive screencapture and opening it in Preview for easy annotation. When running the script it fails and states -: -p: command not found.  precodedirectoryname=Screenshots filename=shot_`date '+%Y-%m-%d_%H-%M-%S'`.png path=~/Pictures/$directoryname/ mkdir -p $path screencapture -o -i $path$filename open -a 'Preview' $path$filename /code/pre  It seems to be failing on codemkdir -p $path/codeand I have no idea why. If I remove that line it just fails on code-o/code.  img src="https://i.stack.imgur.com/BnYAz.png" alt="enter image description here"  <comment292641> Looks like it considers `mkdir` to be part of the previous line. Does it run if you paste it into Terminal directly? <comment292642> Well it (almost) works in Terminal. It allows me to do an interactive screencapture and I can see the file being created in the proper folder.  Terminal hangs at `open -a 'Preview' $path$filename` - seems like the screen captures are not being named properly. <comment292646> What version of osx are you on, your script works on my machine (10.11.5) <comment292654> 10.11.5 as well. I deleted the previously made Screenshots folder and it now creates the screenshot with the right file name but still hangs at `open -a 'Preview' $path$filename` <comment292668> Your code, as is, works for me however, try using: `filename="shot_$(date '+%Y-%m-%d_%H-%M-%S').png"` Also, as a general rule of good bash coding practices, you should double-quote variables, e.g. `"$path$filename"` and variable assignments too, e.g `foo="bar"`. Another thing, I've found that sometimes using `~` can be problematic in Automator and prefer to use `$HOME` instead. <comment292675> Tried with the changes you recommended and still no Preview opening - it still hangs, weird. <comment292695> Just tried, works without problems here. Can you delete the shell script content (not the action, just the text), copy/paste it again from the question above, fix the things recommended by @user3439894 and try again? Maybe there is a strange character at the end of the `path=` line. <comment292714> Still stuck, weird. I tested on both my iMac and my Hackintosh, both get stuck when copy/pasting to terminal.  `directoryname="Screenshots"   filename="shot_$(date '+%Y-%m-%d_%H-%M-%S').png"   path="$Home/Pictures/$directoryname/"   mkdir -p "$path"   screencapture -o -i "$path$filename"   open -a 'Preview' "$path$filename"`  Here's a pastbin for better formatting: http://pastebin.com/jA2Xf6dU
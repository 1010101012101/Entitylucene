Macintosh HD missing after failed catalog btree rebuilding <body> There is an I/O error in the hard disk in my MacBook Pro running Mountain Lion and as I start it up, a progress bar fills up and then it shuts down on its own. I attempted to recover the files in single-user mode and try to fix it by rebuilding the catalog btree as in this answer:  precodefsck_hfs -Rc -d /dev/disk0s2 /code/pre  Unfortunately it encountered numerous errors as it approached the part with a disk error. Since then the Macintosh HD does not mount in single-user mode and I am only left with the Mac OS X Base System.   Running codedf -hl/code on the 500GB drive gives the following:  precodeFilesystem    Size   Used  Avail Capacity iused ifree %iused  Mounted on root_device  1.2Gi  1.1Gi  106Mi    92%  280978 27978   91%   / /code/pre  of which 1.2GB represents the Mac OS X Base System.  codefsck_hfs -l /dev/disk0s2/code gives:  precode** Checking catalog file.    Missing thread record (id = 18)    File record has hard link chain flag (id = 38468309)    File has incorrect number of links (id = 38468309)    (It should be 1 instead of 2)    ...    Missing thread record (id = 216712)    ...    Incorrect number of thread records (4, 202)    Incorrect number of thread records (4, 202) ** Checking multi-linked files.    Incorrect number of file hard links ** Checking catalog hierarchy. ** The volume   could not be verified completely. /code/pre  And code/sbin/fsck/ -fy/code gives:  precode** The volume Mac OS X Base System appears to be OK. /code/pre  I tried to manually mount the drive with  precodemount -t hfs /dev/disk0s2 "/Volumes/Macintosh HD" /code/pre  but it didn't work:  precodehfs_mounts: failed to mount non-root inconsistent disk hfs_mount: hfs_mountfs returned 22 mount_hfs: Invalid argument /code/pre  How do I correctly rebuild the catalog btree and remount disk0s2 (which is the Macintosh HD)?  <comment107360> Some might be in /lost+found <comment107361> @Mark Where do I find this? `cd: /lost+found: No such file or directory` <comment107362> If fsck does find things iy puts them in that dir. If the directory is not there nothing was found <comment107377> AppleBoy, what have you done this time :( <comment107378> @Buscar웃 I checked again carefully and discovered that I didn't just lose `/Users`, the whole `Macintosh HD` was gone. Attempting to mount manually would give errors like `failed to mount non-root inconsistent disk` and `hfs_mountfs returned 22`. <comment107379> It is still talking to you, that is good sign. Do you think there is a chance to boot from USB and work from there. <comment107380> @Buscar웃 I can try, but I doubt if that would work. I couldn't mount the drive in Disk Utility, so I guess this drive is not readable in its current form. <comment107381> Since you say it works in basic form ..Maybe it is just something banal as... try the repair permissions sudo diskutil repairPermissions / <comment107382> @Buscar웃 I can't run `diskutil` in single-user mode. <comment107384> I did not see you trying to reset the PRAM command+option+P+R or sudo nvram boot-args=”-p -r” <comment107385> @Buscar웃 The drive was accessible in single-user mode before. After I tried to rebuild the btree, the drive is gone. I should have tried resetting PRAM beforehand, but now the problem is more serious than that. <comment107386> Hang on, I lost you, where are you now! In single user mode! if yes try this instructions to mount the drive. http://www.insanelymac.com/forum/topic/232365-guide-how-to-mount-drives-in-os-x-single-user-mode-using-the-command-line/ <comment107387> @Buscar웃 I tried the exact same thing before, and it gave the errors I have mentioned previously: `failed to mount non-root inconsistent disk`, `hfs_mountfs returned 22` and `invalid argument`. I also tried `diskutil repairPermissions disk0s2` in recovery mode. It gives `Error starting permissions repair for disk0s2: Couldn't mount disk (-69842)` <comment107389> OK, I should have read your OP bit more carefully. I would suggest you disable the Journaling with /System/Library/Filesystems/hfs.fs/hfs.util -N /dev/partitionName than do the /sbin/fsck_hfs -yprd /dev/partitionName and it should mount your disk. Now do the Disk Utility, selected your partition, and then clicked "Enable Journaling" to get that back up and running again. <comment107392> @Buscar웃 You mean [this one](http://nickvahalik.com/blog/fixing-hfs-disk-will-not-mount)? I am actually afraid of running more `fsck_hfs` commands unless I am completely sure what it does. The manual says it would only perform a repair when it can and would exit on error. Apparently it just wiped out my whole drive without a warning. <comment107397> Yes that one :) but the decision is yours! I do not know how to help you further without bringing my system in to your state :) <comment107423> It's very expensive but [Disk Warrior](http://www.alsoft.com/DiskWarrior/index.html) has a good track record of rebuilding HFS+ structures that diskutil can't <comment107424> @Buscar웃 the `r` in `/sbin/fsck_hfs -yprd /dev/partitionName` is equivalent to `Rc` in the original command I issued. It is this catalog btree rebuilding that caused serious failure in my hard drive. <comment107425> @MikelR If everything fails, this will be my last resort, before sending the drive to some data recovery service. <comment107436> I see, I did not know that. You can try pinging @Patrix who posted the original and ask him what is it all about. <comment107439> @Buscar웃 I need [50 rep](http://apple.stackexchange.com/privileges/comment) to do that. <comment107441> I just did it for you with @patrix for HELP :), but you can post few good answers and in no time you have the points. <comment107462> Let's move this discussion to [chat].. Also, we have many questions about general advice on seeking data recovery (see the related questions side of this page) so it's hard to see how this is anything but a guess of "yes - you've lost all chance of recovery and here's why I believe that" and "no - you can always try again to recover the data or bring better tools and training to the problem". Feel free to edit the call to action to make it more clear what problem you face other than looking for troubleshooting assistance. <comment107478> @bmike I have edited the question. This is not about general advice but about a specific command [patrix](http://apple.stackexchange.com/users/9058/patrix) suggested [in an earlier answer](http://apple.stackexchange.com/a/56462) that resulted in an unmountable drive. It would also be helpful if he can explain the command and the effect it has on the main volume.
Upgrade to Yosemite then triple-boot problem <body> I had Mac OS X 10.8, Fedora and Windows XP triple-boot in refit. I upgraded to OS X Yosemite. The refit screen disappeared.  I used command   precodecd /efi/refit    ./enable.sh /code/pre  Then refit screen comes but Linux and Windows partitions can not start. I got an error:  precodegnu grub minimal bash-like editing is supported. For the list word TAB lists possible command completitions....... /code/pre  Here is my partition inspector report:  strong* Report for internal hard disk */strong  precodeCurrent GPT partition table:  #      Start LBA      End LBA  Type  1             40       409639  EFI System (FAT)  2         409640    139965663  Mac OS X HFS+  3      139965664    141235199  Mac OS X Boot  4      141235200    225730535  Basic Data  5      226904064    312580095  Basic Data  Current MBR partition table:  # A    Start LBA      End LBA  Type  1              1       409639  ee  EFI Protective  2         409640    139965663  af  Mac OS X HFS+  3      139965664    141235199  ab  Mac OS X Boot  4 *    141235200    225730535  83  Linux  MBR contents:  Boot Code: Unknown, but bootable  Partition at LBA 40:  Boot Code: None (Non-system disk message)  File System: FAT32  Listed in GPT as partition 1, type EFI System (FAT)  Partition at LBA 409640:  Boot Code: None  File System: HFS Extended (HFS+)  Listed in GPT as partition 2, type Mac OS X HFS+  Listed in MBR as partition 2, type af  Mac OS X HFS+  Partition at LBA 139965664:  Boot Code: None  File System: HFS Extended (HFS+)  Listed in GPT as partition 3, type Mac OS X Boot  Listed in MBR as partition 3, type ab  Mac OS X Boot  Partition at LBA 141235200:  Boot Code: GRUB  File System: ext3  Listed in GPT as partition 4, type Basic Data  Listed in MBR as partition 4, type 83  Linux, active  Partition at LBA 226904064:  Boot Code: Windows NTLDR  File System: NTFS  Listed in GPT as partition 5, type Basic Data /code/pre  How do I fix the triple-boot environment?  Edit 2: Is the system works if I reinstall linux and windows?  Here the result of the command  precodefaruk-ceviks-macbook-pro:~ fcevik$ sudo gpt -r show /dev/disk0 Password: gpt show: /dev/disk0: Suspicious MBR at sector 0 start       size  index  contents 0          1         MBR 1          1         Pri GPT header 2         32         Pri GPT table 34          6          40     409600      1  GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B 409640  139556024      2  GPT part - 48465300-0000-11AA-AA11-00306543ECAC 139965664    1269536      3  GPT part - 426F6F74-0000-11AA-AA11-00306543ECAC 141235200   84495336      4  GPT part - EBD0A0A2-B9E5-4433-87C0-68B6B72699C7 225730536    1173528          226904064   85676032      5  GPT part - EBD0A0A2-B9E5-4433-87C0-68B6B72699C7 312580096       1679          312581775         32         Sec GPT table 312581807          1         Sec GPT header /code/pre  Answer to edit1:  precodefaruk-ceviks-macbook-pro:~ fcevik$ diskutil list /dev/disk0 #:                       TYPE NAME                    SIZE       IDENTIFIER 0:      GUID_partition_scheme                        *160.0 GB   disk0 1:                        EFI EFI                     209.7 MB   disk0s1 2:                  Apple_HFS Macintosh HD            71.5 GB    disk0s2 3:                 Apple_Boot Recovery HD             650.0 MB   disk0s3 4:       Microsoft Basic Data                         43.3 GB    disk0s4 5:       Microsoft Basic Data BOOTCAMP                43.9 GB    disk0s5 /code/pre  emHave you every booted the computer by holding down the alt(option) key?/em Yes I have. I saw mac and bootcamp options but bootcamp did not worked.  emDo you have a flash drive 1 GB or larger than you can erase and reuse? To edit the partition tables you will need to boot from a flash drive. To make the flash drive, you will need to download the OS X Recovery Disk Assistant. This application works with Lion through Yosemite. An alternative to making the flash drive would be to delete Windows and Linux. I assume you do not want to erase either one./em  Yes I have an external hard drive to use as you described. I am trying to postpone my personal staff to apply solutions. Otherwise I might answer in 2 days. I can erase linux and reinstall. Also there is mac's disk utility. Shall I try to repair partitions?  strongAnswer to @njboot comment./strong  precodeLast login: Sun Mar  1 09:46:21 on ttys000 faruk-ceviks-macbook-pro:~ fcevik$ for i in /dev/di*; do diskutil information "$i";done Device Identifier:        disk0 Device Node:              /dev/disk0 Part of Whole:            disk0 Device / Media Name:      Hitachi HTS545016B9SA02 Media  Volume Name:              Not applicable (no file system)  Mounted:                  Not applicable (no file system)  File System:              None  Content (IOContent):      GUID_partition_scheme OS Can Be Installed:      No Media Type:               Generic Protocol:                 SATA SMART Status:             Verified  Total Size:               160.0 GB (160041885696 Bytes) (exactly 312581808 512-Byte-Units) Volume Free Space:        Not applicable (no file system) Device Block Size:        512 Bytes  Read-Only Media:          No Read-Only Volume:         Not applicable (no file system) Ejectable:                No  Whole:                    Yes Internal:                 Yes Solid State:              No OS 9 Drivers:             No Low Level Format:         Not supported  Device Identifier:        disk0s1 Device Node:              /dev/disk0s1 Part of Whole:            disk0 Device / Media Name:      EFI system partition  Volume Name:              Not applicable (no file system)  Mounted:                  Not applicable (no file system)  File System:              None  Partition Type:           EFI OS Can Be Installed:      No Media Type:               Generic Protocol:                 SATA SMART Status:             Verified Volume UUID:              BDC1974F-6B8C-3DAE-9DB2-3AA3C17BF506 Disk / Partition UUID:    00007785-4AE3-0000-9606-0000066A0000  Total Size:               209.7 MB (209715200 Bytes) (exactly 409600 512-Byte-Units) Volume Free Space:        Not applicable (no file system) Device Block Size:        512 Bytes  Read-Only Media:          No Read-Only Volume:         Not applicable (no file system) Ejectable:                No  Whole:                    No Internal:                 Yes Solid State:              No  Device Identifier:        disk0s2 Device Node:              /dev/disk0s2 Part of Whole:            disk0 Device / Media Name:      Customer  Volume Name:              Macintosh HD  Mounted:                  Yes Mount Point:              /  File System Personality:  Journaled HFS+ Type (Bundle):            hfs Name (User Visible):      Mac OS Extended (Journaled) Journal:                  Journal size 16384 KB at offset 0x10302000 Owners:                   Enabled  Partition Type:           Apple_HFS OS Can Be Installed:      Yes Recovery Disk:            disk0s3 Media Type:               Generic Protocol:                 SATA SMART Status:             Verified Volume UUID:              FC885E2E-F4CD-30CE-86DF-E463E901B0BA Disk / Partition UUID:    0000144C-0F27-0000-460B-0000C9030000  Total Size:               71.5 GB (71452684288 Bytes) (exactly 139556024 512-Byte-Units) Volume Free Space:        14.5 GB (14457184256 Bytes) (exactly 28236688 512-Byte-Units) Device Block Size:        512 Bytes Allocation Block Size:    4096 Bytes  Read-Only Media:          No Read-Only Volume:         No Ejectable:                No  Whole:                    No Internal:                 Yes Solid State:              No  Device Identifier:        disk0s3 Device Node:              /dev/disk0s3 Part of Whole:            disk0 Device / Media Name:      Recovery HD  Volume Name:              Not applicable (no file system)  Mounted:                  Not applicable (no file system)  File System:              None  Partition Type:           Apple_Boot OS Can Be Installed:      No Media Type:               Generic Protocol:                 SATA SMART Status:             Verified Volume UUID:              22AD4ADE-11BC-3F1F-AC0E-F1BAE42F4A28 Disk / Partition UUID:    32DD7B00-568C-47BA-B316-E80F81042B29    Total Size:               650.0 MB (650002432 Bytes) (exactly 1269536 512-Byte-Units) Volume Free Space:        Not applicable (no file system) Device Block Size:        512 Bytes  Read-Only Media:          No Read-Only Volume:         Not applicable (no file system) Ejectable:                No  Whole:                    No Internal:                 Yes Solid State:              No  Device Identifier:        disk0s4 Device Node:              /dev/disk0s4 Part of Whole:            disk0 Device / Media Name:      DOS_FAT_32_Untitled_2  Volume Name:                Mounted:                  No  File System Personality:  MS-DOS Type (Bundle):            msdos Name (User Visible):      MS-DOS (FAT)  Partition Type:           Microsoft Basic Data OS Can Be Installed:      No Media Type:               Generic Protocol:                 SATA SMART Status:             Verified Disk / Partition UUID:    F254D5F1-B27C-4B5A-AA0E-90CE1833FFE1  Total Size:               43.3 GB (43261612032 Bytes) (exactly 84495336 512-Byte-Units) Volume Free Space:        0 B (0 Bytes) (exactly 0 512-Byte-Units) Device Block Size:        512 Bytes  Read-Only Media:          No Read-Only Volume:         Not applicable (not mounted) Ejectable:                No  Whole:                    No Internal:                 Yes Solid State:              No  Device Identifier:        disk0s5 Device Node:              /dev/disk0s5 Part of Whole:            disk0 Device / Media Name:      Untitled  Volume Name:              BOOTCAMP  Mounted:                  Yes Mount Point:              /Volumes/BOOTCAMP  File System Personality:  NTFS Type (Bundle):            ntfs Name (User Visible):      Windows NT File System (NTFS)  Partition Type:           Microsoft Basic Data OS Can Be Installed:      No Media Type:               Generic Protocol:                 SATA SMART Status:             Verified Volume UUID:              EB783310-0D68-48FD-AD10-AAA6AA30DB98 Disk / Partition UUID:    467C02B0-CDD2-4EE7-B16D-1D2C89BBF6D3  Total Size:               43.9 GB (43866128384 Bytes) (exactly 85676032 512-Byte-Units) Volume Free Space:        14.9 GB (14926794752 Bytes) (exactly 29153896 512-Byte-Units) Device Block Size:        512 Bytes Allocation Block Size:    4096 Bytes  Read-Only Media:          No Read-Only Volume:         Yes Ejectable:                No  Whole:                    No Internal:                 Yes Solid State:              No /code/pre  <answer174883> Update 3: Sorry it took so long to get back. I have been doing some reading. There two ways for a operating system to boot on a Mac. The first involves using the legacy BIOS which assumes the disk is partitioned using a MBR scheme. The second uses the EFI which (in our case) assumes the disk is partitioned using a GPT scheme. Macs provide both partition schemes (thus the name Hybrid) which allows for both types of booting. OS X always boots using EFI/GPT. After studying the output you posted, I have come to the conclusion both Windows and Fedora were booting using BIOS/MBR. The boot manager rEFIt is primarily designed for Macs and, in your case, was installed in the OS X partition.   Upgrading to Yosemite created two problems. First, rEFIt was disabled. Second a small Recovery Partition was added between the OS X and Fendora partitions. Reinstalling rEFIt may be solution to the first problem. I notice rEFIt has not been updated in many years and may no longer be compatible with Yosemite. The boot manager rEFInd is suppose to replace rEFIt, but there are differences worth noting. First, rEFInd is not only for Macs. Actually, the development platform is more for Linux. This is stated on the rEFInd home page. Second, rEFInd assumes a UEFI (which succeeded EFI) and most (if not all) Macs do not fully adhere to this new standard. Third, as far as I can tell, rEFInd assumes all partitions are booting using EFI/GPT. I do not believe this is what you are trying to do. I assume you will still be installing and booting Windows 7 and Fedora 21 using BIOS/MBR. A better choice may be Boot Runner. You can use a 14-Day Trial. If you buy, the cost is $10. If not, it is easy to uninstall.  The Second problem, involving the extra Recovery Partition, can be resolved by removing the partition. It is not the best solution, but just the easiest. There is a good chance that if you hold down the alt(option) key at startup, you may be able to boot Fedora. This may also work for Windows, once the extra Recovery Partition is removed. I would still encourage you to copy the Recovery Partition to a flash drive before deleting it. If you every need to reload Yosemite, you can download it by booting to this flash drive.  The drivers for Windows 7 can be downloaded from Boot Camp: System requirements for Microsoft Windows operating systems. You can also download the drives using the Boot Camp Installer.  Just so you know, I used the same drivers to install Windows 8 (64  bit) on my iMac (20-inch, Mid 2007), even though this web site says I can not. I assume you could do the same. I may install Fedora on my iMac, just to see if it works. Maybe Boot Runner as well. I am not using the same order as you. I currently have Windows 8.1 installed before Yosemite. I would be installing Fedora between Windows and Yosemite. This is how I avoid the problems you encountered installing OS X upgrades.  hr  Update 2: Yosemite installer inserted a hidden partition between the OS X and Fedora partitions. The solution I was going to use involves removing this partition. I have never used the Disk Utility to do this. If you want to try, first you will have to make the hidden partitions visible. The instructions for doing this can be found at View &amp; Mount Hidden Partitions in Mac OS X. You want to view the hidden partitions. Do not mount them.   I was going to have you copy the hidden partition to a flash drive before you deleted it. Without the flash drive, you may have to reinstall Fedora. If all goes well, Windows should be bootable once the hidden partition is deleted. If not, you should be able to reinstall Fedora and Windows.  The alternative, would be to boot from the flash drive and edit the partition tables. This would be complicated but could save you from having to reload the operating systems.  hr  Update 1:  Post the output from the command:  precodediskutil list /code/pre  Questions:  Have you every booted the computer by holding down the alt(option) key?  Do you have a flash drive 1 GB or larger than you can erase and reuse?  To edit the partition tables you will need to boot from a flash drive. To make the flash drive, you will need to download the OS X Recovery Disk Assistant. This application works with Lion through Yosemite.  An alternative to making the flash drive would be to delete Windows and Linux. I assume you do not want to erase either one.  hr  I am a novice at this, but I will give it a go. I hope someone else would build on this post. In my opinion, Yosemite added a recovery partition after the OS X boot partition. This partition appears in both the GPT and MBR partition tables. This moved the Fedora and Windows partitions up in the GPT table. Fedora also move up in the MBR table, but since the MBR is limited to 4 partitions, Windows was completely removed from the MBR table. XP can only boot using a MBR partitioning scheme, so it is understandable why XP will not boot.  In the GPT table, Windows is shown as partition 5 with type Basic Data. I assume the GUID is EBD0A0A2-B9E5-4433-87C0-68B6B72699C7, although one would have to run   precodesudo gpt -r show /dev/disk0 /code/pre  from a OS X Terminal window to confirm this. Partition 4 also is shown as a type Basic Data. This may be an error, since I assume the partition should have a Linux GUID. It would help if you would add the output from the above command to you question.  If I am right, you have two options. Option A: move the partitions around so Windows will not be the last partition on the disk. This would be time consuming and would require an external disk to temporary hold one or more partitions. Option B: Remove the OS X recovery partition from the GPT and MBR tables. This partition is only 650MB in size. OS X has a tool you can download which will copy the partition to a flash drive. You can then boot from this flash drive if you need to. OS X has two command line utilities called gpt and fdisk which can be used to restore the GPT and MBR tables to the state before you installed Yosemite.  Also, could you include in your question what model iMac you are using.  <comment206013> I Used disk utility <comment206017> Go -- Utilities -- Partition Inspector -- Analyze  I need answer please some one help <comment206020> Please try [rEFInd](http://www.rodsbooks.com/refind/getting.html). Check the docu there. <comment206046> Thanks David. It is really difficult situation. Is the system works if I reinstall Linux and Windows? MacBook Pro (13-inch, Mid 2009) 2,26 GHz Intel Core 2 Duo 2 GB 1067 MHz DDR3 NVIDIA GeForce 9400M 256 MB <comment206048> I do not think there is anything wrong with your Linux or Windows partitions. I believe the problems is in the partition tables. Here is a test. Boot using your Windows XP DVD. You should not be able to reinstall to the windows partition. When you reach the point were you need to pick a partition to install to, the existing windows partition will not show up. <comment206049> Note that I see bootcamp disk on desktop and I see all files and folders.  Also in my old desktop computer I had dual boot linux and windows. Similar problem occured. I used fixmbr or fdisk/mbr to resolve. I could not clearly remember. <comment206051> @njboot I do understand <comment206055> I have updated my answer. Do you have another way to access the internet other than the MacBook Pro? <comment206058> @njboot: Do you know how to fix this. I was going to have him boot from a flash drive and edit the MBR and GPT tables from the Terminal app. I do not know what the correct UUID should be for a Fedora partition. If you have a better solution, post it and you can have the credit. <comment206060> @njboot the commands has no output in terminal. for i in /dev/di*; do diskutil information "$i”;done  OR   for i in /dev/di*; do diskutil information "$i”; <comment206061> @riznad the end-quote `”` was improperly formatted and results in an interactive session. my apologies. Here is the correct command: `for i in /dev/di*; do diskutil information "$i";done` <comment206065> I updated my answer. I understand if you have to go. <comment206069> @njboot I posted the result of script. Thanks <comment206071> @DavidAnderson thank you very much. I will backup some documents first. Than search for any other answer. Than I will apply your offer deleting hidden partition between OS X and fedora <comment206073> @DavidAnderson nope i don’t - at least not without reformatting. your solution seems viable, though risky (any solution is risky here and the OP should backup before proceeding). Cheers. <comment206074> @DavidAnderson and njroot If I install windows7 to bootcamp partition and fedora 21 to linux partition by formating, Does the 3 systems work properly? The critical system is mac osx for me. I can format other partitions. <comment206081> @DavidAnderson also I can not find refind.conf folder to edit. refind opens in startup. How can I configure?  http://www.rodsbooks.com/refind/configfile.html <comment206082> @njboot also I can not find refind.conf folder to edit. refind opens in startup. How can I configure?  http://www.rodsbooks.com/refind/configfile.html <comment206224> Thank you very much for your patient help. I found a link: http://jonsview.com/fixing-mbr-tables-on-imac-or-mbp-triple-boot-setups  I think my situation is similar. But I am afraid to implement. I will delete windows and linux partitions than reinstall.  Note that I recopy files under EFI folder(related with refit). Than in start up REFIT (a new choice) appeared. (Mac,linux,windows+Refit) When I select REFIT windows,linux and mac choices available but only mac works. Here my solution plan: Install a refit 0.14 (current is 0.13) if it does not work++ <comment206225> ++ format and merge linux and windows partitions in disk utility. than split again. Than install windows 7 by using bootcamp assistant. Than install fedora from refind menu. I am at office in day time. I could implement at 20:00 - 24:00 in gmt+2 time in work days. or in weekend. Most likely in weekend I could find time. Kind regards <comment206227> @riznad: OK. You a have done these steps? Or are you waiting to do these steps? Have not read your link yet. Will do so. Should be here at 20:00 in gmt+2. <comment206229> Thank you very much for your interest. No. I have not applied. I will apply when I have time and courage <comment206435> I don't know who gave me 10 reps, but I am not done yet. I have installed and tested rEFIt 0.14 on my computer. What I did was put rEFIt in its own partition. This way future updates to OS X will not overwrite rEFIt. This works fine with OS X 10.10.2 and Windows 8.1. Next, I will install Fedora. I will report back my results. riznad, sorry I missed you yesterday. Ended up helping @gsr, who also is using rEFIt and is going to upgrade to Yosemite. His question can be found [here](http://apple.stackexchange.com/questions/174840/macbook-pro-upgrade-to-ssd-migrating-osx-and-bootcamp-partitions).
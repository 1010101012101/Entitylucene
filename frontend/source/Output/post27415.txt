Lion "hosts" File Bug <body> I have some serious problems with the hosts file on my Lion 10.7.2. My hosts file is like following;  precode127.0.0.1 localhost 255.255.255.255 broadcasthost ::1 localhost fe80::1%lo0 localhost  27.0.0.1 first.localhost ::1 first.localhost 27.0.0.1 second.localhost ::1 second.localhost /code/pre  I have more than 2 local sites but I just cut is short.  I can't manage codehttp://first.localhost//code to work. codehttp://second.localhost//code works fine but codehttp://first.localhost//code doesn't work. If I delete the last two lines (which corresponds to strongsecond/strong) than codehttp://first.localhost//code works.  How can I add more than one local site in my hosts file? I'm using Lion 10.7.2 which I upgraded today and all those problems arose after that upgrade.  strongNote:/strong There is nothing wrong with Apache config files or any other file with the local web server, I know that it's the code/etc/hosts/code file that causes the problem.  Thanks.  <answer27417> All additional entries to the HOSTS file must be above the:  precodefe80::1%lo0 /code/pre  Make sure there is at least one line break after the last entry. Like so:  precode127.0.0.1 LLL.localhost 127.0.0.1 LLL.localhost # /code/pre  Although you probably can't tell, there is another line following the # symbol. One more thing to mention, using kbdSpace/kbd instead of kbdTab/kbd between 127.0.0.1 and localhost might help too.  <answer27430> You'll need to follow ioi's answer to the T to get this to work correctly.  I think the real trick might be the extra line at the end of the file.  <comment31471> http://pastebin.com/uuDzA9pT this is how my `hosts` file looks like but `test.example.com` not working. I read some articles that advise the same you say but nothing's working. <comment31472> I'll take a look, just one sec. <comment31475> Try this one: http://pastebin.com/d01ahHss ( just replace the XYZ.localhost with yours ) <comment31477> Not working :( This works; http://pastebin.com/g8b6AnZ9 but can't add a second vhost. If there is only one site, than the one that I wrote works, but if I try to add more sites it doesn't work. This is the weirdest OSX bug I've ever seen :) <comment31478> Everything MUST be above the line: fe80::1%lo0 <comment31479> I just copy/pasted your code but didn't work. The one that I've posted works but as I said, I can't add another site. <comment31480> Also, don't use tabs between 127.0.0.1 and localhost either; that can cause problems. http://pastebin.com/fGzJxzHT <comment31481> I'm just copy/pasting your code. Nothing more, nothing less but not working. So those work for you? What's you Lion version? <comment31482> ah, I thought you were editing your hosts file. you need to change the first, second, etc. http://pastebin.com/zd4E4j62 <comment31483> let us [continue this discussion in chat](http://chat.stackexchange.com/rooms/1571/discussion-between-ioi-and-burak-erdem) <comment31486> It was a simple file editing issue. I was just appending my hosts file while editing with `Textmate`. Editing with `nano` solved the problem. Thanks @ioi for helping me. <comment31492> Yes but it was my fault that I edited `hosts` file with Textmate and I didn't realize that TM was appending the file. Using `nano` solved the problem, thanks to @ioi. <comment31493> @c-apolzon â€” I agree. It definitely doesn't hurt to ensure EOF. <comment31975> I'm still confused as to what exactly the problem was. TextMate was *appending*? As opposed to what? What did nano do that TextMate wasn't?
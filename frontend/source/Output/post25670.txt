Time Machine over SMB/CIFS share? <body> As far as I understand there's no way to make Time Machine with SMB/CIFS; you have to connect using AFP.  Is that true ? Is there a way to make it work ?  I'm using OS X Lion.  <answer25676> A guy worked on this:  Lion, Time Machine and AFP feature bits   <answer38633> You'll need to create a HFS+ code.sparsebundle/code disk image and use the codetmutil/code command line utility to tell Time Machine to use that drive as the backup destination. In turn, you can put that drive just about anywhere. Note that you need to give a permanent home (i.e. don't move it elsewhere) to the disk image emfirst/em before targeting it with codetmutil/code as a backup destination.  I've recently wrote a blog post how to use a network drive as a Time Machine destination. You can also use the same technique to use drives with other filesystems (like NTFS for example) as a Time Machine destination drive, as long as Lion can write to it (for NTFS, you'll need either NTFS-3G, Tuxera, or Paragon's drivers to write to them).  <comment29117> Please include what version of OS X you are running, as there were changes to SMB in Lion (it was removed) that will affect your question. <comment29118> Done. I don't think SMB was removed from Lion ... I can connect to a SMB share. <comment29121> Thanks Cedric. This may be an article of interest to you: http://frankleng.me/2011/07/21/connect-to-a-freenas-samba-or-afp-share-on-lion-workaround/ Although I'm not sure if you can hook Time Machine into that set up or not. <comment29146> Let me clarify about SMB being "removed". With Lion, Apple removed the open-source SAMBA implementation, which is a *clone* of the functions of Microsoft SMB. Apple replaced SAMBA with their own proprietary stack that they call SMBX, which is designed to perform the same functions. Apple did this largely because they couldn't meet the open source licensing requirements of SAMBA. There is little or no documentation about SMBX at this time. <comment29147> Apple's official documentation does indeed say that Time Machine only works over AFP. If there is a way to get it to work over SMB/CIFS, that's a work-around. <comment113926> This is the best answer here (easiest to implement), but the other one was also helpful.
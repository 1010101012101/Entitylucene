Behavior of login shell vs. Linux, 'sh -c' <body> I have a seemingly-valid command that works fine on Linux boxes but fails on OSX, and I would like to know why.  precodesudo su - validusername sh -c 'whoami' /code/pre  On Linux, this will echo 'validusername' on the console.  OSX however, shows an error:  precode/bin/sh: /bin/sh: cannot execute binary file /code/pre  Is this an OSX particularity?  Or is it due to the fact that OSX uses bash 3.2, while our linux boxes are on bash 4.x?  EDIT: I figured out a workaround quickly (codesudo -u/code), I am mainly interested in learning why this happened.  Thanks!  <answer118943> try  precodesudo -su validusername sh -c 'whoami' /code/pre  <answer118944> or:  precodesudo su - username -c whoami /code/pre  The codesu/code man page says   precode su [-] [-c class] [-flms] [login [args]] /code/pre      ...      If the optional args are provided on the command line, they are passed to        the login shell of the target login.  Note that all command line argu-        ments before the target login name are processed by su itself, everything        after the target login name gets passed to the login shell.   <answer118975> OK, to start with you don't need both 'su' and 'sudo' - just the 'su' will do. I also doubt under Linux that you have the 'sh' since the effect of the '-' is to run a login shell but what on earth the poor shell is attempting in your command with both is anybody's guess.  I live in a world where we remove codesudo/code from our Linux boxes so I can't check if your command actually works.  Under both OS X and Linux the command codesu - username -c 'whoami'/code will echo username.  There are some differences between the 'su' and 'sudo' found on Linux and OS X but they are due to the differences between our laid back, West Coast, BSD version of Unix and the uptight, East Coast, AT&amp;T derived Gnu utilities used in the average Linux distro rather than bash versions since neither is a bash builtin.  <comment138709> Never forget OSX is not a GNU but a BSD. <comment138739> Thanks Matthieu, my first encounter with OSX BSD grep taught me that lesson quickly! <comment138742> Which version of OS X? My `su` man page says nothing of the sort. `su [-] [-flm] [login [args]]` under Mavericks. <comment138790> BTW this has little to do with Bash, and more to do with the version(s) of `sudo` and `su` (GNU vs BSD). I'd point out that there is no reason to use `su` at all (in fact arguably you shouldn't is you have `sudo`) since switches in `sudo` can accommodate your needs perfectly. <comment138796> OK, "a" su man page. I don't have a mac handy, so I was looking at a BSD man page: http://www.freebsd.org/cgi/man.cgi?query=su
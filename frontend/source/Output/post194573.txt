Unable to use gpt to restore efi partition <body> I accidentally deleted my efi partition, which I now know is bad news bears. I found a guide here to restore it without losing data, but even though I'm booting from usb and have unmounted all partitions, I'm still getting the error codegpt remove: unable to open device "disk0": resource busy/code.   Everything I'm reading says to boot from an OSX usb installer disk, and use codediskutil unmountdisk disk0/code and then gpt will work.  I've definitely done both of these things but it's still telling me the disk is mounted...  Could someone recommend anything else to try? Much thanks  <answer194679> I figured it out, my hd was getting mounted under Volumes and had to be removed with codediskutil unmount /Volumes/Macintosh\ HD/code  Don't know why unmountdisk wasn't fixing this but whatever  <answer195928> If none of the disk utility and external boot options are working for you try this:  ul liRun codediskutil list/code to get the device address/li liUse codesudo diskutil unmountDisk force /dev/disk2/code to force unmounting (replace codedisk2/code with the right name from the first step!)/li /ul  Source: http://technology.siprep.org/fix-for-disk-erase-failed-couldnt-unmount-disk/  <answer257829> There are two different kind of boot modes in computers, Legacy BIOS-based and Unified Extensible Firmware Interface (UEFI). UEFI is the main booting mechanism used recent computers, while old computers uses BIOS. UEFI mode requires the system to be installed on a GUID partition table (GPT) disk, and BIOS the master boot record (MBR) disk. Windows wonâ€™t allow you to restore system from UEFI based computer to bios computer, and vice versa. Some UEFI based computer supports both UEFI boot mode and Legacy BIOS-compatibility mode, so this error may happen even when you restore system backup to the original computer being backed up.  <comment232125> The drive you'er booted from may be disk0, so check it and if need be use Disk Utility to see what disk number the target disk actually is. <comment232126> Thanks, but I thought of that too.  I'm booted from disk1, and I am trying to work on disk0.  Also, in `diskutil list` it says that partition 0 is still mounted (that's what the * next to it means right?) <comment232127> No, the asterisk does not mean it's mounted.  Are you sure you're booted from disk1 and disk1 is the USB device.  Assuming disk0 is the internal disk, is it using Core Storage? <comment322687> Macs have never used BIOS, ever. <comment360575> This bit me as well. Thanks for the heads-up!
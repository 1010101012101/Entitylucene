For loop in folder command using hazel - cant use 2 for loops <body> I have a system set up where i can drop folders containing albums into a folder set up with folder actions running through Hazel, which runs a script on the new folder.  I have 2 actions, one for folders containing .flac, and one for folders containing .mp3.  both instances work along, but when i want the folder to have both folder actions, it will only do the first action.  i suspect this is because they are both loops.  precodefor str in "$1"/*.mp3  do       if [ -f "${str}" ]; then           mv "$1" /Users/Jake/Desktop/test  fi  done /code/pre  And:  precodefor file in "$1"/*.flac  do if [ -f "${file}" ]; then      base=$(basename "$1" | sed -e "s/[Ff][Ll][Aa][Cc]/V0/")      mkdir -p /Users/Jake/Desktop/test/"$base"      cp -v "$1"/*.{txt,jpg,png,jpeg} /Users/Jake/Desktop/test/"$base"      /Users/Jake/Desktop/music/flac2mp3/flac2mp3.pl --preset=V0 "$1" /Users/Jake/Desktop/test/"$base"  fi  done /code/pre  They each work on their own, but they will not work when put together in the same script, only the for loop called first works, the second one never runs.   Whats is a good soulution to this?  <comment350686> Please add the complete script as included in the Hazel action and maybe some details about each part is supposed to do (I don't really understand the first part for instance).  Also, if you put everything into a shell script and run it from Terminal, what happens? <comment350687> For the first part: if there are several mp3 in $1, the move will be done several times (and will probably fail, stopping further execution).
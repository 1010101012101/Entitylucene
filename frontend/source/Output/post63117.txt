How can I write to Notification Center from a launchd command? <body> I've got a codeplist/code set to run at a set interval, and have put it in /Library/LaunchDaemons like so:  precode/Library/LaunchDaemons $ ll macports_update_notifier.plist  lrwxr-xr-x  1 root  wheel    55B  5 Sep 13:47 macports_update_notifier.plist@ -&gt; /Users/seron/bin/macports/macports_update_notifier.plist /code/pre  The problem is that it doesn't seem to execute. Here's the plist:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;EnvironmentVariables&lt;/key&gt;     &lt;dict&gt;         &lt;key&gt;HOME&lt;/key&gt;         &lt;string&gt;/Users/seron&lt;/string&gt;     &lt;/dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;macports_update_notifier&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/Users/seron/bin/macports/macports_notificaton.sh&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;StartInterval&lt;/key&gt;     &lt;integer&gt;300&lt;/integer&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  I loaded it with codesudo launchctl load -w /Library/LaunchDaemons/macports_update_notifier.plist/code.  Here's what codesudo launchctl list macports_update_notifier/code produces:  precode{     "Label" = "macports_update_notifier";     "LimitLoadToSessionType" = "System";     "OnDemand" = true;     "LastExitStatus" = 0;     "TimeOut" = 30;     "ProgramArguments" = (         "/Users/seron/bin/macports/macports_notificaton.sh";     ); }; /code/pre  The script executes in about a second and works fine when run on its own. It needs to run as root.  I'm using OS X 10.8.1. What could be the problem?  strongedit:/strong  My script runs terminal-notifier which is command line tool to display notifications in Mountain Lion and this is where the daemon bails.  precode#!/bin/sh /opt/local/bin/terminal-notifier -message 'output' -group 'debug' /code/pre  I found that the daemon runs fine if it's not loaded with codesudo/code. One difference is that codelaunchctl load test.plist/code reports code"LimitLoadToSessionType" = "Aqua"/code instead of code"System"/code. However if I set codeLimitLoadToSessionType/code to codeAqua/code in the plist and load with codesudo/code codelaunchctl/code refuses to load it displaying codenothing found to load/code. It needs to run as root however because it updates the macports database.  strongupdate/strong  I think I've found the reason why a GUI can't be launched by a daemon; Mac Developer Library, Daemons and Agents. An agent can do that. In my case, it needs to communicate with the daemon in order to display information whenever the daemon has updated macports. Now the question is, How do I make the agent ask and the daemon answer?  <answer63121> Try:  precode&lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt;     &lt;string&gt;/bin/sh&lt;/string&gt;     &lt;string&gt;/Users/seron/bin/macports/macports_notificaton.sh&lt;/string&gt; &lt;/array&gt; /code/pre  so /bin/sh /your/script.sh  tested this and works:  precodelrwxr-xr-x   1 root  wheel    25  5 sep 15:48 macports.update.notifier.plist -&gt; /Users/clt/bin/test.plist /code/pre  content:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;EnvironmentVariables&lt;/key&gt;     &lt;dict&gt;         &lt;key&gt;HOME&lt;/key&gt;         &lt;string&gt;/Users/clt&lt;/string&gt;     &lt;/dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;macports.update.notifier&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;sh&lt;/string&gt;         &lt;string&gt;/Users/clt/bin/test.sh&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;StartInterval&lt;/key&gt;     &lt;integer&gt;30&lt;/integer&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  the test.plist and the test.sh  precode-rw-r--r--  1 root  staff  555  5 sep 15:52 /Users/clt/bin/test.plist -rwxr-xr-x  1 root  wheel   40  5 sep 15:45 /Users/clt/bin/test.sh /code/pre  the content of test.sh  precodesh-3.2# cat ~clt/bin/test.sh #!/bin/sh echo "works" &gt;&gt; /tmp/test.txt /code/pre  <answer162169> You can send to Notification Centre using Applescript (osascript )in you shell script.  There is a very good thread here that explains the various ways of either running only Applescript as a shell script or being able to mix applescript in with bash, for example.  I created a shell script with:  precode#!/bin/bash theDate=`date '+DATE: %m/%d/%y TIME:%H:%M:%S'`  osascript -e "display notification \"$theDate\" with title \"test 1\" subtitle \" sub 1\"" /code/pre  I then created a LaunchDaemon in the same way you have and loaded it without sudo.  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;notifTest&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/Users/userName/Documents/notify.sh&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;StartInterval&lt;/key&gt;     &lt;integer&gt;90&lt;/integer&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  Every 90 seconds I get a notification:  img src="https://i.stack.imgur.com/zJfoi.png" alt="enter image description here"   The notification icon you will notice is the Script Editors one. Which means the Notification is controlled by the Script Editors Notification settings in Notification Centre  <comment72864> Yes it is. It has the same flags/ownership as the symlink. <comment72877> Nothing happens here. No output to the system.log either. <comment72878> Strange, because the above works on ML (at least on my notebook). Try __exactly__ copy everything to your system, change only "/Users/clt" to your... <comment72880> maybe the problem is in the naming... i changed your underscore_named.plist to usual dot.named.plist. <comment72931> I made a test just likes yours and it works. Now I have to find out why my doesn't. <comment72968> My script runs terminal-notifier [link](https://github.com/alloy/terminal-notifier) and this makes the script fail and after that point the daemon stops working too. I've experimented by loading it as a user without sudo, i.e. `launchctl load test.plist` and in that case all works fine. `launchctl list test`reports `"LimitLoadToSessionType" = "Aqua"` whereas if loaded with sudo it's set to `"System"`. If I try to set it to Aqua in the `plist` and load with sudo I get `nothing found to load`. The script needs to run as root because it updates the macports database. <comment72970> There's a `launchctl load -S` flag for session types, but the documentation text is too abstract for me to understand what it does. Prevously trying the `-D` flag seriously borked my system. <comment72972> Maybe `terminal-notifier` doesn't work if running under a user different from the one currently logged in. Does calling `terminal-notifier` with `sudo` in an interactive shell work ok? <comment72975> @patrix it does <comment72979> And you call `terminal-notifier` with the full path in your script? <comment72984> @patrix I added the script to my question. <comment189486> ["Lingon lets you run things automatically by modifying configuration files for the system function called “launchd”](https://www.peterborgapps.com/lingon/) <comment198511> @seron did you try this?
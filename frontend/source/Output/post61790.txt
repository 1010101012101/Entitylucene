How can I format the output of ping in bash? <body> I am using the following script to cycle through a list of IP addresses and report back on the % of packet loss.  I'd also like to have the IP address printed first, then its % of packet loss. But I can't get the syntax right to make this work.  Ideally, it'd look like:  precode192.168.99.24  25% 192.168.99.23  0%     etc... /code/pre  Here's my script:  precode#!/bin/bash HOSTS="192.168.99.24 192.168.99.23" COUNT=10 SIZE=1400 for myHost in $HOSTS do      ping -q -n -s $SIZE -c $COUNT $myHost |  grep "packet loss" | awk '{print $7}'  done /code/pre  <answer61792> Use  precodeping -q -n -s $SIZE -c $COUNT $myHost |     awk -v host=$myhost '/packet loss/ {print host, $7}' /code/pre  inside the loop.   In case you only want to print the hosts with packet loss use  precodeping -q -n -s $SIZE -c $COUNT $myHost |     awk -v host=$myhost '/packet loss/ {if ($7 != "0.0%") print host, $7}' /code/pre  Side note: codegrep pattern | awk '{action}'/code can usually be replaced with the much neater  (and slightly faster) codeawk '/pattern/ {action}'/code  <comment71405> Perfect! Thanks Patrix! I really appreciate it. <comment71411> you can simplify the quoting a bit: `awk -v host=$myhost '/packet loss/ {print host, $7}'` <comment71429> @glennjackman good point, didn't think about that. <comment71517> Since this is such a handy dandy script now, how could I add an if/then clause into it that only echoes the output if the packet loss is anything other than 0% <comment71556> @ITDude: just precede the `print` with `if($7 != "0%")` <comment71990> Patrix, you rock, that works great. How to incorporate an email sent when/if the packet loss is not 100% ? This assumes that postfix or another MTA is already working correctly... <comment72006> Sending mail from Terminal is probably already answered in another question, just search for it. If there isn't anything useful around, please ask new question because this deserves its own answer. <comment72057> Patrix, actually I know how to do the email part but with the brackets and awk am not 100% sure about the syntax to incorporate it. This would be enough to send an email with a machine's serial number: system_profiler SPHardwareDataType | grep "Serial Number" | mail -s "Serial #" joe@example.com <comment72069> `... done | mail -s ...` should do the trick <comment72122> Patrix, almost there! Yes, adding the following does work, but also sends an email even if $7 DOES equal 0.0% ... done | mail -s ... If this last minor detail could be fixed then this could be a great script to run via cronjob! Thanks for your help! <comment72155> Are you sure it works correctly without the `| mail` part? I can't see how piping into mail changes the way the for loop creates it's output. <comment72267> Patrix, yes it works well without the | mail part, with no output if packet loss is 0.0%. Any other ideas or suggestions?
hdiutil: compact failed – Function not implemented <body> When compacting a sparse image with the codehdiutil compact/code command, it fails with the message emhdiutil: compact failed – Function not implemented/em.   <answer132148> The error message is pretty unclear, but one reason might be that you are not connected to the power outlet. Compacting a disk image might be a long and intensive task, and sometimes the OS denies it when you are running on battery to avoid any risk of data loss.   If you are positive that you have enough battery power to complete the task, you may overrun the limitation by adding the code-batteryallowed/code flag:   precodehdiutil compact my.sparseimage -batteryallowed  /code/pre  <answer151066> You may need to run the command as emroot/em :  precodesudo hdiutil compact &lt;sparseimage&gt; /code/pre  <comment198184> I am getting this same error message, as root, on two different computers. One 10.10 (which created the sparsebundle) and on 10.6.8. <comment333300> Care to share the down-vote, hidden warrior? Running the command as root worked for me when I experienced the error message. <comment371506> hidden warrior is probably hidden troll, pay no notice. You are right. Thanks. <comment371508> Thanks, Cucu. I think I was surprised to see it on such an old question/answer. It's possible *root* is unnecessary. I suppose I could say as the system *superuser*, since some people don't use the default.
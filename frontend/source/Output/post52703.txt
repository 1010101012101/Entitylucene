Can not start XQuartz <body> I can't start Inkscape and Gimp. I have the latest Xcode and the latest xQuartz installed.  My logs shows:   precode6/2/12 1:30:15.957 PM org.macosforge.xquartz.startx: lockfile: Sorry, giving up on "/var/folders/9x/qkjwtrd52qbb5bcvb0zk4rqw0000gn/T//font_cache.lock" ... 6/2/12 1:56:41.324 AM [0x0-0xe20e2].org.inkscape.Inkscape: /Applications/Inkscape.app/Contents/Resources/bin/inkscape: line 132: cp: command not found ... 6/2/12 1:30:16.046 PM org.macosforge.xquartz.startx: /opt/X11/bin/startx: line 240: hostname: command not found /code/pre  However I have the path set up. In my terminal (both normal and X11 terminal) the hostname command and the cp command executes correctly.  <answer53013> It is important for the XQuartz app to inherit a proper codePATH/code from codelaunchd/code. The path of the systemwide codelaunchd/code is code/usr/bin:/bin:/usr/sbin:/sbin/code by default; you can check its value by running  precodesudo launchctl getenv PATH /code/pre  If is not as expected, it has most likely been set by a command in code/etc/launchd.conf/code. (This file contains commands in the format expected by codelaunchctl/code; see the manual page for the latter.)  When you log in, codelaunchd/code forks a process that becomes the per-user codelaunchd/code. This inherits the environment from the system codelaunchd/code, but its environment can be further altered by the commands in code/etc/launchd-user.conf/code and the contents of code~/.MacOSX/environment.plist/code. Look in these places for alterations to the codePATH/code environment variable, and make sure it at least contains the four paths mentioned above. You can check its value by running  precodelaunchctl getenv PATH /code/pre  (note: no codesudo/code). While experimenting, you can change the environment of your codelaunchd/code by running  precodelaunchctl setenv PATH /usr/bin:/bin:/usr/sbin:/sbin /code/pre  and then stopping and restarting codeXQuartz.app/code. But once you have a solution that works, use either one of code/etc/launchd-user.conf/code or code~/.MacOSX/environment.plist/code to set the appropriate value permanently. Use the former for all users, and the latter if it's a personal preference.  <answer57206> Even when XQuartz 2.7.x is properly installed, the Gimp doesn't know about it yet. So when the Gimp starts up, it resorts to the default windowing system, being the native X11 from Mac OSX. You need to alter the start-up script of the Gimp, to make it start XQuartz before the actual binaries of the Gimp are started. To solve this problem, you need to do the following (I'm presuming you don't know how to work in a terminal, so we'll click around in the graphical interface):  ul liin Finder, go to Applications (or the folder into which the Gimp 2.8.0 has been installed) and right-click on the icon of the Gimp./li liin the drop-down menu, select the second option from the top below 'open': show contents, or something similar in your language). A new Finder window will open with root 'Contents'./li lileft-click on 'Contents', left-click on 'Resources', right-click on 'script'. From the drop-down menu, choose 'Open with'. From the drop-down menu, don't choose 'Terminal.app', do choose 'Other...'/li liFrom the possible applications to open with, choose 'Texteditor.app'./li liDon't get scared from what you see; it's just shell scripting./li liScroll down until you see the following lines of code:  precodeif [ -e "/tmp/skl/Gimp.app/Contents/Resources/bin/set-fontsize" ]; then     set-fontsize fi cd ~/ &gt; /dev/null #exec "$CWD/bin/gimp" "$@" /code/pre/li liAdd the following line of code just above the line that starts with the "cd ~/" etc.:  precode#exec "~/Applications/Utilities/XQuartz.app/Contents/MacOS/X11"  /code/pre/li liSo that it now looks like:  precodeif [ -e "/tmp/skl/Gimp.app/Contents/Resources/bin/set-fontsize" ]; then     set-fontsize fi #exec "~/Applications/Utilities/XQuartz.app/Contents/MacOS/X11" cd ~/ &gt; /dev/null #exec "$CWD/bin/gimp" "$@" /code/pre/li liSave (cmd-s, or via menu) and quit Texteditor./li /ul  Now when you start the Gimp, you'll notice that XQuartz is being loaded before the Gimp starts instead of the default X11-windowing system. It works for me.  Hope it helps you, Good luck, and happy Gimping!  <comment60265> I was going to say that this is an X11 problem, not an inkscape problem as your title indicates. But then you mention an “X11 terminal”, which I take to mean an xterm. Which seems to indicate that X11 is running, though your log messages indicate an inability to start X11. It is all a bit confusing. Perhaps you also have X11.app up and running? It shouldn't be, if you have XQuartz. <comment60276> When I start the inkscape then I got the logs above. Then I start manually the X11 and from the xterm I have the cp and hostname commands. I have the path set.] <comment60294> Du you have a file `~/.MacOSX/environment.plist`? Or `~/.xinitrc` or `~/.xinitrc.d/`? To rule out any inkscape behaviour, try making sure that X11.app is not running, then run `xterm` from within a Terminal window. Does XQuartz start up? If not, could you list the resulting lines in `/var/log/system.log`? And what is the output of `pkgutil --pkg-info org.macosforge.xquartz.pkg`? <comment60298> Hi Harald,  I don't have neither ~/.xinitrc or ~/.xinitrc.d/...  And the result of 'pkgutil --pkg-info org.macosforge.xquartz.pkg' is:  package-id: org.macosforge.xquartz.pkg version: 2.7.14 volume: / location:  install-time: 1338649578 <comment60332> Try installing the latest XQuartz (2.7.2) from http://xquartz.macosforge.org/ before proceeding further. It will show up as 2.7.28 in `pkgutil` output. Then try the other experiment I outlined above. <comment60411> Hi Harald,  I installed the latest Xquartz. X11.app wasn't running, Then from my terminal I started xterm... It doesn't started.  This is the log: - org.macosforge.xquartz.startx[82693]: /opt/X11/bin/startx: line 240: hostname: command not found org.macosforge.xquartz.startx[82823]: lockfile: Sorry, giving up on "/var/folders/9x/qkjwtrd52qbb5bcvb0zk4rqw0000gn/T//font_cache.lock" <comment60463> Okay … next, could you try this command? `launchctl getenv PATH`. <comment60485> From my Terminal (not XTerm):  launchctl getenv PATH /usr/bin:/usr/local/bin:/usr/local/sbin:/usr/local/mysql/bin:/opt/local/bin:/usr/local/mysql/bin <comment60488> I see that /bin is not in that path... <comment60493> I resolved the issue by doing this: p=$(launchctl getenv PATH) launchctl setenv PATH /bin:$p <comment60539> This is good, but it raises the question how your launchd environment got that way. As far as I know, the only way it can be changed to anything other than the default (which does contain `/bin`), is from either one of `~/.MacOSX/environment.plist` (I now see that you didn't answer my question about whether you have it), `/etc/launchd.conf`, or `/etc/launchd-user.conf`; or an explicit use of `launchtl setenv`. Maybe you should take another look around for the culprit. <comment60603> Hi Harald,  I checked my ~/.MacOSX/environment.plist and I added the /bin into it and I get rid of launchtl setenv.  By the way I answered partially that "I don't have neither ~/.xinitrc or ~/.xinitrc.d/"... :) And you haven't asked me what is the content of "~/.MacOSX/environment.plist".  Thank you anyway...  You deserve a few points for sure :) <comment60604> Okay, I made an answer out of what we found. May I suggest that you edit the question for the benefit of future users, just changing the title to “Can not start XQuartz” or something like that? <comment60702> Hi, yes of course ;)
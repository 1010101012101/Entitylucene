File can't be moved by root on OS X <body> I tried to move a few files to a subfolder on OS X. One refused to move. It said codeOperation not permitted/code. I tried again as root:  precode$ sudo mv file subfolder/ mv: rename file to subfolder/file: Operation not permitted $ sudo mv file filex mv: rename file to filex: Operation not permitted $ lsattr file lsattr: Inappropriate ioctl for device While reading flags on file /code/pre  I tried codelsattr/code on other files; all files I tried gave me the same message: codeInappropriate ioctl for device While reading.../code  Coming from Linux, I did not know about flags so here is the output of codels -leO@ file/code:  precode$ ls -leO@ file otherfile -rwxrwxrwx  1 eeytan  staff  uchg 79549 Nov 11  2010 file -rw-r--r--  1 eeytan  staff  -     5071 Sep  7 02:37 otherfile /code/pre  I tried the OS X Disk Utility; it said there were no errors on my disk. What's going on here?  <answer101331> Sounds like the file is locked to me, which is why the uchg attribute is appearing. You should be able to use the following command to remove the locked attribute:  precodechflags nouchg file /code/pre  or right-click the file in the Finder, click "Get Info" then uncheck the "Locked" checkbox  <answer202969> For people stumbling upon this in an OS X 10.11+ era (El Capitan or newer): Apple has added a whole new layer of security in OS X. They have taken away some privileges from root. The file you are trying to modify has a coderestricted/code flag. Only coderestricted/code processes which are signed by Apple will be able to modify these files. However, you can disable this security system by booting in recovery mode and disabling it in a Terminal by doing: codecsrutil disable/code.  Alternatively, try booting in a Linux environment with HFS+ support to change the file.  <answer217042> Try:  precodechflags -f -R nouchg directory /code/pre  on a higher level directory to stop this problem.  <answer224289> I had this issue too, and I discovered that the folder the file was in was locked. So make sure that's not true. Do 'get info' on the folder in the finder, and make sure the locked checkbox is not checked.  <comment119337> `lsattr` isn't a standard OS X command; try `ls -leO@` instead. Also, what volume is the file on? Try `mount` to see what attributes the volume is mounted with. <comment119339> @GordonDavisson, it seems you're on the right track. ls -leo@ says that file is the only one with the "uchg" attribute, which sounds a lot like "unchangeable" to me. <comment119343> Ha! It looks like you answered your own question just as I was posting this answer! <comment119350> Welcome to Ask Different! I'll remove the edits and make this a question and leave the answer for the answer section... <comment302486> What does the csr in csrutil stand for? <comment304431> I believe it was Benjamin Franklin who said "Those who sacrifice ease of use for security deserver neither". Or something.
fsck and Disk Utility won't repair Volume: invalid b-tree node size <body> I accidentally wrote some code.iso/code data to a disk through codedd/code by mistake. I cancelled the command after just 2 seconds but that was enough to wipe the first EFI partition (200MB) and a bit of the second partition where OS X and some files I do really like are stored.  The ISO image I accidentally wrote with codedd/code was 600mb in size so the total damage would be a maximum of 400 MB since I codedd/code from sector 0 until I hit kbdCtrl + C/kbd and EFI partition was gone.   I tried running codefsck -fy/code on that partition but it's a no-go.   precodesudo fsck_hfs -fy /dev/disk2s2 ** /dev/rdisk2s2 Using cacheBlockSize=32K cacheTotalBlock=32768 cacheSize=1048576K. Executing fsck_hfs (version diskdev_cmds-557~393). ** Checking Journaled HFS Plus volume. Invalid B-tree node size /code/pre  I don't know much about HFS+ but on any EXT Linux partition I could pretty much recover everything that wasn't wiped by codedd/code, even if overwritten. Here however I don't know where to start. There are some fancy GUI tools but they probably won't do anything else then codefsck/code does.  It can't be that the whole partition is gone because 400 MB (if the whole ISO would be written - but that wasn't the case) out of 400 GB was overwritten with data by accident. Partition table seems to be alright - codegdisk/code on Linux says it's OK and Disk Utility on Mac as well.    Volume was journaled (seems to be a problem for HFS+ utilities on Linux)   Any tips how to rescue my files?  <answer61251> Download Testdisk. You would have to run it from an external disk. It’s a command line tool. It will diagnose problems with your partition table or filesystem and repair them. It’s very verbose so you won’t need any readmes. First recover your OS X partition and then your EFI partition. Comment back if you need any help using Testdisk.  <answer61280> Use DiskWarrior.  Has saved many of my client's disks!  <answer148892> You should to try to rebuild the catalog file on the specified file system by specifying code-r/code option, for example:  precode$ fsck.hfsplus -fryd /dev/sdd2 /code/pre  See also: How to fix invalid map node linkage?  <comment72938> Hi Guys. Thanks for the answer. TestDisk does not goes well with journaled volumes == everything past 10.4 is journaled by default as far as I can say. <comment72981> Um, no. Testdisk was developed after Apple introduced jorunaled HFS+. It works very well with all types of filesystems. <comment107455> All about fsck -- https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man8/fsck_hfs.8.html <comment107456> Read this http://apple.stackexchange.com/questions/56461/repair-disk-from-single-user-mode-fsck-fails
Sierra frozen at login screen - keyboard and mouse unresponsive <body> After rebooting my MBPr, it is now frozen at the login screen showing the list of users.  I'm unable to move the cursor or use the keyboard.  Booting in safe mode does the same thing.  A few days ago, I updated Sierra to 10.12.4, so it might be related to that.  Right before the problem happened, I was pruning old third-party Launch Agents and Daemons, but I did not delete any from Apple.  That might be related, but I don't know for sure, since I very rarely reboot the computer.  I reset NVRAM.  I deleted code/Library/Preferences/com.apple.loginwindow.plist/code.  I used Disk Utility in recovery mode to repair the startup disk, but no problems were found.  I looked at code/var/log/system.log/code using Terminal in recovery mode, and I see many lines related to codeInstaller/code, so is it trying to install something, or is this a normal part of recovery mode?    Small sample of the log is below, and the full log is on pastebin. Sierra's new codelog/code command doesn't work from recovery mode.  precodeMay 15 16:10:08 MacBook-Pro Installer Progress[151]: Register process 491, phaseName Install Springboard, uuid 35F782F8-715E-41FF-9AF6-DB016B483C68 May 15 16:10:08 MacBook-Pro Installer Progress[151]: Connected processes = {         "35F782F8-715E-41FF-9AF6-DB016B483C68" =     {             "Phase Name" = "Install Springboard";             "Process ID" = 491;             UUID = "35F782F8-715E-41FF-9AF6-DB016B483C68";         };         "A9879B21-4872-49FC-AC94-E8F7985A5F61" =     {             CompletionHandlerKey = "&lt;__NSMallocBlock__: 0x7fe35dcf0580&gt;";             "Phase Name" = "Language Chooser";             "Process ID" = 468;             UUID = "A9879B21-4872-49FC-AC94-E8F7985A5F61";         };         "D963D32E-BA49-4ADD-8359-79B93262F438" =     {             CompletionHandlerKey = "&lt;__NSMallocBlock__: 0x7fe35b70eb50&gt;";             "Phase Name" = "Launch Progress Window";             "Process ID" = 465;             UUID = "D963D32E-BA49-4ADD-8359-79B93262F438";         };     } May 15 16:10:08 MacBook-Pro Installer Progress[151]: Saving completion handler for phase Install Springboard May 15 16:10:08 MacBook-Pro Installer Progress[151]: The Progress UI has been hidden May 15 16:10:08 MacBook-Pro Installer Progress[151]: Saving completion handler for phase Install Springboard May 15 16:10:08 MacBook-Pro Installer Progress[151]: Unregister process 491, phaseName Install Springboard, uuid 35F782F8-715E-41FF-9AF6-DB016B483C68 /code/pre  I appreciate any advice, but if you simply tell me to reinstall MacOS, I will downvote the answer, because I want to actually find the problem.  <answer283745> I've had this happen a couple of times after messing around with betas, cloning from one machine to another, or after "awkward" updates (where things don't seem quite right after the update finally finishes). It is usually fixed by resetting the SMC (which is different than zapping PRAM/NVRAM).  From an OSX Daily Post:     This is how to reset SMC on most modern Mac laptops, none of which   have a removable battery:      ul   liShutdown your MacBook Air / MacBook Pro /li   liConnect the power adapter to the Mac/li   liOn the MacBook / Pro’s keyboard, hold down the Shift+Control+Option keys and the Power button at the same time/li   liRelease all keys and the power button at the same time – the little   light on the MagSafe adapter may change colors briefly to indicate the   SMC has reset/li   liBoot your Mac as usual/li   /ul      Here’s the key sequence to hold down:      img src="https://i.stack.imgur.com/weJPc.jpg" alt="control-option-shift-power"   emReset the SMC of a MacBook Air or Retina MacBook Pro/em      Do keep in mind that by resetting the SMC you will lose power specific   settings, like the time it takes to sleep a Mac and other   customizations to power settings. No big deal, but if you have made   many changes to your hardware behavior you will want to adjust stuff   like sleep behavior again.      The boot time after resetting a machines SMC can be a bit longer than   usual, that is normal.   It looks like you've used recovery mode to do disk repairs. I suspect Recovery mode is loading a different copy of the drivers than your main partition, which is why it works there but not in Safe Mode and "normal" mode.  If your concern about reinstalling (should the SMC reset not work) is that you don't want to risk losing data or having to start from scratch, a reinstall from recovery mode won't wipe the disk or mess up your account. Everything will be there like it should be when it's done. I've done that several times too.  You could also try remoting in from another machine using VNC or Screen Sharing, presuming you have those set up, or have SSH enabled so you can log in and kick start Apple Remote Desktop.   <answer283955> Booting to Single User Mode showed some valuable troubleshooting information.  It turns out I had some bad third-party kexts installed in /System/Library/Extensions.  Removed those and now all is well.  <comment357772> One troubleshooting step I'd recommend is trying to use an external keyboard and mouse, especially since Safe Mode didn't help. If possible, test with both USB keyboard and mouse and Bluetooth keyboard and mouse. <comment357893> Good answer, unfortunately the SMC reset didn't work. I also tried reinstalling Sierra from recovery mode and the problem persists. I doubt it's a hardware issue because the keyboard and mouse work fine in recovery mode. All my remote and ssh is disabled. <comment358106> Same problem with USB keyboard and mouse.  In fact, the red light on the mouse turns on when I boot, but then turns off at the login screen, as if it were not even plugged in.
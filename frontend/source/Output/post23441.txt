Using screencapture when remotely logged in to a headless mac via ssh <body> I'm trying to use codescreencapture/code from the terminal, when logged in over codessh/code, to a mac that has no screen attached. I can emscreen share/em to the machine, so I'd like to capture the same display.  However when I try it, I don't get an image file.  Here's what I've tried...  precodescreencapture -tpng /Users/slomojo/Desktop/image.png /code/pre  and...  precodesudo screencapture -tpng /Users/slomojo/Desktop/image.png /code/pre  and finally,   precodesudo launchtl bsexec $(ps -ax | grep loginwindow.app | awk '{print $1}' | head -1) /usr/sbin/screencapture -tpng /Users/slomojo/Desktop/image.png /code/pre  None of which work... (note that the last attempt is getting the PID for codeloginwindow.app/code and attaching the codescreencapture/code process to it as suggested by the OS X man page.)  h1Update/h1  FYI I'm running OS X 10.6.8.  h2Additional update./h2  I didn't mention that the machine doesn't have a screen attached, (I usually connect to it via VNC/Screen Sharing) I jumped to another machine on that network and the command works ok, (of course I guess!)  I should also mention that, as I'm logged in on the remote machine on the same account as the local GUI session, the first version of the command works fine.  In fact, just the following without all the launchctl stuff works fine:  precodescreencapture -tpng ~/Desktop/image.png /code/pre  However, I still need to figure out how to screencapture on the headless machine, ie. capture the same display I'd see over screen sharing.  I'm not 100% sure, but I think that the emscreen sharing/em session may create/teardown a virtual screen device when it's connected/disconnected. So I'll try to do the codescreencapture/code when I can get a screen sharing session running at the same time.  h2Update #2/h2  I tried doing the screencapture while another machine had a screen sharing session open on the same user account as the ssh session, no dice.  However, interestingly enough I was in the same room as all the boxes in question and the target box made the "shutter" sound when I ran the screencapture remotely.  Looks like it's not possible to screen grab on a displayless mac, without some serious additional work, I will VNC to it remotely instead.  <answer24483> I'm not sure if this will work, but, it's worth a shot...  What is you create an Automator script to take a screen capture, and then run that using the terminal?  Similar to what is described in this TUAW article, however, without the part that mails the screen capture to you.  img src="https://i.stack.imgur.com/CHCAr.jpg" alt="TUAW Example"  Save the Automator script as an application, SSH in, and run codeopen /path/to/the/automator.app/code  <comment26159> The final one should work, if you change the path to `/usr/sbin/screencapture` - yours is missing `sbin/`. <comment26165> @Ingmar hupp - Sorry, that was a typo in the question, I'm already using `/usr/sbin/screencapture`. <comment26182> I tried this; it worked only when the user was logged in, i.e. it didn't work when the login screen was showing <comment26301> User is logged in, actually I'm ssh'ing in on the same user name, the only possible issue is that there is no screen attached. I'm going to ssh to another box local to it that does have a screen and see if that's the issue. <comment26308> @Samantha, yes, that was the issue, any ideas how I can get the virtual screen (ie, the screen sharing display) to capture, the docs for screencapture are pretty thin. <comment27551> I'll give it a go. BTW, one thing I already tried, which I should record here: using `osascript` to send the `Cmd-Shift-3` screen capture shortcut, it didn't work.
AppleCare engineer says Macs need weekly reboots b/c "kernel expires". What's that mean? <body> I'm running MacOS Sierra on a mid-2014 MacBook Pro.  About once/week, Safari’s CPU usage becomes very high, and it becomes very laggy.   In the last instance I had just six windows open, none of which were playing videos, but Safari’s CPU usage was at 332%.  In addition, even after closing all six windows, Safari’s CPU usage remained at a high level.  I could only get it to stop by quitting and restarting Safari.   I got a Capture Data trace while it was happening, and sent it to AppleCare, where a senior advisor forwarded it to their engineering team.  The response he got back was that it looks like I wasn't rebooting my computer often enough, which is necessary because the kernel expires (he recommends weekly, and I was rebooting it about every two months).  As this was second-hand through the senior advisor, I wasn't able to get a more complete technical explanation.  Further, I've not been able to find any official Apple documentation on this.  Can anyone give me a detailed technical explanation that elucidates what's actually going on here?  I'm particularly curious if this is something particular to MacOS's microkernel (as opposed to monolithic kernel) design, and whether kernel expiration time is fixed based on wall clock, CPU time, etc. since last reboot, or varies based on certain factors. Thanks!  [I'll add that, from 2004-2009, I used a Power Mac G5, often running 10 applications w/ 10 windows each, as well as C++ programs that took weeks to finish, never rebooted except when needed for software updates, and got kernel panics less than once/year.  But all three MacBook Pros I've owned (2008, 2011, 2014) have given kernel panics every month or two.  I'm now wondering if this is because I'm not rebooting my MacBook Pros often enough — except this wasn't an issue with the G5.]  In case it's helpful, here's a screenshot showing the Activity Monitor during the event described in the first paragraph. Also displayed is the Intel Power Gadget readout; it seems odd that the CPU frequency is only 1.3 GHz (it's a 2.8 GHz Intel i7-4980HQ processor with a 4.0 GHz Turbo Boost) when a process is running at 332%.  This behavior reminds me of (but is of course different from) thermal throttling of the CPU, where the system creates a fictitious high-load kernel task (typically ~600%) to keep other processes from running, resulting in a low CPU frequency (0.8 GHz) (an example of thermal throttling is shown after).  I didn't post these initially because I thought they might be a distraction from my core question about "kernel expiration" and weekly reboots, but have reconsidered given that forum members have disagreed with that explanation.  HIGH SAFARI ACTIVITY:  img src="https://i.stack.imgur.com/ghp6i.jpg" alt="enter image description here" THERMAL THROTTLING OF CPU (FOR COMPARISON): The thermal throttling on my current MacBook Pro is a separate issue from the kernel crashes, since I got the crashes even in the winter when I first got the computer and when there was no thermal throttling, and also got them with my previous two MacBook Pros as well. I've just posted this for comparison. [In case you're curious: The throttling occurs consistently when the discrete video card is being used (4K monitor attached) and the ambient temp reaches 83F; I've never gotten throttling when the monitor is disconnected. The computer is properly-ventilated; it sits on a raindesign mStand. The Apple engineer says it needs to be brought in for service to check the fans for dust, and for possible reapplication of thermal paste.  It's under warranty, but I can't do that until I can arrange for a loaner.]    img src="https://i.stack.imgur.com/MVoKA.jpg" alt="enter image description here"  hr  UPDATE, JUNE 23, 2017: I was unable to reconnect with the original AppleCare senior advisor, so I spoke to a new one who took over my case.  He's been with Apple for about a decade, and said the following (I'm paraphrasing):  1) Weekly reboots. It's too strong to say they're required.  Rather, they represent good practice. MacOS loads as much as possible into RAM to maximize performance and, if your computer doesn't use ECC memory (which only the MacPros do), errors creep in.  Eventually, these can cause a kernel panic. How much time this takes varies greatly depending on your usage pattern. Some can get away with going a long time without panics, others can't. [It's not just how heavy your usage is, but also what you use.  So one heavy user may be fine with infrequent reboots, while another, using different software, may need more frequent ones.]  It's really about risk management.  Rebooting clears the RAM, allowing it to start fresh.  The longer you wait between reboots, the more errors accumulate, and the greater the risk of kernel panics.  While one week isn't a specific guideline — indeed, there are no specific guidelines; you might use, say, two weeks — it's generally held within Apple that regular reboots are a good practice, for the above reasons. If you want to keep that risk at a very low level, weekly reboots are an excellent practice.  [My one observation: This doesn't explain why I didn't get regular kernel panics with my PowerPC which, while it can take ECC memory, can't make use of the ECC functionality—unless the PowerPC chip itself used memory differently from the Intel chip, even with the same OS.]  As to the server farm example that's been raised, this wouldn't be an issue for servers using ECC memory, such as the old Mac XServe.  However the Mac Minis of course do not, so I'm curious how often https://macminicolo.net (mentioned by Matt Holland in a comment below) finds the Mac Minis they host in their server farm need to be rebooted.  2) Kernel expiration:  He's never heard of this.  He will contact the engineer for clarification, and should report back within about a week. I'll let you know what he says. As part of this, he will try to get a clearer answer on the Safari CPU usage (as I mentioned above, the Apple engineers have an actual data trace of this event, so they have good information on it).  <answer286878> I'm not sure who you talked to at Apple, but Macs, like all Unix-based devices, do not require routine reboots, except for certain updates.  As for the kernel, it is the heart of the operating system. There can be only one™. It should have nothing to do with your problem here. If Safari has runaway CPU usage, I'd try deleting its caches first. While in Safari, click on the Safari menu, select Preferences, select the Privacy tab, select "Manage Website Data...", then finally select "Remove All". Note that you'll have to log in again to some websites, but you won't lose anything crucial.  <answer286881> strongDocumentation on this does not exist./strong   Having worked as a Certified Apple Engineer (CAE) I can tell you that something has most definitely been lost in translation (for want of a better word) from the original source (i.e. the engineering team) to the AppleCare adviser to you.   While it is arguable (opinions vary greatly) that regularly rebooting a computer (i.e. any computer) is beneficial, strongthere is certainly no emkernel expiry/em going on/strong.  And, as others have already stated, rebooting a Mac is strongonly required/strong for a limited number of updates/upgrades (e.g. firmware updates, OS level updates, hardware upgrades, etc).  I regularly have various Macs (including MBPs) running 24/7 for weeks/months at a time without any issues. So, being told that you don't reboot your computer often enough, which is necessary because the kernel expires, is nothing more than a figment of someone's imagination. emImagine if all those Macs being used as servers needed a weekly reboot - Apple would be the laughing stock of the IT industry!/em  My recommendation would be to research (and maybe post a separate question about) the issues you're having with Safari's CPU usage.   <answer286929> As others have said, this doesn't sound at all like a reasonable response from Apple, and likely something is lost in translation. That said, monthly (or nearly so) kernel panics is definitely something "out of the ordinary". The fact that this has persisted across 3 different machines indicates either you have the worst luck with buying flaky hardware, or something common has been transferred from machine to machine.  I'm assuming you haven't been transplanting RAM chips or HDDs from laptop to laptop, so that leaves either software or some external device. If every new computer you've used TimeMachine or Apple's built in transfer software to migrate your environment, it's possible that some software issue is being propagated each time you upgrade machines. Unfortunately, the only "quick" way to validate this is to boot from a clean installation and use that until you're confident the problem no longer persists. If you have an external drive you can use, this is a possibility for you, but otherwise, you would need to back everything up and completely reinstall without restoring the backup, which may be more effort than you want to take. It's possible it's hidden in user preferences in which case creating a new user account and using that might help, but in my experience it's about 50/50 whether it's a user level issue or a system level issue.  Assuming you don't want to go through those steps, I would try to determine what each kernel panic has in common. If they all seem to happen and coincide with your safari issues, then that narrows it down to a likely issue in safari. You can either try using a different browser for a few months and see if the issue disappears, or try eliminating any plugins/third party addons that you have installed in safari. If the issue persists, runaway CPU usage strikes me as runaway process likely due to some software bug interacting with some ad or other tracking/javascript that is on the sites you're using. Once you've eliminated all of the various plugins as the cause of the issue, you could try installing an ad blocking plugin, preferably one that can block javascript too and crank its restrictiveness to max. This may make some of your browsing less enjoyable (and may even break some sites you use) but these sorts of plugins also allow you to turn off the blocking on a site by site basis, so over time you can relax the restrictions until you find the site that's causing the issues. From there you will have a better starting position for determining exactly what's giving you trouble.  If the kernel panics occur even outside of safari usage, you may be looking at your safari problems being caused by whatever is causing the kernel panics, in which case you want to tackle that before you try to figure out safari.  External devices can also cause kernel panics if they're not behaving correctly. So if you use an external HDD or something else commonly plugged into your USB or other expansion ports, try seeing if not using that device clears things up. Even something like a USB thumb drive can cause issues. It's not a common thing, but then again, neither is monthly kernel panics. Alternatively, if you always use the same port for the device, you could try a different port to see if it's an internal hardware issue, but this is less likely given that the problem has persisted across multiple machines.  <comment362091> I only reboot for macOS upgrades, and I have much more stuff running than you do. So I assume something important got lost in communication here. <comment362092> I've done the "Remove All" a few times, to no avail.   I'll see if I can get the senior advisor to send me the exact wording from the Apple engineer. <comment362093> If the tech you spoke to really tried to blame kernel panics on you not rebooting enough, he should be fired. macOS has become progressively less reliable over the years, and blaming its problems on users is fairly outrageous. A well-designed kernel almost never panics. Linux is a good example. <comment362094> "_which is necessary because the kernel (or kernels?) expires (he recommends weekly_" That is nothing but absolute pure BS! <comment362114> *"But all three MacBook Pros I've owned (2008, 2011, 2014) have given kernel panics every month or two."* I can't repro this, or William Froggard's claim that "macOS has become progressively less reliable over the years." I've had both PowerPC-based Macs and a series of Intel-based MacBook Pros, and haven't noticed any stability regressions. If anything, macOS is more reliable than it has ever been. I've *never* had a kernel panic on my Late 2013 MBP (still in daily use), I restart it maybe four times a year, and I'm an *extremely* heavy user. You are being told a bunch of nonsense. <comment362144> I sent an email to the AppleCare advisor linking this thread, asking him if he could get a comment from the engineer.  It will probably be a few days before I get a reply (he's off until Sunday). <comment362163> I remember doing clean installs at least twice: start with just the OS, install the latest versions of all the applications from the Apple Store or the developers' websites, and then copy over my data folders (that process takes about two 8-hour days).  I once tried using Time Machine for this, found it too buggy, and started over using the above method. <comment362165> You are correct that external devices can cause kernel panics. The one exception to the rock-solid behavior I described for my MacPro was a year during which it panicked repeatedly.  Working with Apple, we traced it to the backup software that came with the Seagate external HD (software designed for the Mac!).  After removing it, the problem disappeared.  I've thus been careful never to use any Seagate (or WD) backup software since then (I use Carbon Copy Cloner) [continued next comment....] <comment362168> However, as this problem has been consistent with 3 diff. continuously-connected backup HDs, using diff. connections (FW 400 & 800, USB 2 & 3) and from diff. mfrs (WD and Seagate), I'm not sure if that's the explanation; though the Apple advisor also reported the engineers noted there's an "alignment issue" with my current backup HD. As with the "expired kernel", I'm not sure what that means. I ran First Aid from Disk Utility, after which the advisor said the alignment issue was gone (based on the First Aid report)---but he didn't say which particular line in that report addressed alignment. <comment362178> I have a 2015 macbook pro bought about two years ago.  I had a few kernel panics in the beginning but it has been very long now.  Consider uninstalling any third party kernel modules (may be quite hidden) to see if the situation improves. <comment362179> On my 2009 Macbook Pro I regularily restored my machine on a new blank harddisk from a Time Machine backup (on a Time Capsule).  This worked well enough for me to consider it a safe approach to backups.  Also Time Machine is essentially a set of folders each containing a full copy of your harddisk, so you can pick your things from there. <comment362183> There is  no compelling argument AGAINST regularly rebooting your computer, and there are advantages to doing so. It's not about the OS, it's about the OS, the hardware, the device drivers, the third-party software installed, AND the specific usage patterns of the users. People need to stop acting like never rebooting is some sort of badge of honor. It's not. <comment362184> Whenever I hear about a Mac with lots of kernel panics I ask if they have Adobe software installed. The answer is always yes. Just sayin... <comment362185> @ThorbjørnRavnAndersen  kextstat says I have 185 kernel extensions, 3 of which are non-apple:   com.intel.driver.EnergyDriver (2.0);  com.driver.LogJoystick (2.0); com.aladdin.kext.aksfridge (1.0.2). The first two are for the Intel Power Gadget and Logitech gaming mouse software, respectively; these are more recent installs, so wouldn't explain the history.   The last is for my i1 Colorimeter calibration software.  I've had that for a while, and there's at least one old report claiming kernel panic issues with it (https://roaringapps.com/app/i1profiler), so maybe that's the problem. <comment362187> There are Macs designed for server usage? <comment362188> @JAB not anymore <comment362191> @JAB Apple no longer makes a rack-mounted "server" but there are certainly Macs out there serving APIs and websites, take a look at https://macminicolo.net/ for example... <comment362193> The Mac Pro is Intel only. The PowerPC version is called the Power Mac. <comment362194> @JAB There used to be one called the Xserve. Mac Minis are also widely used as servers. <comment362209> It took Apple three versions to come to the conclusion that "format and re-install" isn't an acceptable procedure for changing a server's IP address.  I wouldn't put it past them to require weekly reboots. <comment362217> @DmitryKudriavtsev I've edited my post to reflect this. <comment362218> & thanks, I've edited my post to remove the plural "kernels" <comment362226> When you copied your "data folders" did you copy the whole user folder or parts of it? I ask because the directory ~/Library stores a lot of user specific settings and user specific application files. If your issue lies in one of those, it would have persisted across even the clean install once you copied over. I don't recall any known issues with CCC causing kernel panics, so I'd be inclined to rule that out for now. Adobe software is a good possibility, as is any anti-virus software. Also tools like tech tool pro. Sadly SE is not a great venue for this sort of back and forth troubleshooting. <comment362233> @moneyt I didn't copy over any Library files, except for my Safari bookmarks; I just let the applications create fresh versions of these these.  Otherwise it was documents, pictures, music, emails, etc., along with (IIRC–I can't find my notes on this) parts of /usr/local related to LaTeX. I don't use anti-virus software or tech tool pro, but I do use Adobe CS.  I suppose if I wanted to address the kernel crashing directly, I'd do a separate post with a recent crash report (I haven't saved any recently). <comment362242> They might have meant a kernel TIMER expiration. There have been many timer bugs in all operating systems. One I can imagine in this case is save a time value to compare later but eventually it rolls over and the difference comes back negative. Then all timers expire immediately leading to max CPU usage. <comment362243> @barbecue I generally agree with you :), but in the OP's case he's been told to reboot on a _weekly_ basis and, not only was the reason given for this just plain wrong, the advice itself is wrong too. Yes, a reboot is often the way to go, but there's no compelling reason to do this on a weekly basis. Likewise, it's not _normal_ for a Mac to suffer kernel panics or for Safari to place such high demands on the CPU. I look forward to hearing back once AppleCare responds, but clearly there is an underlying cause here that needs a solution, rather than AppleCare just dealing with the symptom. <comment362244> @theorist To me it seems that part of the response you got from Apple (i.e. the _it looks like I wasn't rebooting my computer often enough_ part) was an attempt to deal with the symptom rather than the cause. The advice offered by moneyt and others here is useful, but I suggest you should ask a question specifically about your Safari CPU issues (and perhaps another question about your kernel panics after the next one happens - although the two may be related). That way the community can try helping you more specifically, as we have no idea what else you've tried (besides calling AppleCare). <comment362245> @zan Tick counts have been 64 bits for several generations of operating systems now. That gives you nearly 6 million centuries before overflow happens. He hasn't had this MacBook Pro that long. And even with a 32-bit timer, overflow is not the end of the world. The timer just keeps on ticking, the value keeps on getting incremented. Apps—and *certainly* the kernel—needs to be able to handle this. It isn't difficult. The bug gets fixed in the first revision. The claim that *"Then all timers expire immediately leading to max CPU usage."* is pure nonsense. FUD is the industry term. <comment362275> For me, as a security specialist, the time to live of an OS is a proof of its quality and security. More precisely it is a proof that there isn't any dynamical structure within the kernel which goes out of bounds. <comment362276> I am actually using MacOS X Yosemite to run a professional Mail server. Its actual uptime is 58 days because I decided to apply one of the recent Apple security updates which was fixing a risk I analysed as serious. <comment362309> @barbecue Your suspicions about Adobe may be right, but I'm wondering if the affirmative answer to your question has more to do with how ubiquitous Adobe is on Mac than its role in causing crashes.  I.e., Adobe software is so common on Macs you might get the same answer ("yes, I have Adobe installed") if you talked to people who don't get regular kernel panics.  The real test would be if you asked what happened to those who have both Adobe and kernel panics after they removed Adobe. <comment362355> our first reaction at a major tech company when we saw the Mac Mini was "It's 1/4" too high".  (racks are 1-3/4, Mac Mini was 2").  Since then, they have corrected that. <comment362365> @Mark, citation needed cf. "format and re-install" was a needed "procedure for changing a server's IP address." in several versions of Mac OS servers. <comment362413> Laughing stock? Like MS, whose updates frequently result in a "restart required" message on Windows server O/Ses? <comment362435> @ChrisFCarroll Yes, a very frustrating experience for anyone maintaining Windows based servers! :) But, while I'm not in the habit of defending Microsoft, an OS update requiring a restart is at least understandable in some cases. However, a computer that requires a _weekly_ reboot would just be indefensible. I am 100% certain that no Apple engineer would have said that. Something has gone astray in the communication here and it'll be good for the OP to get some clarity on this. <comment362448> @CodyGray: You are an expert on timers, I assume? You know, for a fact, how many bits are in use, and what scale is being used? I mean, the number of bugs possible are huge. A 64-bit counter can be truncated to 32 by using the wrong C integer type. It can get multiplication overflow. A 64-bit TSC adds *billions of counts* every second and yes, it can overflow... <comment362458> @CodyGray It depends on what you're doing. I do things that I can say with certainty, most users don't do, but a well-designed operating system can be used in all sorts of unexpected ways, without issue. For example, the only times I've ever had the Linux kernel panic, is with hardware-related issues, such as overclocking, new RAM, new PCIe cards, etc, which it can't really do anything about. The XNU kernel is definitely not as reliable as that. <comment362461> @Harper: Ah, a vershok was desirable. <comment362466> @StéphaneGourichon, digging up documentation from the 10.0 - 10.2 era is proving difficult, since Apple has purged it from their website and set the robots.txt to prevent Archive.org from retaining a copy.  The best I can do is emails such as [this one](https://lists.apple.com/archives/Macos-x-server/2003/Oct/msg01347.html), referring to Apple's "fix" for the "problem" of changing the IP address of a server. <comment362521> Expired Kernel. LMAO. <comment362525> @theorist it's only anecdotal, but I can be more specific. I manage a number of Macs in a business environment, and the same users who report kernel panics are the same users who report frequent application crashes when working with Adobe software over a network - Illustrator and Indesign specifically. Those who primarily use Photoshop, Acrobat, or Premiere don't have the same issues. I'm firmly convinced that Adobe's buggy network share handling is to blame for a lot of crashing. <comment362527> @monomeeth there MAY be a compelling reason to reboot weekly or even more often, if it reduces the number of times the user loses work due to crashing. Keep in mind, end users do not, and should not care about how it OUGHT to be. They care about getting work done without disruption and frustration. If rebooting once per week successfully improves their productivity, then it is absolutely correct advice. In a perfect world we could always troubleshoot thoroughly, find the problem, and fix it permanently. I work in the real world, and there is NEVER time for that. <comment362528> With regard to routine server reboots, it's actually quite common for sysadmins to schedule regular reboots of infrastructure devices in those cases where it's practical. It's not just about preventing crashes, it's about confirming reliability of services after a reboot. Failure to reboot regularly means when a reboot is forced on you unexpectedly, you may encounter surprising failures. Routine reboots allow you to manage this. Rebooting also resets hardware devices and forces closing of all third-party applications, 90% of which are buggy as hell. The only downside is the actual downtime. <comment362942> Looking at your screenshots, I see a lot of menubar extras that I don't recognize as first party Apple items. While the situation with these has improved since the bad old days of Usanity and APE, the old support person in me says remove them all and see if your kernel panics go away, then install them back one at a time until you find the culprit. But I admit I'm grasping at straws here. Is there any repeatability to the kernel panics? Can you reliably cause them by following certain steps? <comment363338> @moneyt In case you're curious, from L to R in the menu bar: various iStat Menus icons, then (starting w/ the "G"): Logitech Gaming Software (for mouse), Keyboard Maestro, SizeUp, Accessibility, Flux, Carbon Copy Cloner, Key Cue, Copy Less, Fresh...  All except SizeUp and Carbon Copy Cloner were installed within the past two yrs, so those wouldn't explain the historical problem, and the other two were on my PowerPC w/o issue. [continued....] <comment363340> ...Granted, the versions (of both the apps and OS) have changed but, more broadly, your suggestion, while technically reasonable, represents a big project I'm not willing to undertake, both because it's distracting and time consuming, and because these are very useful apps I'm not willing to be w/o for extended periods.   And note there's no guarantee that, after going through this, the problem would be fixed.  If rebooting weekly solves the problem, that's both easier and more time-efficient for me. <comment363342> Thanks for the update. I didn't think you'd get to speak to the original AppleCare adviser again - I suspect they were *caught out* by the responses you got. :) Anyway, what the new one has told you pretty much confirms what I and others were saying. As I said in my answer: _While it is arguable (opinions vary greatly) that regularly rebooting a computer (i.e. any computer) is beneficial, **there is certainly no kernel expiry going on**_. So this gets us back to your original problems - your kernel panics and Safari's high CPU usage - which of course could be related. <comment363343> If you still get no joy from Apple, then feel free to ask another separate question on this. That way the community can try helping you more specifically, as we have no idea what else you've tried (besides calling AppleCare), and a dedicated question allows us to focus on and troubleshoot the problem at hand. Hopefully this won't be necessary, as I'm sure AppleCare will now look at this more closely.
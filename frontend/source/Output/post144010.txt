Can't create partition on free space with Disk Utility <body> I have created new partition by selecting free space option and now I can't merge it or recreate it.  I have tried to use iPartition to create a new partition on free space but it said I have no permission.  How can I fix it?  img src="https://i.stack.imgur.com/DnRDX.png" alt="Disk Utility"  <answer144023> It's a Core Storage volume [Logical Volume Group] - which I'd guess is either a Fusion Drive or FileVault encrypted drive.  Either way, iPartition cannot handle it.  Judging by the number of people who've broken a Fusion drive by trying to 'clean up' the partitioning, it's really something Apple should prevent the user doing...  The best suggestion I've seen for recovery is to delete the drives' UUIDs &amp; then let Disk Utility rebuild it from the ground up. All data is lost, so a full backup is essential.   Have a look at Split Your Fusion Drive Apart then Setting Up a Fusion Drive on Your Current Mac.  [I'd pr√©cis here, but there are 8 pages of instructions]  <answer144042> strongBack up all of your data beforehand./strong Note this procedure may not work if the volume is encrypted. You may need to either decrypt the volume or unlock it with the passphrase/recovery key in order to resize it. See Undocumented CoreStorage Commands for more information.   1) Open Terminal.   2) Enter the following command to find the UUID of the strongLogical Volume/strong. emMake sure you select the correct UUID/em. Copy it.   precodediskutil cs list  /code/pre  3) Enter the following command (replacing codelvUUID/code with the copied codelvUUID/code) to resize the logical volume back to it's full capacity. Enter your password when prompted.  precodesudo diskutil cs resizeVolume lvUUID %100 /code/pre  4) Once it completes, exit terminal. Open up System Preferences  Startup Disk and re-select the volume to codeBless/code it again as the boot volume.   <answer155339> Your volume codeMacintosh HD/code is a codeCore Storage Logical Volume/code and part of a codeCore Storage volume group/code and thus can't be modified by iPartition or codeDisk Utility/code.  You have to boot from an external disk, a thumb drive or in the codeInternet Recovery Mode/code to be able to modify the volume with some codeTerminal/code commands.  The following codediskutil cs resizeStack/code command is vastly undocumented and as such potentially destructive.  emstrongPlease backup your Mac OS X before proceeding./strong/em  A 2nd computer or an iPhone with the stackexchange credentials to enter the site or the chat is usefull.  Please start codeTerminal/code from /Applications/Utilities and enter  codediskutil cs list/code to get an impression.  Example output of codediskutil cs list/code    precode$ diskutil cs list CoreStorage logical volume groups (1 found) | +-- Logical Volume Group 08436957-C5CD-4DC6-B9FA-05B51A3EEFC8     =========================================================     Name:         Macintosh HD     Status:       Online     Size:         86908663234 B (80.94 GB)     Free Space:   35364864 B (35.4 MB)     |     +-&lt; Physical Volume FFC67A8D-65A8-415E-A594-D7A6BED71844     |   ----------------------------------------------------     |   Index:    0     |   Disk:     disk0s2     |   Status:   Online     |   Size:     86908663234 B (80.94 GB)     |     +-&gt; Logical Volume Family 56C0E988-502B-43D5-90DD-EFBE58143896         ----------------------------------------------------------         Encryption Status:       Unlocked         Encryption Type:         None         Conversion Status:       NoConversion         Conversion Direction:    -none-         Has Encrypted Extents:   No         Fully Secure:            No         Passphrase Required:     No         |         +-&gt; Logical Volume 4F26F5C3-8D94-419F-AFF1-B652E9DCDEF4             ---------------------------------------------------             Disk:                  disk1             Status:                Online             Size (Total):          86479166504 B (80.54 GB)             Conversion Progress:   -none-             Revertible:            No             LV Name:               Macintosh HD             Volume Name:           Macintosh HD             Content Hint:          Apple_HFS /code/pre  Your Mac OS X partition (Macintosh HD) visible on the desktop is equivalent to the codeLogical Volume F26F5C3-8D94-419F-AFF1-B652E9DCDEF4/code.   strongReclaim the free space:/strong  hr  strongAfter resizing some dozens of disks with/strong codediskutil cs resizeStack LVUUID/code strongI never had a problem with the Recovery HD. So step 1-6 may be considered dispensable and you may directly start with step 7./strong  hr  ol liFirst you have to backup your codeRecovery HD/code: Start codeTerminal.app/code and enterbr codedefaults write com.apple.DiskUtility DUDebugMenuEnabled 1/code press enter and quit codeTerminal.app/code/li liStart Disk Utility and enable 'Show every Partition' in the Debug menu After a few seconds all partitions should be visible/li liChoose codeRecovery HD/code on the left side and mount the partition codeRecovery HD/code  img src="https://i.stack.imgur.com/wmmJd.jpg" alt="screen1"/li liVerify the disk  img src="https://i.stack.imgur.com/gC55Q.jpg" alt="screen2"/li liCreate a disk image of codeRecovery HD/code and save it read-only externally  img src="https://i.stack.imgur.com/hu6yb.jpg" alt="screen3"/li liCheck the disk image for restore  img src="https://i.stack.imgur.com/lGSwG.jpg" alt="screen4"/li liDetach all external drives/li liRestart into codeInternet Recovery Mode/code by pressing kbdalt/kbdkbdcmd/kbdkbdR/kbdbr or a bootable Mavericks or Yosemite Thumb Drive (full system or install)./li listart codeTerminal/code from the menubar/utilities/li lienter following command at the Terminal prompt:      diskutil cs list /li liCopy the Logical Volume (LV) alphanumeric UUID of your CoreStorage volume. The LVUUID should be the fourth listed. In the above example the alphanumeric is:br F26F5C3-8D94-419F-AFF1-B652E9DCDEF4./li liRun the following command:    precodediskutil cs resizeStack LVUUID partsize   /code/pre  According to the number found above it would be:    precodediskutil cs resizeStack F26F5C3-8D94-419F-AFF1-B652E9DCDEF4 100% /code/pre  If you get an error ("A percentage value (100%) cannot be specified for this operation.") use this instead:  precodediskutil cs resizeStack F26F5C3-8D94-419F-AFF1-B652E9DCDEF4 0g /code/pre  This will hopefully expand your CoreStorage volume to allmost full 120 GB. Depending on your disk this will take several seconds (SSD) or minutes (HDD). After a successful resize check with codediskutil list/code if the  codeRecovery HD/code still exists./li liQuit codeTerminal.app/code and start codeDisk Utility/code and verify the expanded volume./li liReboot to Recovery HD and your main drive. Delete the disk image created in step 5 if everything works as expected/li /ol  <comment182730> do you want one big or two separate partitions? If you want two partitions i will add the necessary steps to my answer <comment213287> `cs resizeStack` with `100%` doesn't work for me, I get an error saying `A percentage value (100%) cannot be specified for this operation.` <comment213288> @zenith Try `diskutil cs resizeStack ... 0g` instead. 0g is a magic number <comment213289> That seems to work. Thanks! <comment213290> @zenith better use the [linked](http://apple.stackexchange.com/questions/154964/resizing-or-expanding-a-corestorage-volume) and accepted answer. <comment246610> edit: El Capitan: diskutil you need to use just 0, not 0g, as it was on Yosemite. <comment246612> @DaliborFilus Thanx for the hint. I will add that after El Capitan has grown out of its beta existence <comment246623> Np. I'm searching for a solution for this issue just now and I'm playing with it. I have El Capitan beta 8, it supports resizing of CS drivers natively. But it did refuse to do it for me. I thought it was because I had recovery HD partition right behind Macintosh HD partition and the free space at the end of the disk., so I manually recreated and moved Recovery HD to the end of the disk. (cont.) <comment246625> (cont.) after I was done, I discovered that now diskutil cs resizeStack to enlarge the drive refuses to do anything (it said that the target disk is too small). I thought I need to resize the partition itself first (like in linux e.g.). But first I tried to shrink the CS stack, which worked. But the result of that is: the recovery HD partition is now behind the CS partition, not at the end. Now cs resizeStack works for enlargement too, El Capitan's Disk Utility is now able to enlarge the volume too (previously shown no free space). <comment246626> Moral of the story: resizeStack will resize gpt partition itself PLUS will move the Recovery HD partition for you PLUS refuses to enlarge CS volume if you have free space between your main partitions and recovery HD partition (maybe others too). <comment265073> I found this problem has a much easier solution than "expanding core storage volume". 1) use "diskutil list" to find out the UUID of the logical volume. 2) use "diskutil cs revert LVUUID" to get rid of core storage & logical volume (which, IMO, is an incredibly stupid design). 3) reboot. Then "Disk Utility" would work as expected.
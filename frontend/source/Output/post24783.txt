Uncheck "Reopen windows when logging back in" by default <body> The shutdown/restart dialog has a check-box codeReopen windows when logging back in/code which is checked by default. I need to change its behavior to be unchecked by default. Is this possible? If yes, how can I do that?  img src="https://i.stack.imgur.com/JN44A.png" alt="enter image description here"  <answer24785> No, it is always set to "on." However there does exist a script you can run, that disables the feature. The box will still be checked, but the feature will no longer function:  Paste the following into a single line within the Terminal:  precodecurl http://goo.gl/Z4EFC -L -s -o ~/fixlogin.sh &amp;&amp; chmod +x ~/fixlogin.sh &amp;&amp; sudo ~/fixlogin.sh ; rm ~/fixlogin.sh /code/pre  That command downloads a script, places it in the appropriate location, makes it executable, and then removes the temporary file. If you are wondering, the contents of the downloaded bash script are the following:  precode#!/bin/bash echo "#!/bin/bash" &gt; /tmp/loginfix.sh echo "rm /Users/*/Library/Preferences/ByHost/com.apple.loginwindow.*" &gt;&gt; /tmp/loginfix.sh mv /tmp/loginfix.sh /usr/bin/loginfix.sh chmod +x /usr/bin/loginfix.sh defaults write com.apple.loginwindow LoginHook /usr/bin/loginfix.sh /code/pre  If you ever want to revert back to the default behavior of this OS X Lion feature, just type the following defaults write command:  precodesudo defaults delete com.apple.loginwindow LoginHook /code/pre  And you’ll be back to be able to select window restore based on that checkbox’s choice.  Source: http://osxdaily.com/  <answer29343> strongEdit: since 10.7.4, the "Reopen windows when logging back in" checkbox has stayed unchecked if you uncheck it once, so the hacks below are not needed anymore./strong  One option is to set the codeLoginwindowLaunchesRelaunchApps/code key to false in code~/Library/Preferences/com.apple.loginwindow.plist/code:  precodedefaults write com.apple.loginwindow LoginwindowLaunchesRelaunchApps -bool false /code/pre  You could also save this property list as code~/Library/LaunchAgents/logout_saves_state.plist/code:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC -//Apple Computer//DTD PLIST 1.0//EN http://www.apple.com/DTDs/PropertyList-1.0.dtd&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;logout_saves_state&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;defaults&lt;/string&gt;         &lt;string&gt;write&lt;/string&gt;         &lt;string&gt;com.apple.loginwindow&lt;/string&gt;         &lt;string&gt;TALLogoutSavesState&lt;/string&gt;         &lt;string&gt;-bool&lt;/string&gt;         &lt;string&gt;false&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  Then load the property list by running codelaunchctl load ~/Library/LaunchAgents/logout_saves_state.plist/code or by logging out and back in once.  codeTALLogoutSavesState/code sometimes got reset to true when I logged out and back in, so just running codedefaults write com.apple.loginwindow TALLogoutSavesState -bool false/code once wouldn't have worked.  Neither of these options actually makes the checkbox appear unchecked, but they have the same effect.  <answer34561> This bug has been fixed with the strongLion update 10.7.4/strong:     h3The OS X Lion v10.7.4 Update includes fixes that:/h3      Resolve an issue in which the "Reopen windows when logging back in"   setting is always enabled.   img src="https://i.stack.imgur.com/aHgip.png" alt="enter image description here"  (click here for more information)  <answer44905> For the record, we’re talking about this:  img src="https://i.stack.imgur.com/JN44A.png" alt="Screenshot"  The problem is that OS X doesn’t remember if you uncheck the checkbox on the last shutdown — it will always keep the checkbox checked by default on subsequent shutdowns.  I found two different solutions for this problem, that seem to do the trick, although they aren’t ideal.  Open Terminal.app and enter the following commands:  precodedefaults write com.apple.loginwindow TALLogoutSavesState -bool false defaults write com.apple.loginwindow LoginwindowLaunchesRelaunchApps -bool false /code/pre  This effectively disables the “reopen windows when logging back in” option, although the checkbox will still appear to be checked. You can just ignore it.  I’m afraid there’s no better solution, at least not at the moment.  hr  It’s possible to disable Resume on a per-app basis, too.  There’s also a system setting that allows you to disable it for all apps, system-wide. Go to emSystem Preferences/em → emGeneral/em:  img src="https://i.stack.imgur.com/alhlq.jpg" alt="Screenshot"  Alternatively, you can run this command in Terminal.app:  precode# Disable Resume system-wide defaults write NSGlobalDomain NSQuitAlwaysKeepsWindows -bool false /code/pre  (Taken from my code.osx/code file.)  <answer51555> This has changed in Mac OS X Update Version 10.7.4.     Resolve an issue where the "Reopen windows when logging back in" setting is always enabled.   img src="https://i.stack.imgur.com/yZlmm.png" alt="enter image description here"  Here is the new option, as you can see (although it isn't proof in itself as it's easy to uncheck and then screen grab, but please trust me - I was pretty stoked when I checked out this update as this bug was really annoying me!)  img src="https://i.stack.imgur.com/Z8Vyw.png" alt="enter image description here"  <comment39479> You can also disable Resume for applications on a per app basis. [See these answers here.](http://apple.stackexchange.com/questions/33928/terminal-behaving-differently-since-updating-to-lion/33930#33930) <comment51080> `TALLogoutSavesState` sometimes gets reset to true after logging out and back in though. `defaults write com.apple.loginwindow TALLogoutSavesState -bool false` would need to be run at login using a launchd agent or something. <comment51083> @Lri It seems to work fine for me, even after multiple logouts/reboots, in combination with the `LoginwindowLaunchesRelaunchApps` setting. I remember testing the two separately, in which case I ran in to the issues you described in your answer. AFAICT, there’s something about the combination of the two settings that does the trick. <comment51085> I just ran both again, logged out and back in twice, and `defaults read com.apple.loginwindow TALLogoutSavesState` returned `1`. <comment58328> `TALLogoutSavesState` still gets set to true by itself. But just `LoginwindowLaunchesRelaunchApps -bool false` alone seems to be enough to disable restoring windows. <comment79892> I found a reason to still do this on 10.7.5: the box in the Restart dialog is now unchecked by default, and state is not restored. But if I forced a reboot by holding down the hardware power button on my MacBook, it restored state. After applying this fix, when rebooting with the button, I now get a dialog upon reboot that says "You shut down because of a problem. Do you want to restore state?", so I can get a clean reboot. <comment166050> Thank you for the script, it fixes one of the most annoying "features" of the latest Macs.
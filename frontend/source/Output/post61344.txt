vim not working under iTerm2 <body> Basically, vim behaves strange under iTerm2 (it works normally in Terminal). It sets the cursor in a non existing lines, it displays garbage (content from other lines) when I try to edit a line in a file etc. It is completely useless :(  I changed "reported terminal type" to "linux" as suggested in some post, but it didn't help  strongEDIT/strong  ul liiTerm2 version: Build 1.0.0.20120724 (very latest)/li lirunning with codeenv TERM=xterm vim/code and codeenv TERM=xterm-256color vim/code does not help/li /ul  <answer62091> Apparently, removing codeset lines=40/code does the trick. The manual says:  precode    Number of lines of the Vim window.     Normally you don't need to set this.  It is done automatically by the     terminal initialization code /code/pre  so be careful when you copy-paste ready configs, as I did :)  <comment70793> Did you try to run vim with `TERM=xterm vim`? <comment70798> can you tell us which version of iTerm2 are your using?  I am on Build 1.0.0.20120724 (without TMux btw), and using vim VIM - Vi IMproved 7.3 (2010 Aug 15, compiled Jun 20 2012 13:16:02), and all works fine on iTerm2 <comment70799> btw, I have report terminal type as xterm-256color, which is also specified in my bashrc as export TERM=xterm-256color <comment70800> Can you upgrade iTerm2 to the latest version? <comment70818> Had this problem with iTerm 2 + screen over RS232 <comment71355> I've seen a similar problem when running vim under screen or tmux. Do you have any invisible characters customized? What is the output of `:set listchars?`, this will show what characters are set. <comment71660> @claytron:  `listchars=eol:$` <comment71668> @JakubM. Looks like the stock setting, so that isn't it. If you've customized your vim at all, try starting up without your vimrc and plugins: `$ vim -u /dev/null --noplugin` <comment71729> @claytron: thanks, that gave me a hint! Apparently, when I removed `set lines=40` from the config, the problem disappeared. I don't know why I had it set at all, probably a dump copy-paste from another config...
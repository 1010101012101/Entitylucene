How do I troubleshoot my Wi-Fi connection when an exclamation mark appears? <body> Sometimes, when I am in a public Wi-Fi an strongexclamation mark appears in the greyed out Wi-Fi icon/strong.   I can strongconnect/strong to the Wi-Fi (I get assigned an IP address), but I cannot establish an stronginternet connection/strong - while other Mac users can. Every network where this has happened, I have been connected to before.  img src="https://i.stack.imgur.com/YLR36.png" alt="enter image description here"  I've tried tried the following without success:  ul lirun the troubleshoot assistant/li lidisconnect and reconnect from Wi-Fi/li lidisable and reenable Wi-Fi/li liremove the network from the list of known networks/li lirestart the computer/li /ul  Because none of my attempts to solve this problem yielded any positive results, I always end up not using the internet at all.  Now my sister has been calling me two times already, telling me that the same problem occurred to her. As I could not provide a fix, I need your help :)  My sister is running 10.7.3 on a Macbook 4.1. I am running 10.7.3 on a MBP 8.2.  <answer49153> In system preferences make sure your Network preferences are set to the Apple default (should be 'Automatic') and for the WiFi device confirm under the 'Advanced...' settings that under 'TCP/IP' your 'Configure IPv4' is 'Using DHCP'  <answer49186> I guess it's a corrupt plist. I cannot reproduce the error, so I'm not sure it will help you out.  Try to delete code/Library/Preferences/SystemConfiguration/NetworkInterfaces.plist/code and restart your computer. Deleting this file and restarting is supposed to allow your system to "re-install" the correct drivers for your hardware.  Also, I can recommend you to reinstall the combo update.   <answer49683> You need to get more information, so please do some troubleshooting and report back.  Troubleshooting steps:  ul liHold down the Option key while clicking on the Wi-Fi icon in the menu bar and let us know what you see. Lion: New Wi-Fi Diagnostics tool/li liWhen you first see the exclamation point appear, open codeSystem Preferences &gt; Network/code. If you get a window like this one /li /ul  img src="https://i.stack.imgur.com/w4j8N.png" alt="Failing DHCP server"  with the codeSelf-Assigned IP/code beside a yellow button, then you were not able to get a local address from the Wi-Fi router's DHCP server. This can happen because the base station is using MAC address restrictions rather than real passwords. This can also happen because the base station has exhausted its available set of local IP address leases.    When you connect to a network using DHCP, a network router (e.g. the Wi-Fi access point) gives you an IP address to use and promises you can use it for some period of time, which is called a "lease". (This is so there is no confusion about when someone else can start using the IP address that you are using.  You either renew the lease or know you have to stop using that address and get a new one.)  Once the server leases you the IP address, it cannot give it to anyone else until your lease expires.  A typical home router might be set up with only 250 addresses to give out and a lease period of 24 hours.   That's fine at home, but in a heavily trafficked coffee shop, they might get more than 250 Wi-Fi using customers in a day, at which point they would be out of addresses.  Worse, lease times can be much longer (I've seen 14 days on some routers) and DHCP servers can have arbitrarily emsmall/em numbers of addresses to hand out.  So this really happens sometimes, and it is probably what is happening to you.    In any case, it's probably a configuration error on the router that the router owner has to fix.   <answer52762> I've successfully solved this twice already using the following method:  In the codeTerminal.app/code (code/Applications/Utilites/Terminal.app/code) type...  precodesudo ifconfig en1 down sudo ifconfig en1 up /code/pre  Which is surprising, because I thought that this is just the emsame/em as turning the Airport off and back on - which I've tried before, but did not succeed.  However, maybe that's not entirely true. According to the manpage, the codedown/code command will attempt to strongreset the interface/strong (whatever that means in detail...).   From the manpage of codeifconfig/code:  precode down    Mark an interface ``down''.  When an interface is marked          ``down'', the system will not attempt to transmit messages          through that interface.  If possible, the interface will be reset          to disable reception as well. /code/pre  <answer67203> Though I doubt this will help many, I was experiencing these symptoms after entering my password incorrectly. Somehow I was not notified that the password was incorrect, so I was able to connect to the router, but it wouldn't issue and IP address.  <answer124989> I got it fixed today from www.leshdigital.com The thing is: Sometimes your Mac is a self-assigned IP address that is different from your local IP address(Mine is 192.168.1.1 and the self-assigned IP address is different from that) So what we should do is:  We go to network preferences and ADVANCED--TCP/IP--configure IPv4(manually) IPv4 Address: 192.168.1.19(My local IP is 192.168.1.1 so I changed 1 to 19) Subnet Mask is a default value: 255.255.0.0 and this is important:ROUTER-your local IP, mine is: 192.168.1.1 Hit Ok and then you're done. Enjoy your wifi which is successfully set up.  <comment56174> +1 Encountered the same problem <comment56177> I suppose there could be a variety of reasons, but this usually happens when you were unable to obtain an IP address from the DHCP server. I don't believe the fix necessarily lies (usually doesn't) on the client's side. <comment56178> What OS are your (and your sister) running? And do you enter a password? <comment56219> @Michiel Both of us are running 10.7.3. Also: I can't remember having encountered this in Snow Leopard. <comment56222> @Michiel The public networks I use don't require a password. <comment56282> Thanks, I had applied those settings. This was not the problem. <comment56288> I will try this the next time that this problem occurs. So, I can't give you feedback on the answer *now*. It may take a while till this problem affects me again. But anybody else that is affected should report if your answer helps as well. <comment56289> @gentmatt, Ok, great! You've made me curious :) <comment58486> I guess this is just a guess. I wouldn't advise to touch any System plist before any analysis of the real problem. To reproduce this basic problem, just start a Fi-Fi router with a reduced set of 2 IP addresses distributed through DHCP. Guess what will happen when you try to connect the 3rd one. <comment58505> I'd really like to provide more information, but I have not been affected by this anymore. Hopefully somebody else will report when he/she is experiencing the same. <comment58527> Quite normal. When you are a customer of a DHCP server you can't manage, it is difficut to experiment with its tuning, most notably when you already have trouble to obtain the network access :). <comment60357> If the drivers were corrupt, wouldn't he lost the connection to the base station and not be connected. The ! indicates that he has an IP address, just that the default route to the internet isn't resolving several test addresses. This is a network routing issue at the core. <comment60358> Are you seeing a self assigned IP address in any of the cases? Before you try toggling the network status (on/off or leaving the interface up and forcing the IP address and routing tables to be marked down), you could also force this release and renew of your DHCP status by going to Airport - TCP/IP and selecting renew DHCP. <comment60359> I would be interested in knowing if refreshing DHCP several times helps. You'll want to have the network utility up and look at the routing table before and after refresh. Pay attention to the IP address and netmask and default route. <comment60360> @bmike I haven't tried renewing the DHCP this time, but I've done so before and it did not help back then. This happens quite frequenlty at any Starbucks in Cologne - I assume. So I will try to replicate this again tomorrow and update any information if necessary. <comment79287> Well, in my case this was a public starbucks Wi-Fi which did not require a password. <comment112346> → Old Pro: Excellent explanation and problem analysis. It is typical of a DHCP server pool exhaustion. No need to shoot any plist at random ☹. Your answer deserve more + ! <comment161616> Is this similar to the `ipconfig release`, `renew` commands on windows? I've been looking for this solution for years. thanks!
How to recreate /usr/local with SIP/rootless mode on El Capitan? <body> With rootless mode enabled (a.k.a System Integrity Protection) it turns out you can remove code/usr/local/code but cannot recreate it:  precode$ sudo rm -rf /usr/local $ sudo mkdir /usr/local mkdir: /usr/local: Operation not permitted /code/pre  How to (re)create code/usr/local/code or any such folder?  <answer234308> The simplest and most secure way is to:  ul lireboot into recovery (codeCMD/code+codeR/code)/li listart emDisk Utility/em/li lifrom the menu, select codeMacintosh HD/code and either emUnlock/em if encrypted otherwise emMount/em/li lionce codeMacintosh HD/code is mounted, close Disk Utility/li listart a emTerminal/em from the emDisk Utility/em menu/li /ul  Now run the following commands:  precode  mkdir "/Volumes/Macintosh HD/usr/local"   chflags norestricted "/Volumes/Macintosh HD/usr/local"   ls -lOd "/Volumes/Macintosh HD/usr/local"   drwxr-xr-x  2 root  wheel  - 68 17 Mar 09:24 /Volumes/Macintosh HD/usr/local   exit /code/pre  Or, as one simple command:  precode  mkdir "/Volumes/Macintosh HD/usr/local"; chflags norestricted "/Volumes/Macintosh HD/usr/local"; ls -lOd "/Volumes/Macintosh HD/usr/local"; drwxr-xr-x  2 root  wheel  - 68 17 Mar 09:24 /Volumes/Macintosh HD/usr/local; exit /code/pre  Finally, quit emTerminal/em and reboot into OS X.  References:  ul lihttps://openradar.appspot.com/23093676/li lihttps://github.com/Homebrew/legacy-homebrew/issues/40837#issuecomment-120762533/li liWhat is the &quot;rootless&quot; feature in El Capitan, really?/li /ul  <answer234338> code/usr/local/code has been both re-creatable and writable on El Capitan since 2015-10-21 when Apple released code/System/Library/Sandbox/Compatibility.bundle/code version 12 in software update 031-40358 patching 10.11 and 10.11.1, and installed as part of the 10.11.2 update, 10.11.2 combo update, and 10.11.2 clean installs. You do not need to do anything special unless you have not updated to the latest point release of El Capitan.  A patched system will have compatibility bundle greater than or equal to 12 and show  precodeiMac-TMP:~ joe$ grep /usr/local /System/Library/Sandbox/rootless.conf  *               /usr/local iMac-TMP:~ joe$ grep /usr/local /System/Library/Sandbox/Compatibility.bundle/Contents/Resources/paths /usr/local iMac-TMP:~ joe$ defaults read /System/Library/Sandbox/Compatibility.bundle/Contents/Info.plist CFBundleVersion 12.0 iMac-TMP:~ joe$ /code/pre  An unpatched system will have compatibility bundle less than 12.0 and not have the code/usr/local/code entry in code/System/Library/Sandbox/Compatibility.bundle/Contents/Resources/paths/code. 
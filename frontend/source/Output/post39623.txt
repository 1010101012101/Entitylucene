Lion won't give out DHCP addresses with Internet Sharing <body> Lion doesn't seem to be giving out DHCP addresses when I turn on Internet Sharing. My firewall is off, I create a shared network with no security sharing ethernet-wifi. In Network Preferences the Wifi connection shows as yellow, with a self-assigned IP, and any device I try to connect (e.g., iPad) doesn't get an address. Help!  <answer40184> I finally figured it out.  ul liYou said your Firewall is off. You should double-check. This will definitely cause Internet Sharing to not work. System Preferences - Security &amp; Privacy - Firewall./li liIn the "Sharing" panel, change your Computer Name to something simple. Instead of "Elliot's MacBook Pro", use "MBP". ul liTurn off Internet Sharing (if it's on). Make sure you have set "Share your connection from:" to "Ethernet", and "To computers using:" to "Wi-Fi". Change the "Wi-Fi Options..." and save./li /ul/li liIf that didn't work: Turn off Wi-Fi on your Lion Mac. Make sure you have internet access from Ethernet, and that it works (test a site in a browser)./li liFor your Wi-Fi connection, set "Configure IPv4" to "Using DHCP". In the "DNS" tab, delete any existing entries./li /ul  Hope this helps!  <answer49528> I'm using it. codeInternetSharing/code and codeFirewall: on/code emdo/em work together. (It's already huge enough a security shame to have to start a wireless network with WEP). strongBeware/strong: you should not ride the raw Internet with your codeFirewall: off/code.  On the other hand I'm also sure of another behaviour. codeInternetSharing/code doesn't start codebootpd/code if the network connexion to Ethernet isn't up, i.e. doesn't have an IP valid address. (And codebootpd/code is the daemon which distribute IP addresses on the Wi-fi side).  Within the valid network configuration on top of which you want to build a sharing of your Ethernet connexion,  ul lithe Ethernet connexion emshould/em be marked as green, with a valid emIP Address/em,/li lithe Wi-Fi connexion emshould/em be marked as yellow, with emNetwork Name:/em No network selected./li /ul  When you start codeInternet Sharing/code 2 details will change:  ul lithe Wi-Fi icon in the menu bar emshould/em switch to grey with a white arrow,/li lithe Wi-Fi connexion emshould/em be marked as green, with emNetwork Name:/em Internet Sharing: on./li /ul  <answer79496> This thread along with https://discussions.apple.com/thread/2108373 helped me.  ol liI turned off all internet connection sharing./li liI deleted the following files:  precode/Library/Preferences/SystemConfiguration/com.apple.nat.plist /Library/Preferences/SystemConfiguration/NetworkInterfaces.plist /Library/Preferences/SystemConfiguration/com.apple.airport.preferences.plist /code/pre/li liRestarted/li liTurned on Internet Sharing/li /ol  This resulted in Internet Sharing sharing giving the client the correct DHCP lease details.  <answer111173> This worked for me on 10.9 Mavericks (build 13A598)  ol liOpen Terminal and run   precodesudo launchctl remove com.apple.bootpd /code/pre/li liRe-enable Internet Sharing/li /ol  This guy below has a basic explanation of what he's doing if you want more of an explanation and debugging process.  http://ben-collins.blogspot.com/2010/08/mac-os-x-internet-sharing-problems.html  <answer168175> This issue can also manifest itself when you go to the Firewall Options and codeBlock all incoming connections/code is enabled.  <answer223426> I have OS X El Capitain and the following works for enabling the sharing of internet connection by devices connected to the ethernet connection (the local network) via the wi-fi network (the internet connected network).  1) Network Connection -- the local connection in automatic 2) Sharing -- Internet Sharing (set Share your connection to the Wi-Fi in the drop-down menu and tick the ethernet connection)  At this point if you go back to network connection you will see the wifi with a green dot and the ethernet with a yellow dot. Keep going, as (1,2) may not be enough, yet.  3) Security -- Firewall Options -- remove the tick to "Block all incoming connection". (NB this is different than disabling your firewall!).  Then you will start getting queries like "do you want service XYZ to accept incoming connection?". The answer to most of those questions depends on your security paranoia (mine is high) except for one!  4) Accept bootpd (which is the daemon for DHCP).  In retrospect the last step is sort of obvious: when the poor device on the (local) ethernet network send a DHCP request to your Mac to get an IP address from the perspective of your Mac this is an unsolicited incoming request and therefore the Firwall will quietly drop it.  If you don't want (3,4) then you may set up manually the IP of the local device and your Mac to a pair of addresses on the same subent. So somenting like n0.n1.n2.nDevice and n0.n1.n2.nMac where the Ns are any number in 1-254.  <answer232970> On El Capitan, the following steps worked for me:br 1. Open security and privacy under system preferencesbr 2. Click on FireWallbr 3. Click FireWall Options...br 4. Uncheck "Block All Incoming Connections"br 5. If it was unchecked, look for "bootpd" in the box below itbr 6. Click where it says "Block Incoming Connections" next to bootpdbr 7. Select "Allow Incoming Connections"    <comment45434> I have the same problem :( <comment58530> What does contain the field `System Preferences  Network  Wi-Fi  Advanced...  TCP/IP` on your DHCP server? What is the output of `ps ax | egrep '[ /](PID|boo|nat)'`? <comment58531> No evidence of the `firewall` breaking `InternetSharing` in any way. Moreover this would be a fatal security bug :. <comment134135> Turning off firewall solved the issue for me as well, and found others using Google. Thanks for the tip. <comment134779> A more specific answer: the "Block all incoming connections" advanced firewall option made Wi-Fi sharing not working. <comment138192> This is the only fix that worked for me form the answers here. It might be worth mentioning that you can back up those files before deleting them. :) <comment338801> Doesn't work on Mountain Lion: `launchctl remove error: No such process` <comment338836> If you drag the files to the Trash then there is no real need to back them up... However, this method, unfortunately, didn't _seem_ to work for me on Mountain Lion - DHCP still doesn't work... <comment338840> However, if does say (in Mountain Lion) beneath the checkbox that DHCP will not be blocked. <comment373562> Works for me on 10.12.x
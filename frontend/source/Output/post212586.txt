torsocks not working in El Capitan <body> Just a few weeks ago on OS X Yosemite, it worked fine. Now, after performing a clean install of OS X El Capitan it no longer works. I’m very inclined to believe something in El Capitan is the culprit since it doesn’t work on two different computers embut/em I can get it to work right now by doing it in a Yosemite VM guest inside an El Capitan host.  Using Homebrew, I install codetor/code and codetorsocks/code:  precodebrew install tor torsocks /code/pre  Installation goes fine. I then copy over the sample codetorrc/code and add codeExitNodes/code  precodecp "$(brew --prefix)/etc/tor/torrc.sample" "$(brew --prefix)/etc/tor/torrc" echo 'ExitNodes {es}' &gt;&gt; "$(brew --prefix)/etc/tor/torrc" /code/pre  I start codetor/code  precodetor &amp; /code/pre  Everything goes OK  precodeOct 16 01:18:50.101 [notice] Tor v0.2.6.10 (git-58c51dc6087b0936) running on Darwin with Libevent 2.0.22-stable, OpenSSL 1.0.2d and Zlib 1.2.5. Oct 16 01:18:50.101 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning Oct 16 01:18:50.102 [notice] Read configuration file "/usr/local/etc/tor/torrc". Oct 16 01:18:50.104 [notice] Opening Socks listener on 127.0.0.1:9050 Oct 16 01:18:50.000 [notice] Parsing GEOIP IPv4 file /usr/local/Cellar/tor/0.2.6.10/share/tor/geoip. Oct 16 01:18:50.000 [notice] Parsing GEOIP IPv6 file /usr/local/Cellar/tor/0.2.6.10/share/tor/geoip6. Oct 16 01:18:50.000 [notice] Bootstrapped 0%: Starting Oct 16 01:18:50.000 [notice] Bootstrapped 5%: Connecting to directory server Oct 16 01:18:50.000 [notice] Bootstrapped 80%: Connecting to the Tor network Oct 16 01:18:50.000 [notice] Bootstrapped 85%: Finishing handshake with first hop Oct 16 01:18:51.000 [notice] Bootstrapped 90%: Establishing a Tor circuit Oct 16 01:18:52.000 [notice] Tor has successfully opened a circuit. Looks like client functionality is working. Oct 16 01:18:52.000 [notice] Bootstrapped 100%: Done /code/pre  Then I try to use codetorsocks/code to check if everything is fine  precodetorsocks curl -s https://check.torproject.org | grep Congratulations /code/pre  No message, which means it isn’t working. I also try to check my IP  precodetorsocks curl http://ipecho.net/plain /code/pre  It confirms it isn’t working, by showing my real IP.  I also tried various other commands and apps, as well as different codeExitNodes/code (including none at all) and different configurations. Nothing seems to do the trick. It works correctly on Yosemite, and I do nothing differently. Since there isn’t an actual error shown, this is difficult to diagnose.  As a further note (not sure how relevant it is), codetorsocks show/code outputs  precodeDYLD_INSERT_LIBRARIES="" /code/pre  And here are the codeDependencies/code part of codebrew info tor/code  precode==&gt; Dependencies Required: libevent ✔, openssl ✔ Optional: libnatpmp ✘, miniupnpc ✘, libscrypt ✘ /code/pre  and codebrew info torsocks/code  precode==&gt; Dependencies Build: autoconf ✔, automake ✔, libtool ✔ /code/pre  To note that codetorsocks/code is the one that doesn’t work. codetor/code by itself does, when configured in System Preferences. This can also be confirmed with codecurl/code, by doing codecurl --socks5 127.0.0.1:9050 http://ipecho.net/plain/code.  <answer218029> The problem doesn't appear to be in "tor" or "torsocks". The problem seems to be in the version of "curl" shipped with El Capitan.  Similar to yourself if I try codetorsocks curl -s https://check.torproject.org | grep Congratulations/code I get nothing back.  However if I try codetorsocks wget -qO- https://check.torproject.org | grep Congratulations/code I get the expected replies.  precode  Congratulations. This browser is configured to use Tor.   Congratulations. This browser is configured to use Tor. /code/pre  But if you install curl from brew (resulting in a newer version of curl than ships with El Capitan) and then run codetorsocks /usr/local/Cellar/curl/7.45.0/bin/curl -s https://check.torproject.org | grep Congratulations/code, you get the expected "Congratulations" messages (note the version number might be different by the time you try this).  precode  Congratulations. This browser is configured to use Tor.   Congratulations. This browser is configured to use Tor. /code/pre  <comment256683> Does TorSocks need DYLD_INSERT_LIBRARIES <comment256691> @Mark No idea, hence why I stated I don’t know how relevant it is. The value is the same under Yosemite and El Capitan, though, so likely not the cause. <comment256875> I have the same problem, it's still working on my other Macbook with Yosemite, but doesn't work on this one running OSX El Capitan. `Tor` works, I've confirmed. But `Torsocks` doesn't. <comment256904> @Sheharyar Which steps have you taken to confirm `tor` really is working? <comment256906> Start `tor`. Open any browser, and change proxy to 127.0.0.1:9050 (using plugins or by changing settings in System Preferences). Visit http://check.torproject.org/. If tor's working, it'll tell you. <comment256908> Thank you. Confirmed as well it works. Will update the question. <comment263058> @Sheharyar I also cannot get it to work with `proxychains-ng` (though I never tried it on Yosemite, it should work by default with `tor`). Can you? <comment263201> @Sheharyar There's a bounty if you want to answer this in the answer section :-) <comment263552> Thank you. That would explain why [`proxychains-ng` also does not work](https://apple.stackexchange.com/questions/212586/torsocks-not-working-in-el-capitan/218029#comment263058_212586). I wonder that the exact issue is with this particular `curl` version. <comment264812> Strictly speaking, this answer isn't quite right. It wasn't the new version of curl in brew that got torsocks working, its that torsocks cant DYLD_INSERT into a system binary on El Capitan due to SIP. System-curl is a system binary. pointing torsocks to a curl it can inject into is what made it work :) <comment271652> Related: https://tor.stackexchange.com/questions/9437/how-to-figure-out-why-torsocks-isnt-working-on-os-x
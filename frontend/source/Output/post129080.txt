Mismapped keyboard keys? How to correct them by software means <body> Now I had a problem with my keyboard.   When I press kbdshift/kbd and kbdnumber/kbd keys,  the output is different than expected.   When I press kbdShift/kbd plus kbd2/kbd, it gives me kbd"/kbd  when I press kbdShift/kbd plus kbd;/kbd, it gives me kbd+/kbd.   when I press kbd[/kbd, it gives me kbd@/kbd.  All the symbols are strangely mapped. I thought something was wrong in the keyboard routing or processor. I checked system preference - keyboard:  Here is what I see;  img src="https://i.stack.imgur.com/lLt9j.png" alt="enter image description here"  So strange! Apple recognizes the wrong mapping but continues it! I want it back to normal mapping.. Is there any way to do it or actually create a software mapping so that SHIFT PLUS 2 is @ ?  Thanks  Indeed this layout belongs to a Japanese Layout, obtained from http://support.apple.com/kb/HT2841:  Now the question is how to remap it back to a US layout..  img src="https://i.stack.imgur.com/SLYxW.gif" alt="enter image description here"  <answer129091> It might be this since you have the second input set as Pinyin-  Automatically switch to a documentâ€™s input source  Choose an input source for a document and have it used every time you work in the document until you close it, even if you switch to other documents that use other input sources in the meantime.  This option appears only when you add a second input source.  subChinese input sources (such as Pinyin-Simplified or Pinyin-Traditional), Korean input sources (such as 2-Set Korean or HNC Romaja), and Japanese input sources (such as Romaji, Hiragana, or Katakana, grouped in Kotoeri) include numerous options. If you added one of these input sources, switch to it, then open and search its help to learn about the options./sub  <answer129104> Your mac for some reason thinks you are using a Japanese JIS hardware keyboard instead of the US ANSI or European ISO. Notice the Yen key at top right. What kind of keyboard do you actually have?  This note may help:  http://m10lmac.blogspot.com/2009/12/fixing-keyboard-type-problems.html  <comment151101> When did it start.  Did you install any software or fiddle with system settings that started this problem? <comment151108> What are your language settings?  It sounds like you may be using a different keyboard layout for your hardware keyboard <comment151125> But choosing pinyin does not change the layout like this.  Try it for yourself. <comment151140> @Joop no I didnt do anything to the OS. I did installs a new piece of keyboard .. <comment151141> @stuffe I actually deleted the pinyin and everything is the same . It's more related to hardware. When I use external Bluetooth keyboard , everything goes to fine immediately <comment151142> Hi: thanks. I am indeed installing a new piece of keyboard I bought from eBay claiming it is authentic US. The layout of the keyboard is US too but the mapping is wrong. I wonder if there is a way to modify or bypass this wrong mapping in software means? Thanks! <comment151143> Will try it today and let you know. Thanks! <comment151152> You've tried hitting the "Change Keyboard Type..." button in the Keyboard pane of Keyboard Prefs? <comment151185> @WayfaringStranger Where is the "Change Keyboard Type.." button? I only have modify keys and set up bluetooth keyboard in the "keyboard pane" <comment151186> I want to add to the answer. Try http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=ukelele and I managed to change the default layout of the keyboard <comment151511> @bboczeng It's just to the left of "Set up Bluetooth Keyboard" on my Mac. It brings up the "Keyboard Setup Assistant" App. Since you've no button, you can open the App at /System/Library/CoreServices/KeyboardSetupAssistant.app
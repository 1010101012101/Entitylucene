XQuartz: user / environment when executing xinit? (XMonad, xmodmap, etc.) <body> I'm running XMonad with XQuartz on an 11,3 Macbook Prop Retina. My code.xinitrc/code looks as follow:  precode[[ -f ~/.Xdefaults ]] &amp;&amp; xrdb -load ~/.Xdefaults export LANG="en_CA.UTF-8" xmodmap /Users/xxxxxxx/.xmodmarc cd $HOME /Users/xxxxxxxx/Library/Haskell/bin/xmonad /code/pre  I've noticed that both the codeLANG/code export and the codexmodmap/code are being called, but their effects are not persisting. If I throw some codeenv &gt;&gt; tmp.txt/code in there I can see that it's a different environment than when I finally reach a terminal, and I suspect perhaps even a different user that is calling codexinit/code.   strongMy Questions/strong  ul liwhat user or environment is actually calling codexinit/code when you startup XQuartz?/li liwhere is the appropriate place to put codexmodmap/code so that it's called once, and only once, when XQuartz is started?/li liHow do I get the codeLANG/code set once, and only once, as an environment variable when I start XQuartz (I need it for unicode support)/li /ul  Thank you!  <answer125949> h3What user/env is actually calling codexinit/code when you start XQuartz?/h3  Under Linux, this would be the user that you logged in as; I'd suspect that it's probably the same for Mac OS X.  As for the environment, whatever the current environment is when you run codexinit/code, that will be the environment that codeXQuartz/code runs with, excepting changes to the environment done within one of the files that codeXQuartz/code reads when it starts up.  h3Where should I put codexmodmap/code so that it's called once, and only once, when XQuartz is started?/h3  To create your own custom map/table and store it in a configuration file, run:  precodexmodmap -pke &gt; ~/.Xmodmap /code/pre  Make the desired changes to code~/.Xmodmap/code and then test the new configuration with:  precodexmodmap ~/.Xmodmap /code/pre  To active your custom table when starting Xorg, that is XQuartz, add the following to your code~/.xinitrc/code  precode[ -s ~/.Xmodmap ] &amp;&amp; xmodmap ~/.Xmodmap # you can also try using `[[ -s ~/.Xmodmap ]] &amp;&amp; xmodmap ~/.Xmodmap` /code/pre  h3How do I get the LANG set once, and only once, as an environment variable when I start XQuartz (I need it for unicode support)/h3  To set codeLANG/code, simply add one of the following to your code~/.xinitrc/code  precode[[ -z "$LANG" ]] &amp;&amp; LANG=&lt;VALUE&gt; # only sets LANG, if LANG is empty LANG=&lt;VALUE&gt; # sets LANG regardless of whether it is or is not empty /code/pre  <comment147445> you have `cd $HOME` in your `~/.xinitrc`?  If yes, then remove that line.  Also, place `exec` in front of your call to `xmonad`, like this: `exec .../bin/xmonad`.  Also, note that `export` only alters the environment of the current process _and_ child processes of the current process.  It has no effect on processes already running, such as another instance of terminal. <comment147742> Unfortunately this didn't work. I'd had an `.xinitrc` already with similar code. I believe the problem is related somehow to the environment in which `xinit` is being called. If I run `whoami` in `.xinitrc` I get the correct user. However, if I look at `$ENV` within `.xinitrc` (by running `echo "$ENV"  /Users/.../tmp.txt`) I see a different environment than when I finally land in the shell. <comment147759> @weirdcanada have you checked the docs for XQuartz to see if it covers this kind of issue?
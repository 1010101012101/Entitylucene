how to get ls to list files in case-insensitive order? <body> How do I get the codels/code shell command to list my files in:  ol licase-insensitive order /li liwith the directories at the top?/li /ol  The reason I ask is: I want Aquamacs Emacs codedired/code to list my files and directories this way. Emacs queries codels/code when displaying codedired/code.  Which means I don't think piping using a command like       codels -whatever | sort -f/code will work. (Or will it? Can I do something fancy with aliases?)  I'm using zsh at the moment, but I'm not sure that matters for Emacs.  Similar questions have been asked here before and in other forums, but never resolved.   So, is this possible?  <answer84634> Emacs mode hooks to the rescue! Taken from EmacsWiki:  precode(defun mydired-sort ()   "Sort dired listings with directories first."   (save-excursion     (let (buffer-read-only)       (forward-line 2) ;; beyond dir. header        (sort-regexp-fields t "^.*$" "[ ]*." (point) (point-max)))     (set-buffer-modified-p nil)))  (defadvice dired-readin   (after dired-after-updating-hook first () activate)   "Sort dired listings with directories first before adding marks."   (mydired-sort)) /code/pre  <comment97464> Amazing, that worked! Anyone have any thoughts on case-insensitivity? <comment97465> The above works, but it appears to have broken `dired-details`, which causes `dired` to display files this way: `filename.org` instead of this way:`-rw-r--r--@    1 peter  peter     4000 Oct  5 18:21 filename.org`. Is there a way to make them play nicely together? <comment97466> I don't have `dired-details` here, you may need to adjust the second regexp in `sort-regexp-fields`. For case-insensitive sorting, setting `sort-fold-case` to `non-nil` *should* do the trick. <comment97469> I'm a newbie. Can you tell me how to set `sort-fold-case` (I don't find it as a variable when I do `C-h v`). And can you suggest syntax for how I might adjust the second regexp in `sort-regexp-fields` so I can play with it? Thank you. <comment97510> I'll give it a shot on the weekend. <comment98258> Update: if I hit `G` (Refresh), dired-details successfully omits the extraneous information. Any way to get it to do this automatically when I navigate to a directory?
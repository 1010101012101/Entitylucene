How does the DHCP server choose the address range for each client? <body> I've set up El Capitan Server to host DHCP for my network. I've got two DHCP address ranges.  The server admin interface doesn't suggest anything about how these ranges are used, and neither does the documentation. When a client connects, from which range does the server take the IP? Do clients get IPs from random ranges, or is there some priority?  This is my config:  img src="https://i.stack.imgur.com/Si8LJ.png" alt="enter image description here"  <answer246345> The answer to the question you posted:     When a client connects, from which range does the server take the IP?   Do clients get IPs from random ranges, or is there some priority?   Excluding any existing leases that the client may re-request or any statically assigned addresses, your DHCP server will exhaust all 189 addresses in the first pool before it goes into the second pool.  What you need to do to make this work is have:  ul liOS X DHCP server listening on 2 separate network adapters (you can use one physical one and use VLANs).  You will need to configure the DHCP listener on one of the interfaces to respond to the 192.168.1.0/24 network and the other interface to respond to the 10.0.1.0/24 network/li liYou need to separate the networks; either use a switch with VLAN capabilities or get two separate switches./li liYou will need either two separate routers or one router with at least 4 user configurable interfaces to route traffic to their respective modems./li /ul  Also, I definitely suggest a primer on DHCP (Microsoft has a good one called How DHCP Technology Works) and another on VLANs  <comment303587> DHCP *listens* on a network adapter and then supplies an address when it hears a request.  Do you have two different ranges setup for the same network adapter/IP address?  What exactly are you trying to setup (and why are you trying to do this in OS X, why not in FreeBSD which is much easier) <comment303589> I've got the two routers I mentioned, both accessible through the LAN my server is connected to via ethernet, and I want to put some DHCP clients on one router and some on the other. I intend to do this by giving IP addresses to clients from two different ranges, one on each router. I'm doing this in OS X because I have an OS X server already set up and thought it would be easy. <comment303590> Updated question to show network configuration. <comment303600> Right now it looks like you have a race condition - whichever router responds to the DHCP request first will get that client. <comment303603> & it's bad form to cross-post to different SE sites - http://superuser.com/questions/1101720/if-i-have-two-routers-how-do-computers-choose-which-to-use :/ <comment303634> This is a bass-ackwards setup.  **What exactly are you trying to do?**  Why are you doing this?  Redundancy?  Or do you want certain clients to use one WAN gateway and other clients to use another? <comment303685> @Tetsujin I'm not cross-posting. I was asking about two DHCP servers on the other question. I got my answer, a race condition. I don't have two DHCP servers anymore, just the OS X Server DHCP. I'm now asking just how the OS X Server DHCP works, which is independent of everything else. In fact, I'm taking out everything about having two routers because it doesn't matter for this question. <comment303686> @Allan The latter. Some clients on one gateway, some on another. BTW, this is a home network with guests, not enterprise, so I can't do any client-side setup. <comment303881> Thanks, perfect answer. I'll get this sorted out. I guess a possible hack if I want to "load-balance" with my current bad setup is split the IP ranges into a bunch of smaller ranges, and alternate them in the config... but I'm going to do this the right way, with multiple interfaces as you suggested.
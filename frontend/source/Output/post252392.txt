Why can I still access blocked sites in /etc/hosts? <body> I've been trying to setup launchd to block several websites on OS X 10.11.6   The code/etc/hosts/code list is changed on schedule but a browser can still access the blocked sites.   Another strange behavior is that launchd seems to execute the commands when I load the plist, but does not execute the commands during the scheduled time.  Some googling suggested that I might need to reset the DNS cache:   precodesudo dscacheutil -flushcache;sudo killall -HUP mDNSResponder /code/pre  When I run that from the command line I can still access the sites that should be blocked.  I don't know how to add this to the launchd plist program arguments either if it were to work.  code$ cat /Library/LaunchDaemons/local.hosts.blockingAM.plist/code    precode&lt;?xml version="1.0" encoding="UTF-8"?&gt;   &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;   &lt;plist version="1.0"&gt;   &lt;dict&gt;       &lt;key&gt;Label&lt;/key&gt;       &lt;string&gt;local.hosts.blockingAM&lt;/string&gt;       &lt;key&gt;ProgramArguments&lt;/key&gt;       &lt;array&gt;           &lt;string&gt;cp&lt;/string&gt;           &lt;string&gt;/etc/hosts_BLOCKED_sites.txt&lt;/string&gt;           &lt;string&gt;/etc/hosts&lt;/string&gt;       &lt;/array&gt;       &lt;key&gt;RunAtLoad&lt;/key&gt;       &lt;true/&gt;       &lt;key&gt;StartCalendarInterval&lt;/key&gt;       &lt;array&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;1&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;2&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;9&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;35&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;3&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;4&lt;/integer&gt;           &lt;/dict&gt;           &lt;dict&gt;               &lt;key&gt;Hour&lt;/key&gt;               &lt;integer&gt;8&lt;/integer&gt;               &lt;key&gt;Minute&lt;/key&gt;               &lt;integer&gt;15&lt;/integer&gt;               &lt;key&gt;Weekday&lt;/key&gt;               &lt;integer&gt;5&lt;/integer&gt;           &lt;/dict&gt;       &lt;/array&gt;        &lt;key&gt;StandardErrorPath&lt;/key&gt;       &lt;string&gt;/tmp/local.hosts.blocking.err&lt;/string&gt;                                                                &lt;key&gt;StandardOutPath&lt;/key&gt;        &lt;string&gt;/tmp/local.hosts.blocking.out&lt;/string&gt;         &lt;/dict&gt;       &lt;/plist&gt;   /code/pre  Here are the permissions:br code$ ls -la  /Library/LaunchDaemons/local.hosts.blockingAM.plist/code   precode-rw-r--r--@ 1 root  wheel  1474 Sep  8 09:33 /Library/LaunchDaemons/local.hosts.blockingAM.plist /code/pre  I load up the plist with:    precode$ sudo launchctl load /Library/LaunchDaemons/local.hosts.blockingAM.plist    /code/pre  There are no errors recorded:br code$ cat /tmp/local.hosts.blocking.err/code  Here is the file containing blocked sites:br code$ cat /etc/hosts_BLOCKED_sites.txt/code  precode##   # Host Database   #   # localhost is used to configure the loopback interface   # when the system is booting.  Do not change this entry.   ##   127.0.0.1   localhost   255.255.255.255 broadcasthost   ::1             localhost      # Blocked sites redirected to 0.0.0.0   0.0.0.0 reddit.com www.reddit.com   0.0.0.0 facebook.com www.facebook.com   /code/pre  What am I doing wrong?  <answer252409> Have you actually checked your code/etc/hosts/code to be certain that it's being modified? As a test, I dropped code127.0.0.1 foo.com www.foo.com/code into my code/etc/hosts/code and tried loading the site; it immediately went to localhost as expected. You might not be doing anything wrong with the code/etc/hosts/code code at all; however, there's a good chance the changes you are requesting are never making their way into the file in the first place.  I'd also try codemv/code instead of codecp/code. codemv/code won't change file permissions, it just unlinks the target and renames the source: so you'll need to remember to swap first (e.g. codemv /etc/hosts /etc/hosts_default &amp;&amp; mv /etc/hosts_BLOCKED_sites.txt /etc/hosts/code, reverse the order when you want to unblock, remember to flush DNS cache after each change, and ensure that code/etc/hosts_BLOCKED_sites.txt/code has the same permissions/ownership as code/etc/hosts/code before starting)  <comment314040> Is the browser using a proxy? (Then your hosts file won't matter.) Does the hosts file have world-readable permissions (0644)? Is the hosts file a symbolic link? Does the hosts file contain CRLF, and not just LF line endings? Off topic, but related, `dnsmasq` is awesome for domain banning, even wildcard banning. <comment314047> Original settings: -rw-------  1 root  wheel  567 Sep 12 09:05 /etc/hosts <comment314048> Changed too: -rw-r--r--  1 root  wheel  274 Sep 12 12:44 /etc/hosts <comment314049> I ran sudo dscacheutil -flushcache;sudo killall -HUP mDNSResponder  and I can still access the blocked sites. <comment314050> The browser should not be using a proxy, I never set that up. <comment314053> Next, maybe it is time to narrow the focus. If the hosts file is used by the system, then `ping www.facebook.com` should try to ping `0.0.0.0`. If true, focus on the application that does not use the hosts file. If false, keep focusing on the system. Is it a particular browser? Some are known for ignoring the hosts file. <comment314054> The CRLF (DOS/Windows) line endings can be a problem, too. There are many ways to convert line endings, like `tr`, including `dos2unix` which can be installed with `brew install dos2unix`.
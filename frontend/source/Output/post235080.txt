Cannot delete or merge old boot camp partition in El Capitan <body> So i've battled with this for quite some time, look up various topics with various solutions, however i have yet to succeed with merging my partitions into one. I had previously installed windows 10 on it, but after i partitioned for a mutual accessible drive (for dropbox), windows stalled and i had to reformat it, resulting in a sort of "locked" partition.  If i click on "Partition" in Disk Utility, there are two major partitions, where neither of them have the "-" option available(greyed out). I have tried to partition DeleteThis into both ExFat, Fat and Journaled OS X, with no difference.  Diskutil list reveals this: img src="https://i.stack.imgur.com/agdui.png" alt="Diskutil list"  and gpt -r show -l /dev/disk0 show this: img src="https://i.stack.imgur.com/FJ4Ov.png" alt="enter image description here"  I've also tried to reboot into recovery mode and use the Disk Utility there, with no different result than from normal.   EDIT: I have of course also tried using Boot Camp Assistant, but it just says "The start disk cannot be partitioned or restored as a single partition".  <answer235116> Hold down the kbdCommand âŒ˜/kbdkbdOption/kbdkbdR/kbd keys at startup to boot to OS X Internet Recovery. Once you have started your Mac in OS X Internet Recovery mode, you need to use the codegpt/code command to remove the unneeded partitions. You can then expand your core storage partition to recovery the freed space back into your OS X partition.  To use the codegpt/code command, you need to unmount your physical internal disk. If you are using core storage, then you have to unmount the virtual internal disk first. The commands are shown below. strongNote: Once booted to internet recovery, the disk numbers may change./strong The disk numbers used below are based the the values shown in your posted question. The partitions to be removed are 4, 5 and 6 on codedisk0/code.  To remove partition 6, enter the commands.  precodediskutil  unmountDisk  /dev/disk1 diskutil  unmountDisk  /dev/disk0 gpt  remove  -i  6  /dev/disk0 /code/pre  To delete the remaining partitions, repeat the commands.  precodediskutil  unmountDisk  /dev/disk1 diskutil  unmountDisk  /dev/disk0 gpt  remove  -i  5  /dev/disk0 diskutil  unmountDisk  /dev/disk1 diskutil  unmountDisk  /dev/disk0 gpt  remove  -i  4  /dev/disk0 /code/pre  Now, when executing the command  precodegpt  -r  show  /dev/disk0 /code/pre  the removed partitions should not appear. You can restart back to El Capitan.  Use the Disk Utility application to recover the freed space. Use the steps below.  ol liHighlight the internal disk./li liClick on the icon labeled "Partition"./li liHighlight the free space shown in the pie chart. See example below.  img src="https://i.stack.imgur.com/XxLuo.png" alt="321"/li liClick on the "-" symbol. Your OS X partition should fill the pie chart. See example below.  img src="https://i.stack.imgur.com/MUMa7.png" alt="322"/li liClick on the "Apply" button./li /ol  <answer255088> The answer is so simple. Forget terminals and internet recovery. Here's what you gotta do:  ol liFormat the BOOTCAMP-partition through disk utility to MS-DOS (FAT)/li liPress cmd + space and write bootcamp-assistant, open bootcamp/li liErase windows and merge the partitions as one mac HD-partition./li /ol  <answer255108> You can not use DiskUtility on a Bootcamp partition, whatever you want to do. Only use BootcampAssistant when you want to change or delete the Bootcamp partition.  <comment287523> You need to delete the last 3 partitions. The easiest command to use is `gpt`. I believe you have to execute this command while booted to internet recovery. Are you familiar with using internet recovery? Also what is the model/year of your Mac? Older mac's can not use internet recovery. <comment287524> Do i also need to delete the OSXRESERVED partition? If it's the reinstall options from recovery mode, then it says "Could not find installation information for this machine"...  EDIT: Switched wifi, now i can access it. It shows me three different options: Macintosh HD(my current), OSXRESERVED and DeleteThis. <comment287526> Just realised i was in local recovery(cmd+r) and not internet recovery(cmd+opt+r). Internet recovery is currently progressing as we speak. The model is 2016. <comment287527> OSXRESERVED is created by the Boot Camp Assistant. The Windows iso file is copied there. That is how Apple manages to install Windows without a DVD or USB flash drive. Some partitions you need to delete are hidden and do not appear in the Disk Utility. <comment287528> Ohh.. When i try to delete it from disk utility it says "The target Core Storage volume is locked" <comment287529> When you enter `diskutil list` is `disk0` and `disk1` the same as shown in your above posted question? <comment287531> No, if i enter it from the terminal window from recovery, it looks different. The we have 2 "partitions" at disk0(disk image), where OS X Base system is one of them. them disk1(internal, physical) has 6 "partitions", where 4 of them are the ones i want to merge together <comment287532> I assume then that you want to remove the last three partitions on `disk1`. These are 8.0 GB, 16.8 MB and 149.9 GB in size. Afterwards you want to add this space back to your OS X partition (131.4 GB)? <comment287537> Yes, i want to end up with 1 partition with 500gb as originally. I've managed to merge the three smaller partitions into one on the OSX Recovery partition, but when i try to merge it with my main partition it says "The target Core Storage volume is locked" <comment287541> I image if I ask you to unmount `disk1 using the command `diskutil  unmountDisk  /dev/disk1`, this will fail. I believe you have to first unmount the disk that contains your OS X volume (Logical volume on disk1s2). <comment287542> Actually no, it succesfully unmounts disk1 <comment287543> You need to remove the partitions 4, 5 and 6 on `disk1`. My answer shows `disk0`, but you show `disk1`. If you do not have to unmount the virtual disk, then maybe Apple changed things so this is now done automatically. <comment287544> So i managed to remove the OSX Reserved partition, so it's gone now. Now how do i find it again? <comment287548> The `gpt remove` command sets the partition type id to 00000000-0000-0000-0000-000000000000. This partition will no longer appear when using `diskutil list` or `gpt show` commands. The partition information is still in the gpt and the contents of the removed partition is unchanged on your internal disk. I assume you no longer what the data stored on the removed partition. You are freeing the space to later be reclaimed. <comment287549> I ran the repair tool and it is now appearing again as free available space, able to merge. Thanks for your help! <comment318701> This worked for me! <comment338504> Awesome, this is the only way I could retrieve the windows partition after Bootcamp failed to do it. Lesson of the day: never EVER put Windows on your beautiful Mac
Permanently route an host to VPN in OS X <body> I need VPN from the university to ssh to my office computer. But each time I start the VPN, I have to route the host to ppp0 manually to use it,   precodesudo route add lab_computer.foo ppp0 /code/pre  because my previous attempt of rerouting was lost. And frankly it's a pain. I wonder if it's possible to use some script to automatically reroute it every time I successfully establish the vpn connection.  hr  PS1. I am using OS X. But I think for both unix and linux system they should be similar?   PS2. I don't want to route all connection to vpn because in that way, the connection to other hosts will be unnecessarily slowed down.  <answer137158> You can put extra configuration in code/etc/ppp/ip-up/code file, which is described in codeman pppd/code, and which is a standard shell script file that will be fired when the codepppd/code establishes a connection.   I don't use the VPN anymore and unfortunately it seems I don't have a copy of my codeip-up/code file anymore, but the way I used to do it is something similar to below (you'll need to verify this with the aforementioned man page).   Once pppd establishes the connection, it will call code/etc/ppp/ip-up/code with the following arguments:   codeip-up interface-name tty-device speed local-IP-address remote-IP-address ipparam/code  Your codeip-up/code script could therefore look something like:   precode#!/bin/bash  IFNAME="${1}" LOCALIP="${4}" REMOTEIP="${5}"  if [[ "${REMOTEIP}" == "192.0.2.1" ]]; then   /sbin/route add -host lab_computer.foo -interface "${IFNAME}" fi /code/pre  Please note the following:   ol liI'm assuming that the IP address of the VPN gateway you connect to is always the same and never changes, and in the example above I'm assuming it's 192.0.2.1 (RFC5737 address range specified to use as Documentation Examples - PLEASE CHANGE IT). The comparison here is used to only add the route when you're connected via the VPN to your office, and not any other VPN or PPP connection./li liIt's also better to use an IP address instead of the hostname for the computer you want to add a static route to. Instead of using codelab_computer.foo/code I would use an IP address in the coderoute/code command./li liI'm using the code-interface ${IFNAME}/code as opposed to hard-coding codeppp0/code, which should make this work even if you have two VPN connections established at the same time (or a VPN and another form of PPP, e.g. a 3G modem)/li /ol  <comment162965> Thanks for the help. It worked. Though I have to chmod +x to `ip-up` to make it work. I also removed the condition shown in your example, as I have no idea what the value ${REMOTEIP} is for my VPN connection. (It's not the vpn route IP shown in GUI connector, nor is it the VPN server address.) <comment259040> You can use `ifconfig` to know the corresponding IPs. The syntax is `LOCALIP -- REMOTEIP`.
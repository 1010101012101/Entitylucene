Automatically move files to a parent folder + delete subfolder <body> I'm trying to figure out how to automatically move files from a folder to its parent folder and delete the original folder. To illustrate, here's my structure:  precodeParent Folder     – Subfolder             – File.avi             - File2.avi             - Otherfile.trash /code/pre  I want to move my all my .avi files to the codeParent Folder/code and get rid of codeSubfolder/code altogether (codeSubfolder/code still won't be empty after moving these files, but I want to delete it and its leftover contents).  I've been playing around with Hazel but I guess my logic isn't the best and I can't figure it out. Is it possible with either Hazel or Automator or both?  Thanks in advance!  <answer105760> The following solution will move all (and only) ".avi" files within subfolders (one level deep) to the parent folder and delete the subfolders. It may not be the most optimal solution since there are many different ways in which shell scripts can be written to solve a problem.  strongAssumptions and restrictions:/strong    ol liOnly ".avi" files will be moved. Other files will be ignored and deleted without warning./li liThe (updated) script works only three levels below the parent folder. If there are subfolders within the subfolders containing ".avi" files, they will be deleted like any other file (including those ".avi" files)./li liThis script can handle ".avi" files that have spaces in the filename./li /ol  strongCaution:/strong emThis uses a shell script that moves files and deletes directories/files completely. Have a backup before attempting to use it (even minor changes in the script can cause serious and irrecoverable issues). strongThere is no way to recover from any issues except for restoring from a backup./em/strong  strongSolution:/strong  ul liIn Hazel, setup a watch for the parent folder in the Folders pane on the left./li liAdd a rule by clicking the "+" button and name it as you wish./li liSet the conditions criteria as follows  precodeIf &lt;any&gt; of the following conditions are met for &lt;any of its sub-files or folders&gt;  &lt;Any File&gt; /code/pre/li liSet the strongDo the following to the matched file or folder:/strong as follows  precode&lt;Run shell script&gt; &lt;embedded script&gt; /code/pre/li liClick on the strongEdit script/strong button next to the  dropdown./li liLeave the strongShell:/strong option to the default (code'/bin/sh/code)./li liIn the textbox below, copy and paste this shell script (I have included comments starting with # - they're just to make it easy to understand or modify)  precode# Get the directory name and go into it - this should be the parent directory dir=`dirname $1` cd $dir  # Find all directories one level below # For each subdirectory, move all ".avi" files to its parent directory, # then remove the subdirectory and its contents (change avi to any other extension if necessary) find . ! -path . -type d -maxdepth 1 -exec sh -c ' dir="$0" mv $dir/*/*/*.avi $dir/.. rm -rf $dir ' {} ';' /code/pre/li /ul  <comment124354> This is fantastic, thank you very much! Would it be easy to change it to look for .avi files 3 levels deep? Technically, I want Hazel to watch the top level folder and the folders with .avi files sit 3 levels deep. Otherwise, I'd have to create a bazilion rules for each folder. <comment124356> Just to clarify, my actual folder structure looks like this: http://pastebin.com/HaTmKenk - I wanna move .avi files one level up and delete the "subfolder" with leftovers. <comment124359> Yes, it's possible to look at folders three levels deep, but any solution would have to have defined boundaries. Is it fixed at three levels deep? That's a simple change. If you need it to be flexible to look at any depth, this script would be completely different. <comment124361> Yes, it's always 3 levels deep. Here's a screenshot of a real life example: https://www.dropbox.com/s/bm53ems7iyqy6g4/Screenshot%202013-10-19%2021.05.21.png - what I want to do is have Hazel watch the "TV Shows" folder and be able to move files (yes, they're actually .mkv not .avi) from the torrent-created folders up a level to season-specific folders. In my screenshot, the selected file needs to go up a level. It will always be the same level, I believe. Hope it makes sense and thanks again for your help! :) <comment124378> Can you help me modify this script to match my needs (3 levels deep), please? <comment124392> Done. Have a backup before you test and use it! <comment124399> I tested it by creating a random folder structure with a .txt file 3 levels deep, and had Hazel watch that folder. I also downloaded trash-cli and replaced your `rm -rf` to `trash` to feel "safer". However, for some reason, it proceeded to move around .txt files and deleting folders all around my hard drive so something is not quite right. Can you explain what's happening in the `find` command? Why is dir $0 instead of $1 given by Hazel? Also, since it's just one folder I need monitored, could we just hardcode it instead of using variables? <comment124401> Hope Hazel is watching the parent folder (the top level one) and not the ones three levels below. The $1 from Hazel is used to just get into the parent folder. From the parent folder, the `find` command looks for directories just under the parent folder - that's the $0 here. In each of those directories, the `mv` command goes three levels deeper (each * is one level deeper) and moves file up. <comment124402> This is getting to be a very long discussion, and does not work well for this site's format. We should take this to chat or elsewhere. <comment124403> If you're willing to help me get it right, where can I reach you? <comment124404> twitter.com - askdifferent0
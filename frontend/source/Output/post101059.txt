How can I send the current working directory from bash to Terminal? <body> I set up a very nice custom bash prompt in code.bash_profile/code, but I noticed that I've now lost the ability for new tabs to open in the same directory, and the ability to see the current working directory's icon in the titlebar.  How can I get that back?  I've made some progress in the direction by adding code"\e]2;\w\a"/code to code$PS1/code, but that displays the full path in the titlebar, not just the name of the working directory. Any suggestions would be greatly appreciated.  <answer101080> Did you change codePROMPT_COMMAND/code? The default codePROMPT_COMMAND/code is defined in code/etc/bashrc/code:  precode# Tell the terminal about the working directory at each prompt. if [ "$TERM_PROGRAM" == "Apple_Terminal" ] &amp;&amp; [ -z "$INSIDE_EMACS" ]; then     update_terminal_cwd() {         # Identify the directory using a "file:" scheme URL,         # including the host name to disambiguate local vs.         # remote connections. Percent-escape spaces.         local SEARCH=' '         local REPLACE='%20'         local PWD_URL="file://$HOSTNAME${PWD//$SEARCH/$REPLACE}"         printf '\e]7;%s\a' "$PWD_URL"     }     PROMPT_COMMAND="update_terminal_cwd; $PROMPT_COMMAND" fi /code/pre  <comment119026> Yeah... I overrode PROMPT_COMMAND to track the time it took the last command to execute. This function did the trick. Thanks! <comment264973> Note: Don't just copy this code into your startup script. This code is installed in the system and you should continue using whatever's installed, because it gets updated over time. In particular, this code was significantly overhauled in OS X 10.11 El Capitan to work with all pathnames (the above version doesn't handle non-ASCII characters). When customizing `PROMPT_COMMAND` append your commands to it like this: `PROMPT_COMMAND="${PROMPT_COMMAND:+$PROMPT_COMMAND; }your_code_here"`
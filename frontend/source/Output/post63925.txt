TextEdit shows dialogs about not having permission to open any files <body> About once per day, TextEdit starts showing dialogs like this when I try to open any file:     strongThe document “test.txt” could not be opened. You don’t have permission./strong      To view or change permissions, select the item in the Finder and choose File  Get Info.   There's usually messages like this in system.log:  precode9/13/12 10:41:42.952 PM sandboxd[21081]: ([357]) TextEdit(357) deny file-read-data /Users/lauri/Desktop/test.txt 9/13/12 10:41:55.118 PM TextEdit[357]: NSFileVersion tried to tried to add a new generation and failed. Versioned file URL: file://localhost/Users/lauri/Notes/temp.txt, contents URL: file://localhost/Users/lauri/Notes/temp.txt.sb-de6477ff-BhVNrq, error: Error Domain=GSLibraryErrorDomain Code=1 "The operation couldn’t be completed. (GSLibraryErrorDomain error 1.)" 9/13/12 10:41:55.118 PM TextEdit[357]: NSDocument failed to preserve the old version of a document. Here's the error: Error Domain=GSLibraryErrorDomain Code=1 "The operation couldn’t be completed. (GSLibraryErrorDomain error 1.)" 9/13/12 10:41:55.119 PM TextEdit[357]: &lt;Document: 0x7f971d00a510&gt;: An error occurred while attempting to preserve the backup file at file://localhost/Users/lauri/Notes/temp.txt.sb-de6477ff-BhVNrq: Error Domain=GSLibraryErrorDomain Code=1 "The operation couldn’t be completed. (GSLibraryErrorDomain error 1.)" /code/pre  I can't open any files until I quit and reopen TextEdit. I also have to delete the backup files (like codetemp.txt.sb-de6477ff-BhVNrq/code) manually.  I've had the issue on two different installations. I have tried deleting the sandbox container and repairing permissions from the recovery partition. Does anyone know what's going on?  <answer76510> Try repairing the stronguser/strong permissions.  http://www.ernieflores.net/mac-os-x-10-7-lion/repair-user-permissions-in-mac-os-x-lion/     In Lion, there is an additional Repair Permissions application utility   hidden away. This tool is located inside boot Repair Utilities. Here’s   how to access it.      ol   liRestart Lion and hold down the Command and R keys./li   liYou will boot into the Repair Utilities screen. On top, in the Menu Bar  click the Utilities item then select Terminal. /li   liIn the Terminal window, type reset password and hit Return. /li   liThe Password reset utility launches, but you’re not going to reset the  password. Instead, click on the icon for your Mac’s hard drive at the top. From the drop-down below it, select the user account where you are having issues. /li   liAt the bottom of the window, you’ll see an area   labeled ‘Reset Home Directory Permissions and ACLs’. Click the Reset   button there./li   /ol      The reset process takes a couple of minutes. When it’s done, quit the   programs you’ve opened and restart your Mac. Notice that ‘Spotlight’   starts re-indexing immediately   <answer77085> I ended up replacing TextEdit's code signature with an ad-hoc signature:  precodesudo codesign -f -s - /Applications/TextEdit.app/ /code/pre  It disables sandboxing, so for example the preference files are in code~/Library/Preferences//code instead of the sandbox container.  Edit: The dialogs returned after I reinstalled OS X, and now I'm getting errors like this for codecodesign -f -s -/code:  precode$ sudo codesign -f -s - /Applications/TextEdit.app/ /Applications/TextEdit.app/: replacing existing signature /Applications/TextEdit.app/: object file format unrecognized, invalid, or unsuitable /code/pre  I'm using https://github.com/jjgod/TextEditPlus for now. It's based on a version of TextEdit that came with 10.7, but it works with 10.8.2.  <answer102100> Possibly related http://forums.macrumors.com/showthread.php?t=798825.  Try deleting the code~/Library/Autosave Informations/code folder (it will be recreated automatically).  <comment88693> Do you open the dame file in TextEdit and WriteRoom at the same time? <comment88727> Can you open terminal.app and tell us the output of `ls -lt`? <comment88754> @Mark Sometimes, but I don't think it starts because of that. I should probably try removing WriteRoom temporarily though. <comment88755> @paulgrav The issue affects all files, and there's nothing unusual with my permissions (or the permissions of the files I've had open when it has started). <comment88757> V strange. Still, probably wouldn’t do any harm to try to repair the user permissions. Might be some extended attributes causing issues. What OS X version are you running? Also, are there any sandbox errors in your logs? Your home directory isn’t hosted on a network mount, is it? <comment88758> @paulgrav I hadn't tried it before, but I did that now as well. 10.8.2, but I don't remember if it started on Mountain Lion or Lion. I do have a lot of errors like `deny mach-lookup com.apple.ls.boxd` and `deny mach-lookup com.apple.coresymbolicationd`. I haven't worked with files on other volumes. <comment88760> Since it is repeatable, once you're in that state you can use dtruss to see the exact system call that is failing, and then verify whether it should fail or not, based on the file's permissions. Find the pid of textedit from a terminal with `ps -ef | grep TextEdit`, and use the second number. (the first is your UID).  Then you can use `dtruss -p pid` to see the system call fail. Then you should be able to tell if the filesystem is correct, and if so, perhaps TextEdit has the wrong perms. <comment88762> Starting up in safe mode might [fix the com.apple.ls.boxd errors](http://www.princeton.edu/~jcjb/docs/osx_error_fix/). I'll try that next and then removing WriteRoom. @TimothyButler Thanks, I didn't know about dtruss. <comment88784> If the user permissions were messed up, wouldn't the application fail every time with the same error and not be able to create any new files? <comment88801> Maybe. Repairing user perms couldn’t hurt. <comment88803> I have a ton of those `lsboxd` errors in my system.log too. I think they’re mostly harmless. <comment88805> It seems more a comment for something to try but not an actual answer to the question. We'll see based on the OP - I'm sure it's either been tried or can be ruled in/out in a short period of time. <comment88957> I tried it yesterday, but I'm getting those dialogs again, so it probably didn't help. <comment89572> A permission error leads to reproducible access error. It isn't the case here. <comment241391> I tried that - in fact, if you do that, you have to (also) delete the one in TextEdit's sandbox container (which I found using a search tool such as Find Any File), but that didn't help either (on OSX 10.10.4).
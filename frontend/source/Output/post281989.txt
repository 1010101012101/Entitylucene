Macbook Pro built-in keyboard stopped working after Sierra update <body> I just updated to Sierra on my MacBook Pro (Retina, Mid 2012).  Everything appeared to be working well, until I ran the battery down to zero. When I powered the machine back on, the internal keyboard was not working EXCEPT for the power button. The Caps lock does not work, nor do any of the functions: volume, brightness, etc.  What I've done:  ol liLots of restarting/li liDisabling/quitting of startup apps (Dropbox, SizeUp, Alfred 2, TextExpander)/li liUpgraded TextExpander and Alfred apps to latest version/li liReset PRAM/li liAttempted to reset the SMC (though I was unable to do it properly because it requires use of the internal keyboard)/li liStarted in Safe Mode (keyboard works in Safe Mode)/li liDownloaded LaunchControl and started to fiddle, and stopped to ask for help before I break something/li /ol  <comment354980> IMPORTANT - The USB keyboard works fine. <comment355000> Does the internal keyboard show up on the USB device list under System Information? <comment355031> @JMY1000 - Yes, it does <comment355041> There is the possibility that your battery is swollen, not likely but possible.  Run [Apple Hardware Test (AHT)](https://support.apple.com/en-us/HT201257) to do a full test of the keyboard.  Hold the D key while booting from a powered off state with the AC adapter connected (external ok).  See [this answer](http://bit.ly/2oy0IcO) for info on the keybd. Was it working fine in El Cap? <comment355042> Have you tried booting in safe mode? <comment355126> @JMY1000 See section 6. <comment355143> Ah, missed that. I'd guess a rouge kext/driver of some sort. [Try listing and disabling any sketchy 3rd party kexts](http://osxdaily.com/2010/08/03/list-all-third-party-kernel-extensions/); if that doesn't work, I'd recommend doing a reinstall of macOS.
Removing characters from a string via Terminal <body> My main goal is to be able use Terminal to turn   precodehttp://t.umblr.com/redirect?z=https%3A%2F%2Farchiveofourown.org%2Fworks%2F1885509&amp;t=N2M3YmNhNjQzODU5MjI2NmE5ZjljY2Y4NWVhOTVhM2IwYzgyYzYyYixLOHhQakVRbA%3D%3D /code/pre  into  precodehttps://archiveofourown.org/works/1885509 /code/pre  I thought a good place to start would be with finding a way to remove the codehttp://t.umblr.com/redirect?z=/code.   I triedcodetr -d/code; however, there does not seem to be a way to remove only the first instance of a group of characters.  The following (using codecut/code) will only work consistently if there length of the emstring/em never changes, which means there is no guarantee for future use.  precode echo 'http://t.umblr.com/redirect?z=https%3A%2F%2Farchiveofourown.org%2Fworks%2F1885509&amp;t=N2M3YmNhNjQzODU5MjI2NmE5ZjljY2Y4NWVhOTVhM2IwYzgyYzYyYixLOHhQakVRbA%3D%3D' | cut -c31-83 /code/pre  This looked promising:    precode var="http://t.umblr.com/redirect?z=https%3A%2F%2Farchiveofourown.org%2Fworks%2F1885509&amp;t=N2M3YmNhNjQzODU5MjI2NmE5ZjljY2Y4NWVhOTVhM2IwYzgyYzYyYixLOHhQakVRbA%3D%3D" | var=${var:30}  /code/pre  But because I can not get code| pbcopy/code to work, not could I get outer to print, I have idea what it actually does.  I don't know if there is shell script that will allow me to keep what appears between the equal signs. From the tutorials and questions I have found, codesed/code looks like it would be my best option (if I can figure it out) but it seems to work for files, not strings.  Where is a better place for me to start?  <answer247601> This seems to work:  precode$ echo 'http://t.umblr.com/redirect?z=https%3A%2F%2Farchiveofourown.org%2Fworks%2F1885509&amp;t=N2M3YmNhNjQzODU5MjI2NmE5ZjljY2Y4NWVhOTVhM2IwYzgyYzYyYixLOHhQakVRbA%3D%3D' | awk 'BEGIN{FS="=|&amp;"}{gsub(/%3A/, ":")}{gsub(/%2F/, "/")}{print $2}' https://archiveofourown.org/works/1885509 $ /code/pre  What happening here is the URL emstring/em is placed in single quotes and using codeecho/code is piped code|/code into an codeawk/code emprogram/em.  Example Syntax:  precodeecho 'URL' | awk 'BEGIN{FS="=|&amp;"}{gsub(/%3A/, ":")}{gsub(/%2F/, "/")}{print $2}' /code/pre  <answer247610> If you want to use codesed/code:  precodeecho 'URL' | cut -d = -f 2 | sed -e 's|\%3A|:|g' -e 's|\%2F|/|g' /code/pre  or even without codecut/code and just one call to codesed/code  precodeecho 'URL' | sed -e 's|.*z=\(.*\)\&amp;.*|\1|' -e 's|\%3A|:|g' -e 's|\%2F|/|g' /code/pre  <answer247641> Here's an example using codephp/code and it's codeurldecode()/code function  precodeecho 'URL' | php -r '$str = urldecode(fgets(STDIN)); $str = explode("=", $str); $str = explode("&amp;", $str[1]); printf("%s\n", $str[0]);' /code/pre  ul lithe function codeurldecode()/code decodes any %## encoding/li lithe function codeexplode()/code turns the var str into an array split on the equal sign/li liThe second codeexplode()/code function turns the value of the array str[1] into an array split on the &amp; sign overwriting the array str/li lithen print the first value of the new array str/li /ul  Another solution using pure shell syntax (no external programs): ksh, zsh, bash- OSX 10.6 and up versions  precodeurl='http://t.umblr.com/redirect?z=https%3A%2F%2Farchiveofourown.org%2Fworks%2F1885509&amp;t=N2M3YmNhNjQzODU5MjI2NmE5ZjljY2Y4NWVhOTVhM2IwYzgyYzYyYixLOHhQakVRbA%3D%3D' nurl=${url//\%2F//}; nurl=${nurl//\%3A/:} nurl=${nurl%=*}; nurl=${nurl#*=} echo ${nurl%\&amp;*} /code/pre  <answer248332> Using Perl, create this text file and name it something like "redo.pl":  precodemy $url = $ARGV[0]; $url =~ s/%3A/:/g; $url =~ s/%2F/\//g; $url =~ /=\K(.*)(?=&amp;)/; print $1; /code/pre  It can be run from a terminal as:  precode perl redo.pl http://t.umblr.com... /code/pre  The output will be:  precodehttps://archiveofourown.org/works/1885509 /code/pre  <comment305560> One of the reasons I decided to start with removing the characters at the beginning was because replacing `%3A` into `:` and `%2F` into `/` was proving too much--So thank you. Just out of curiosity, what part of this removes the `t.umblr.com` bit? Is it the `-f 2` part? <comment305561> One of the reasons I decided to start with removing the characters at the beginning was because replacing `%3A` into `:` and `%2F` into `/` was proving too much--So thank you. I've tried this with a number of different links, and it works. I don't remember `awk` showing up in my research, I'll be spending some time on it's man page. I'm wondering about `BEGIN{FS="=|&"}`. Is that `start after the first '=' and go until the next '=', but no really, stop at the '&'`? <comment305565> @boredrandom `-d =` sets the delimeter, `-f 2` selects the second field. <comment305567> And, on second thought, my solution doesn't remove the part after the `&` yet. Can be done with `cut` or `sed`, but let me get back in front of a computer running bash first :-) <comment305569> @boredrandom, I wish I knew `awk` well enough that I could explain how the _field separator_ works when using it the way I did. I have to admit that it could have been written as `{FS="[=&]"}` and it too would have worked in this instance. I originally wrote the `awk` _program_ using `{FS="="}` and when I saw the `&t` at the end of the output I modified the _field separator_ hoping it would remove it, and it did. Because I couldn't explain that part is why I said "This seems to work:". Although that also assumes other URL's to be processed follows the same pattern, which is a typical pattern. <comment305574> @boredrandom, BTW Not sure how you ultimately want to use this, however I thought I'd mention because the `awk` _program_ is returning the _output_ before the _prompt_ returns you can redirect the _output_, e.g. adding ` | pbcopy` at the end would place it on the _clipboard_ before the _prompt_ returns and you'd not see the _output_ until you pasted it elsewhere. There are other ways of incorporating the _code_ depending on how you want to use it, so if you need help with that just ask. <comment305581> Thanks. Actually, the first thing I did was add `pbcopy`. I want to create a Automator Service to _Copy Link_, apply this script and add the clean URL to my clipboard (because Tumblr has started using redirects). I wanted to get this part done first. <comment305583> One of the reasons I started using `awk` more often is, too often I found myself writing _code_ that relied on piping through multiple commands that could easily be replaced with a single `awk` _program_. For me this seems like a better way of doing things, and from what I read, is more efficient then running multiple pipes.  Either way though, both methods have there uses. <comment305600> Hi. And thanks for your addition. You said "pure shell syntax (no external programs)," do you mean programs like `.Replace` ? <comment305601> Like `sed`, `awk`, `php`....etc, other than  the shell. <comment305618> Oh. Okay. I didn't know those were external programs. Is there something in the `man` that points out if commands are for internal or external? (So I have an idea what to look for.) <comment305620> Each shell has its own programing language. These languages allow you to manipulate strings without the need to call other programs (external programs)  such as awk or sed ... In the example, we are using Parameter Expansion to manipulate the string contained in the variable url. Assuming that your shell is bash use the following command and read away on the man page- `man -P "less -p 'Parameter Expansion'" bash` <comment307693> I have recently downloaded `perl` via _Homebrew_, but I'm not quite sure how to install and use it. Do you know of any useful guilds? (Or should I set this up another question?) <comment307812> The main issue you need to focus on is that Homebrew will install Perl, but it will not make its version the default because Mac OS comes with its own Perl (System Perl) and Homebrew does not want to disable it.  The best resource I know to learn how to use your own Perl while leave the System Perl active is to look at the helper program called Perlbrew. Its homepage is https://perlbrew.pl.  I also highly recommend the site LearnPerl at http://learn.perl.org and the associated book "Learning Perl" by Randal L. Schwartz, brian d foy, Tom Phoenix.  There is no better or easier way to learn Perl. <comment307888> Thank you!! I'm heading over to learn.perl.org now.
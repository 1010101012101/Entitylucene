removed /etc/hosts on a mac and now can't sudo <body> I think I made a mistake by editing /etc/hosts within sublime text, because immediately afterward I was unable to run "sudo xxx".  It would ask for a password, and then never resolve once I'd typed it in.  I tried to edit /etc/hosts, but it always required sudo, which never resolved, so that didn't work.  In the end I just deleted the file, but I'm stuck now with not being able to recreate it without access to sudo.  Any ideas?  <answer280397> The file /etc/hosts is in no way related to the ability to run sudo. You probably hosed your sudoers file in a previous step.  To solve your problem boot to Recovery Mode and open Terminal in the menubar  Utilities.  ul liRun codedf/code to get the name of your main system volume./li liChange your working directory to /Volumes//etc:  precodecd /Volumes/Macintosh\ HD/etc #"Macintosh HD" is just an example name here /code/pre/li liCopy the spare files hosts~orig and sudoers~orig (or with similar names which may exist as "backup" in /etc by default - check this with codels/code!):  precodecp hosts~orig hosts cp -i sudoers~orig sudoers #enter yes here /code/pre  If they don't exist create the hosts file and and check your sudoers file:  precode/Volumes/&lt;name_of_main_volume&gt;/usr/bin/nano /Volumes/&lt;name_of_main_volume&gt;/etc/hosts /code/pre  The content of the default hosts file is.  precode## # Host Database # # localhost is used to configure the loopback interface # when the system is booting.  Do not change this entry. ## 127.0.0.1   localhost 255.255.255.255 broadcasthost ::1             localhost  /code/pre  The POSIX permissions are root:wheel 644. Modify this with codechown/code and codechmod/code if necessary.  /Volumes//usr/bin/nano /Volumes//etc/sudoers  A minimal (to type less!) working sudoers file looks like this:  precodeDefaults    env_reset Defaults    env_keep += "BLOCKSIZE" Defaults    env_keep += "COLORFGBG COLORTERM" Defaults    env_keep += "__CF_USER_TEXT_ENCODING" Defaults    env_keep += "CHARSET LANG LANGUAGE LC_ALL LC_COLLATE LC_CTYPE" Defaults    env_keep += "LC_MESSAGES LC_MONETARY LC_NUMERIC LC_TIME" Defaults    env_keep += "LINES COLUMNS" Defaults    env_keep += "LSCOLORS" Defaults    env_keep += "SSH_AUTH_SOCK" Defaults    env_keep += "TZ" Defaults    env_keep += "DISPLAY XAUTHORIZATION XAUTHORITY" Defaults    env_keep += "EDITOR VISUAL" Defaults    env_keep += "HOME MAIL"  Defaults    lecture_file = "/etc/sudo_lecture"  root        ALL = (ALL) ALL %admin      ALL = (ALL) ALL /code/pre  The POSIX permissions are root:wheel 440. Modify this with codechown/code and codechmod/code if necessary./li liReboot your Mac by entering:  precodereboot /code/pre/li /ul  This can also be done in single-user-mode after mounting the root volume emrw/em.  hr  After regaining the ability to run sudo, either extract it from the macOS installer app with Pacifist or from a backup or modify it yourself with codevisuso/code. The default content is:  precode# # Sample /etc/sudoers file. # # This file MUST be edited with the 'visudo' command as root. # # See the sudoers man page for the details on how to write a sudoers file.  ## # Override built-in defaults ## Defaults    env_reset Defaults    env_keep += "BLOCKSIZE" Defaults    env_keep += "COLORFGBG COLORTERM" Defaults    env_keep += "__CF_USER_TEXT_ENCODING" Defaults    env_keep += "CHARSET LANG LANGUAGE LC_ALL LC_COLLATE LC_CTYPE" Defaults    env_keep += "LC_MESSAGES LC_MONETARY LC_NUMERIC LC_TIME" Defaults    env_keep += "LINES COLUMNS" Defaults    env_keep += "LSCOLORS" Defaults    env_keep += "SSH_AUTH_SOCK" Defaults    env_keep += "TZ" Defaults    env_keep += "DISPLAY XAUTHORIZATION XAUTHORITY" Defaults    env_keep += "EDITOR VISUAL" Defaults    env_keep += "HOME MAIL"  Defaults    lecture_file = "/etc/sudo_lecture"  ## # User alias specification ## # User_Alias    FULLTIMERS = millert, mikef, dowdy  ## # Runas alias specification ## # Runas_Alias   OP = root, operator  ## # Host alias specification ## # Host_Alias    CUNETS = 128.138.0.0/255.255.0.0 # Host_Alias    CSNETS = 128.138.243.0, 128.138.204.0/24, 128.138.242.0 # Host_Alias    SERVERS = master, mail, www, ns # Host_Alias    CDROM = orion, perseus, hercules  ## # Cmnd alias specification ## # Cmnd_Alias    PAGERS = /usr/bin/more, /usr/bin/pg, /usr/bin/less  ## # User specification ##  # root and users in group wheel can run anything on any machine as any user root        ALL = (ALL) ALL %admin      ALL = (ALL) ALL  ## Read drop-in files from /private/etc/sudoers.d ## (the '#' here does not indicate a comment) #includedir /private/etc/sudoers.d /code/pre  <answer280407> While you are booted normally to your regular account, do the following in Terminal:  precodetouch sudoers.ori hosts.ori open -e sudoers.ori hosts.ori /code/pre  ul liNote: This assumes you're in your Home directory when executing these commands./li /ul  In the codehosts.ori/code file, copy and paste the following:  precode## # Host Database # # localhost is used to configure the loopback interface # when the system is booting.  Do not change this entry. ## 127.0.0.1   localhost 255.255.255.255 broadcasthost ::1             localhost /code/pre  Then save and close the codehosts.ori/code file.  In the codesudoers.ori/code file, copy and paste the following:  precode# # Sample /etc/sudoers file. # # This file MUST be edited with the 'visudo' command as root. # # See the sudoers man page for the details on how to write a sudoers file.  ## # Override built-in defaults ## Defaults    env_reset Defaults    env_keep += "BLOCKSIZE" Defaults    env_keep += "COLORFGBG COLORTERM" Defaults    env_keep += "__CF_USER_TEXT_ENCODING" Defaults    env_keep += "CHARSET LANG LANGUAGE LC_ALL LC_COLLATE LC_CTYPE" Defaults    env_keep += "LC_MESSAGES LC_MONETARY LC_NUMERIC LC_TIME" Defaults    env_keep += "LINES COLUMNS" Defaults    env_keep += "LSCOLORS" Defaults    env_keep += "SSH_AUTH_SOCK" Defaults    env_keep += "TZ" Defaults    env_keep += "DISPLAY XAUTHORIZATION XAUTHORITY" Defaults    env_keep += "EDITOR VISUAL" Defaults    env_keep += "HOME MAIL"  Defaults    lecture_file = "/etc/sudo_lecture"  ## # User alias specification ## # User_Alias    FULLTIMERS = millert, mikef, dowdy  ## # Runas alias specification ## # Runas_Alias   OP = root, operator  ## # Host alias specification ## # Host_Alias    CUNETS = 128.138.0.0/255.255.0.0 # Host_Alias    CSNETS = 128.138.243.0, 128.138.204.0/24, 128.138.242.0 # Host_Alias    SERVERS = master, mail, www, ns # Host_Alias    CDROM = orion, perseus, hercules  ## # Cmnd alias specification ## # Cmnd_Alias    PAGERS = /usr/bin/more, /usr/bin/pg, /usr/bin/less  ## # User specification ##  # root and users in group wheel can run anything on any machine as any user root        ALL = (ALL) ALL %admin      ALL = (ALL) ALL  ## Read drop-in files from /private/etc/sudoers.d ## (the '#' here does not indicate a comment) #includedir /private/etc/sudoers.d /code/pre  Then save and close the codesudoers.ori/code file.  Now from the Recovery HD boot in Terminal, do the following:  precodecd /Volumes/Macintosh\ HD/etc cp /Volumes/Macintosh\ HD/Users/*/hosts.ori hosts cp /Volumes/Macintosh\ HD/Users/*/sudoers.ori sudoers chown root:wheel hosts chown root:wheel sudoers chmod 0644 hosts chmod 440 sudoers reboot /code/pre  ul liNote: codeMacintosh HD/code is the default name, however if you've changed it for whatever reason, change it appropriately in the command line./li /ul  <comment352634> What do you mean by "resolving a password"? - Hosts file are used for name resolution - i.e. converting host names to IP-addresses. You don't resolve password. The easiest way to fix your problem is to reboot the Mac into single-user mode by holding down Cmd-s during boot. From single user mode you can recreate the hosts file. You could also take out the drive and attach to a different Mac and recreate the file from there. <comment352635> Easiest way is restore from backup - or in this case reinstall the OS <comment352636> @jksoegaard "resolving a password" was just referencing that when I type in a password and hit submit, nothing happens.  It just hangs indefinitely.  I'll try single-user mode suggestion, thanks! <comment352649> You could boot into [target disk mode](https://support.apple.com/en-us/HT201462) by holding T during boot.  Once in target disk mode you can connect your Mac to another computer using Thunderbolt, Firewire, or USB-C, and edit files on the hard drive. <comment352662> You said, "Copy the spare files hosts~orig and shudders~orig:", where are these "spare files" coming from? They don't exist in my 10.12.3 build. <comment352668> They don't exist in my macOS 10.12.3 `/etc` directory. <comment352675> @user3439894 You are right. Obviously a strange coincidence that both files exist in my install <comment352684> @klanomath On my current clean install, there are a lot of `~orig` and `~previous` files.
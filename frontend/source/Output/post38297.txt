System proxy settings inaccessible by Java, Firefox, VMware Fusion, etc.? <body> I'm stuck on what appears to be an issue with the accessibility of system proxy settings by other programs. I came across this problem while trying (and failing) to run Processing-generated Java applets in Safari.  First, my setup on a MacBookPro8,2:  Mac Host: OS X 10.7.2, Safari 5.1.2, Java for Mac OS X 10.7 Update 1, Chrome 16.0.912.77, Firefox 7.0.1, Processing 1.5.1, Processing 1.2.1, and Processing 2.0a4  Windows VM: VMware Fusion 4.1.1, Windows 7 Enterprise 64-bit, IE 9.0.4, Java 1.6.0_30, and Processing 1.5.1  Here's a list of the problems/evidence, and what I did to try fixing them (all attempts at which have failed except where noted).  ol liI can't load Java applets in Safari. A page with an applet will reserve a space for displaying that applet, but nothing shows up and the page hangs (I can't scroll, for instance)./li liReinstalled Java for Mac OS X 10.7 Update 1./li liIn Safari, tried (i) turning "Enable Java" off and on; (ii) clearing caches via "Reset Safari..."./li liIn Java Preferences, tried (i) turning "Enable applet plug-in and Web Start applications" off and on; (ii) clearing cache via "Delete Files..."./li liNote that Java itself seems to be working fine: (i) Processing (which uses the JDK, I think) continues to work; (ii) typing codejava -version/code into Terminal gives the correct version; (iii) Java works in Windows./li liJava applets also do not work in Chrome.  ---- Now, for why this seems to be a proxy issue ----/li liI have no problems at home, where I don't use a proxy! This is only a problem at work, where I've configured proxies for HTTP, HTTPS, FTP, and SOCKS with Automatic Proxy Configuration selected. This was all done in the Network preferences panel, and the settings all show up in /Library/Preferences/SystemConfiguration/preferences.plist. They show up in the Terminal via codesudo scutil --proxy/code./li liFirefox works fine at home, but it doesn't load any http sites via proxies at work (it does load simple hostnames on our network, though). Note that Chrome and Safari both seem to obey the system-wide proxy settings. If I specify Firefox's proxy settings manually, then Firefox both (i) loads http addresses correctly (via the proxy) and Java applets load correctly too./li liIn Windows, the situation with IE9 is similar to #8 above. Manual proxy settings make all problems go away: Java works, and pages load. Please note that I never had to set the proxy settings manually before. Windows seemed to pull the appropriate settings from OS X via VMware Fusion./li liI checked the Java net.properties file to make sure that the "java.net.useSystemProxies" setting wasn't affecting me. According to the comments in this file, even though this is set to "false," the setting will be ignored by OS X. I tried changing it to "true" anyway, with no effect. (Changed it back to "false" afterwards.)/li liThis one's odd: I just noticed that in Terminal, the hostname is showing up as something set by our network, rather than as my computer name. I think that this is a new behavior that has cropped up at around the same time as the Java issue./li liBy the way, tried repairing preferences via Disk Utility. No repairs were reported./li liCreated a new user. Problem was present in this account as well./li liTried starting in Safe Mode. Problem present./li /ol  So, all of the above leads me to believe that the problem is based on programs (Firefox, Fusion, Java) being unable to access the system-wide proxy settings. Again: I can't recreate any of these problems when I'm not using proxies, and they go away in instances when I can clearly specify them for specific applications (Firefox, Windows).  How can I fix this problem? After trying tons of stuff and searching for everything I can think of, I'm at the end of my line here. I'm absolutely trying to avoid reinstalling Lion, but that's the last option I can think of. I'm hoping that someone comes up with a better solution. Your thoughts?  <answer39798> I have the same issue. When I use a proxy.pac file certain applications fail to pick up the settings. Among these are:  ul liFirefox/li liChrome/li liJava apps (like eclipse)/li /ul  Some apps that do work with the pac file are:  ul liSafari/li liSkype/li liAdium/li liEvernote/li /ul  What I have found though, is that when I emmanually/em add a proxy server to the system preferences it is picked up by all applications. So something in the pac handling is broken. Maybe old/new APIs in Lion?  <comment43375> It might be my memory playing tricks on me, but isn't there some function you can call in Java to use a proxy? Or another way of parsing a URL so that it is routed through your proxy? It's been a while since I did any programming in Java behind a proxy! <comment43377> On another note, can you clarify your proxy settings? Why are you using the individual proxies if you're using Automatic Proxy Configuration? A .pac file should have all relevant info in it. <comment43395> Robin -- I'm configuring proxies as per IT recommendations at my company. These are probably correct (as I can load websites without the PAC file specified), but they may be redundant since I've specified the PAC file as well. Regarding specification of a proxy within Java, I haven't done this previously and I'm pretty sure it was working fine. I'd really like Java to use the system-wide settings, since I don't want to be changing the setting every time I leave or arrive at work. <comment43396> I guess the strangest part to me is that Safari and Chrome are using the proxies, but Firefox, Java, and VMware don't, despite _italic_seeming_italic_ to be set to use system proxy settings. The fact that they worked before but don't work now suggests that I shouldn't need to change settings for these specific applications, but instead that the programs can't find, open, or apply the settings for some reason. <comment148775> i find the built-in OSX proxy features to be buggy across the board
Mac Mini Server - Windows 7 Laptop VPN to OS X Server error 629, Tried a lot of options <body> I am having a hard time connecting to my office server in which I am the admin of. I have recently wiped the hard drive and re-installed os x yosemite with os x server. I use a Windows 7 machine at home which I am attempting to connect to my mac server with. I know the public IP works because I can SSH and VNC in just fine. Up until the wiping of the server I had fully working VPN services so I know they work. That and pings go through to my public IP without trouble. I keep getting as far as verifying the username / pass and it hangs and then gives an error 629 message.  strongI have.../strong  ul liPinged the public server IP with 4 successful packets, every so often some have weird times like 9ms./li liFlat out turned off my home windows firewall and also tried adding the proper exceptions./li liHave tried using os x server automatic wizard to adjust my router port forwarding/opening of ports, as well as tried manually entering my local server ip address and port to open in airport utility./li liTried pinging and then connecting to the local address instead of the public address./li liTried turning off all forms of encryption./li liTried resetting the usernames / passwords./li liChecked the accessibility feature of os x yosemite and it says VPN is available publicly./li liTurned off automatic VPN type and manually tried both L2TP and PPTP./li liTried adding all OS X VPN port exceptions in airport utility under the network tab./li liTried to VPN into local address instead of public address./li liTried adding a pre-decided key or shared secret and forcing L2TP/li liHooking up my co-workers desktop Mac machines to VPN via local/public addresses. Both worked and they also can send/receive/administer file sharing on the server./li /ul  The error 629 from my Windows client side gave a report generator which pumped out a 500 page "summary" ... I will cut out the seemingly important details:  strongInstallation Check:/strong Unable to validate installed Remote Access components.  strongPhone Book Files:/strong Device=WAN Miniport (IKEv2) &lt;-- Weird because I don't think this should be IKEv2  strongRemote Access Event Logs/strong  Event Type:     Errorbr Event Source:   RasManbr Event Category: Nonebr Event ID:       20276br Description: : The connection attempt failed on port: VPN3-1 because of the authentication protocol selected. Check to see if the authentication protocol is supported in the operating systems at the client and server ends of the connection    Anything else needing to be copied from that error report, lemme know.                                                     <comment194911> What about the router at the public-facing side of the network. Does it allow VPN pass-through? Anything in the Console logs on the Mini showing why the connection fails? Have you tried a third-party VPN client on the Win7 machine? <comment194913> Well I was under the impression that with a mac mini and a time machine as my wireless base station that it takes over all control of my router settings. Including front faced settings. I thought... however if I knew I wouldn't be posting here lol. <comment194914> I have tried many times on my phone, laptop and other network desktop pcs to get to my routers ip and so far no luck. Usually at home on a Windows PC I would have access to my routers settings easily with the gateway address like 192.168.0.1 or whatever it defaults to via DHCP. <comment194919> Checking VPN connections on the inside of your network - "Hooking up my co-workers desktop Mac machines to VPN via local/public addresses." - isn't a valid test of connectivity. We can't rule out that the problem is a VPN pass-through issue on the other end of the connection either. Have you tried connecting from some other location with the Win7 machine other than your home to see if you get the same error? I'm smelling a VPN pass-through problem at one of the ends of the connection. <comment194923> I think your right I have been leaning towards thinking that since it gets passed the connectivity side of things and hangs on the step where it has to verify username/pass. Then it actively rejects the connection. <comment194924> I have tried using my phones data plan and VPN to get in via public address and I have had no luck either. I only have pptp on the phone though since all other L2TP options come with pre-determined keys and things my mac doesnt account for. <comment194925> I think what you are saying is that the ISP modem/router coming from the wall's cable connection is blocking this from font side before ever hitting the Time machine base station? Is that correct? If so how do I access my router settings? I thought airport utility takes that over and os x server adds the port rules and whatnot automatically for me? I have also gone in like I said and manually added the local ip and ports. <comment194926> Is the Time Capsule is acting as your primary router, or is there another router upstream - like a combo modem/router from the ISP? <comment194928> There is I think. I have never investigated because I had assumed the time capsule took over (lol I said Time Machine before). It looks like any other ISP router I have seen before maybe it isnt a combo modem/router/DNS/DHCP/etc I will go check right now but ya I assumed it was already the combo one which made me want to go into it to look at ports like usual. At home I would accomplish this via the local address 192.168.0.1 but I know enough to lan scan to find the default gateway or check airport utility for the ip. Both show up page not found so I assumed that the Time Capsule took over. <comment194929> In case your wondering as well, I am not using any static ip or domain just yet, DynDNS or DNSmadeEasy will come next after I can just simply connect. <comment194940> ok I checked out my modem and it seems like just a normal Modem and no router. Its a Motorola SB5101 SURFboard. <comment194953> Let us [continue this discussion in chat](http://chat.stackexchange.com/rooms/20062/discussion-between-douggro-and-goredefex). <comment194959> Apparently i need 20+ rep to chat... but ya i have dhcp and nat setup. I have a 200 block address range for dhcp. I have my dns pointed at my server. I set up all possible vpn port connections, 4 of them i believe. When i first installed there was a generic vpn port option and now somehow there are four different ones that all say OS X PPTP or OS X L2TP etc. When i startrd it just said vpn. Is this maybe only allowing os x vpn connections? <comment195035> VPN is a generic service; OS X uses the standard protocols. Have you checked the Console logs to see what's happening when you're attempting to connect? <comment195448> I still can't connect and I am finding no errors on the os x server, maybe because I don't know where to look, and the diagnostic tool for this in Windows can take days to comb through its 500 some pages. Thoughts? <comment195507> Server should be logging the transaction during the login attempt. Look and the Console messages around the time of the login attempt. It's not an error per se, but the chain of the transaction will show where the login attempt ended - that's the information that we're looking for, to see what's halting the process.
How to automount a network share once OpenVPN has connected? (Using Tunnelblick) <body> Does anyone know how to automatically mount a network share once a VPN connection using Tunnelblick has connected?  Right now I have to connect and then do a cmd+K in the finder to connect to the AFP share. It'd be nice if it would connect automatically.  The share doesn't have a password (TimeCapsule without any passwords, and no, not using it for backup, we use it for a fileserver).  <answer358> h21./h2  Edit the file code/Applications/Tunnelblick.app/Contents/Resources/client.up.osx.sh/code and add these commands at the end of the file, just before codeexit 0/code :  precodesu USERNAME -c ' mkdir /Volumes/TimeCapsule mount_afp afp://afp_username@server/volumename /Volumes/TimeCapsule ' open /Volumes/TimeCapsule /code/pre  Replace USERNAME with your username on the system.  h22./h2  Then add the following at the end of code/Applications/Tunnelblick.app/Contents/Resources/client.down.osx.sh/code :  precodeumount /Volumes/TimeCapsule /code/pre  h23./h2  Do not forget to check the codeset nameserver/code option for your configuration :   img src="https://i.stack.imgur.com/hb25s.png" alt="nameserver"  strongemWarning :/em/strong Configuration files codeclient.(up|down).osx.sh/code are executed for every connections made using OpenVPN.  This could also be made using codelaunchd/code for watching if the vpn connection is up, but I don't know how to use launchd.  <comment332> Did you forget a line? It isn't working, and when I stick the code directly into Terminal, it asks for my password. Possibly that's why it isn't running in the up script too?  Actually, removing the su line (and it's counterpart ' below) doesn't work either. I would expect it to at least make the dir and possibly connect, but not let me access the folder.  (and yep, set nameserver is checked) <comment334> The `su` command is used to impersonate someone (you in this case). Both scripts are executed as `root` and he doesn't need a password when using `su` but another user will need one. If the command inside `su` isn't working alone, the problem comes from here. What exactly did you type ? <comment338> Okay, wasn't sure that tunnelblick would run it as root.  If I take the command inside of the su and drop it directly into terminal, it runs fine. If I remove the su part and just have the command in the up script, nothing happens.  # Generate an updated plist with the proper path DIR="$(dirname "${0}")" LEASE_WATCHER="${DIR}/LeaseWatch.plist" sed -e "s|\${DIR}|${DIR}|g" "${LEASE_WATCHER}.template"  "${LEASE_WATCHER}" launchctl load "${LEASE_WATCHER}" # autoconnect server2   mkdir /Volumes/Data mount_afp afp://192.168.2.2/Data /Volumes/Data  open /Volumes/Data  exit 0
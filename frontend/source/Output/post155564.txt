Setting environment variables for scripts run by launchd? <body> I have a script that worked in the past, but seems to be having issues now (I believe it's due to Yosemite). What I had done was created an environment variable that was set to "false" and then my script would set it to "true" so that if the script took too long and started again before it finished it would not attempt to run again concurrently. However, it doesn't work anymore.   I set the variable initially with /etc/launchd.conf  precodesetenv autoBackupImagesInProgress false /code/pre  And the part of my script that doesn't work anymore is  precode#Ensure that this script isn't already running if [ -z "$autoBackupImagesInProgress" ] ; then    #Concurrency variable was not setup so this will not work;    #edit .bashrc or .profile to include export autoBackupImagesInProgress=false    #should be /etc/launchd.conf    print "WARNING: Concurrency protection unavailable" elif [ $autoBackupImagesInProgress = true ] ; then    #Another process has already started this, but has not yet finished    print "WARNING: Already in progress; aborting."    exit 0; fi /code/pre  This works if I initiate the script from the terminal or Spotlight, but not when this is started with launchd. When run from launchd this will always print the first warning and never hits the elif.   <answer155566> Open your Script Editor(Launch Pad - Other - Script Editor)  Type scripts like this:  precodedo shell script "launchctl setenv autoBackupImagesInProgress false" /code/pre  Use multiple lines if you want to set multiple variables.  Save this script as Application, open SystemPreferences → Users &amp; Groups → your user → Login Items and add your saved script.  To apply changes, logout your account and log in again.  <comment183027> Not sure what is stopping the script. But it may help if you simplify it by just having one check in your if block and making it an if else one.   So if ..= true then print "Warning:Already... else .. Print "warning:Concurr..  fi <comment183035> @markhunte it doesn't stop entirely, it's just that the first condition always is true so it prints the warning, never reaches the else, and then proceeds with the rest of the script (omitted here for simplicity). <comment183061> This doesn't work. Works fine if I run the script manually (as it does with the /etc/launchd.conf file), but when initiated from launchd (the script is set to run every 5 minutes) it doesn't work.
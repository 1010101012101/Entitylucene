Using Server 5.0.15 to share internet WITHOUT internet sharing <body> I am running a mid 2010 MacMini as a server. OS X 10.11.3 and Server 5.0.15. I am connecting to the internet on the built in Ethernet (strongEthernet/strong) and have a USB to GigaBit Ethernet adapter (strongEthernet 2/strong) going to a wireless AP (strongWAP/strong).  I have DHCP and DNS services configured and enabled. If I turn ICS on in the sharing control panel it ignores the DHCP service from the server, yet allows me to connect to the internet from my clients. This also breaks the local DNS unless I start changing IPs and such. If I turn it off, I get control over the DHCP server, but nothing connects to the internet.  How can I use BOTH? Or at least configure the settings on the server correctly to "bridge" the Ethernet and Ethernet 2 adapters to allow internet access to my clients?  I am looking for a NAT function someplace that is NOT the Internet Connection Sharing on the Sharing Control Panel.  strongBuilt in Ethernet config:/strong  ul liIP: DHCP from Cable Modem/li liSubnet Mask: 255.255.255.0 - DHCP from Cable Modem/li liDNS: 127.0.0.1 to use the Servers own DNS Service/li liSearch Domain: My FQDN of the server./li liRouter: DHCP from Cable Modem/li /ul  strongUSB to GigaBit Adapter Config:/strong  ul liIP: 192.168.3.1/li liSubnet Mask: 255.255.255.0/li liDNS: 127.0.0.1/li liSearch Domain: My FQDN of the server./li liRouter: Address acquired from DHCP for the Built in Ethernet/li /ul  strongDHCP:/strong  ul liName: Home/li liIP Pool: 192.168.3.2 - 192.168.3.253/li liLease: 1 Hour/li liInterface: USB to GigaBit Adapter/li liRouter: 192.168.3.1 - Must be on the same network as the IP Pool and Interface./li liNote: 16+ IP Reservations for devices in the house./li /ul  strongWAP:/strong  ul liIP: 192.168.3.254/li /ul  strongDNS:/strong  ul liPermissions: All Networks/li liClient Lookup: All Clients/li liForwarding Servers: 8.8.8.8, 8.8.4.4/li /ul  Not sure what other information to put in here, it is late and I am tired...  Ask me some questions and let me know if you have any insight into the new 5.0.15 server.app  <answer229266> The newest OS X Server versions don't provide any tools to enable NAT/Routing in OS X.  To get NAT working without using Internet Sharing you have to use a pf rule and create a plist to enable forwarding and load the pf rule:  Below I assume en0: the interface connected to the cable modem and en1: the interface connected to the LAN. DHCP and DNS are set up properly in the internal LAN.  ol liCreate a pf NAT rule:  Create a file named emnat-rules/em in /private/etc/ with the following content  precodenat on en0 from en1 to any -&gt; (en0) /code/pre/li liCreate a shell script named emnat-pf.sh/em enabling forwarding and loading the pf rule. I saved it in /usr/local/:  precode#!/bin/sh  sysctl -w net.inet.ip.forwarding=1 sysctl -w net.inet.ip.fw.enable=1  #disables pfctl pfctl -d  sleep 1  #flushes all pfctl rules pfctl -F all  sleep 1  #starts pfctl and loads the rules from the nat-rules file pfctl -f /private/etc/nat-rules -e /code/pre/li liCreate a plist named emorg.user.natpf.plist/em with the following content and save it in /Library/LaunchDaemons/ to execute the above shell script at start-up:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Disabled&lt;/key&gt;     &lt;false/&gt;     &lt;key&gt;KeepAlive&lt;/key&gt;     &lt;dict&gt;         &lt;key&gt;SuccessfulExit&lt;/key&gt;         &lt;false/&gt;     &lt;/dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;org.user.natpf&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/usr/local/nat-pf.sh&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;StandardErrorPath&lt;/key&gt;     &lt;string&gt;/tmp/org.user.natpf.stderr&lt;/string&gt;     &lt;key&gt;StandardOutPath&lt;/key&gt;     &lt;string&gt;/tmp/org.user.natpf.stdout&lt;/string&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  strongAll three files need a trailing empty line so don't simply copy the above code/lines./strong/li liModify ownership and file modes:  precodesudo chown root:wheel /private/etc/nat-rules sudo chown root:wheel /usr/local/nat-pf.sh sudo chmod 755 /usr/local/nat-pf.sh sudo chown root:wheel /Library/LaunchDaemons/org.user.natpf.plist /code/pre/li liLoad the launch daemon:  precodesudo launchctl load /Library/LaunchDaemons/org.user.natpf.plist /code/pre/li liAfter testing everything you can delete the following part in the plist:  precode    &lt;key&gt;StandardErrorPath&lt;/key&gt;     &lt;string&gt;/tmp/org.user.natpf.stderr&lt;/string&gt;     &lt;key&gt;StandardOutPath&lt;/key&gt;     &lt;string&gt;/tmp/org.user.natpf.stdout&lt;/string&gt; /code/pre  emorg.user.natpf.stderr/em provides error messages to debug your plist./li liOn my local router I had to add a static route:  192.168.3.0/24 (the internal network) - 192.168.0.2 (Mac mini IP-address of the external interface connected to the router)  strongThis last step may not apply to your network environment!/strong/li /ol  <comment279209> To summarize, you want to use your Mac as a router/gateway and have Server control the DHCP and DNS for the LAN side of the router? If you donâ€™t use Internet Sharing from the Sharing pane of System Preferences, then you will need to familiarize yourself with pfctl. <comment279533> Possible duplicate of [How can I setup my mac (OS X Yosemite) as an internet gateway](http://apple.stackexchange.com/questions/192089/how-can-i-setup-my-mac-os-x-yosemite-as-an-internet-gateway). If you need further assistance I may adapt my answer there to El Capitan and automate some things. <comment279714> This worked perfectly!! Very elegant and well written, Thank you! I modified the required areas to fit my environment, but this is exactly what I was looking for. <comment279716> Thanks to both of you. medbot pointed me in the right direction and gave me some good reading on pfctl and pf in general on OSX. <comment279717> @Takagami Good to hear! ;-)  if you additionally use pf as OS X firewall you may have to add/modify some pf anchors. Step 7 is for users behind a (local) router. I assumed that you don't have access to the router. <comment279779> No. No access to the charter  primary router for my area... Sadly. But I know enough about networking to know I didn't need a static route. Still learning about the OSX/UNIX backend.
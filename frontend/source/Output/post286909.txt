Losing internet connection 30 seconds after turning on the Mac <body> I am being connected to the Wi-Fi, but there's no internet connection, it stops working approx 30 seconds after I turn on my iMac. In Windows via Parallels on the same device, the connection is fine. Every other device is working fine, without any connection issues. Tried connecting to another network, same result. Changing MAC adress didn't help. I have Sierra 10.12.5  This is what i gathered as recommended by @User2707001 (sorry for the mess)  in online mode:  precodeiMac-Mikhail:~ MG$ ifconfig; nslookup www.google.de; traceroute www.google.de lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384     options=1203&lt;RXCSUM,TXCSUM,TXSTATUS,SW_TIMESTAMP&gt;     inet 127.0.0.1 netmask 0xff000000      inet6 ::1 prefixlen 128      inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1      nd6 options=201&lt;PERFORMNUD,DAD&gt; gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280 stf0: flags=0&lt;&gt; mtu 1280 en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=10b&lt;RXCSUM,TXCSUM,VLAN_HWTAGGING,AV&gt;     ether 38:c9:86:25:68:4e      nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: autoselect (none)     status: inactive en1: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     ether 28:f0:76:26:bb:92      inet6 fe80::1852:a5e9:cedc:44fc%en1 prefixlen 64 secured scopeid 0x5      inet 192.168.0.103 netmask 0xffffff00 broadcast 192.168.0.255     nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: autoselect     status: active en2: flags=963&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX&gt; mtu 1500     options=60&lt;TSO4,TSO6&gt;     ether 1a:00:01:0f:43:00      media: autoselect &lt;full-duplex&gt;     status: inactive en3: flags=963&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX&gt; mtu 1500     options=60&lt;TSO4,TSO6&gt;     ether 1a:00:01:0f:43:01      media: autoselect &lt;full-duplex&gt;     status: inactive bridge0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=63&lt;RXCSUM,TXCSUM,TSO4,TSO6&gt;     ether 1a:00:01:0f:43:00      Configuration:         id 0:0:0:0:0:0 priority 0 hellotime 0 fwddelay 0         maxage 0 holdcnt 0 proto stp maxaddr 100 timeout 1200         root id 0:0:0:0:0:0 priority 0 ifcost 0 port 0         ipfilter disabled flags 0x2     member: en2 flags=3&lt;LEARNING,DISCOVER&gt;             ifmaxaddr 0 port 6 priority 0 path cost 0     member: en3 flags=3&lt;LEARNING,DISCOVER&gt;             ifmaxaddr 0 port 7 priority 0 path cost 0     nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: &lt;unknown type&gt;     status: inactive p2p0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 2304     ether 0a:f0:76:26:bb:92      media: autoselect     status: inactive awdl0: flags=8943&lt;UP,BROADCAST,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1484     ether 22:93:88:a6:ad:01      inet6 fe80::2093:88ff:fea6:ad01%awdl0 prefixlen 64 scopeid 0xa      nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: autoselect     status: active utun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 2000     inet6 fe80::1e08:2280:ffce:c67d%utun0 prefixlen 64 scopeid 0xb      nd6 options=201&lt;PERFORMNUD,DAD&gt; vnic0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=3&lt;RXCSUM,TXCSUM&gt;     ether 00:1c:42:00:00:08      inet 10.211.55.2 netmask 0xffffff00 broadcast 10.211.55.255     media: autoselect     status: active vnic1: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=3&lt;RXCSUM,TXCSUM&gt;     ether 00:1c:42:00:00:09      inet 10.37.129.2 netmask 0xffffff00 broadcast 10.37.129.255     media: autoselect     status: active Server:     192.168.0.1 Address:    192.168.0.1#53  Non-authoritative answer: Name:   www.google.de Address: 173.194.44.87 Name:   www.google.de Address: 173.194.44.95 Name:   www.google.de Address: 173.194.44.88 Name:   www.google.de Address: 173.194.44.79  traceroute: Warning: www.google.de has multiple addresses; using 173.194.44.87 traceroute to www.google.de (173.194.44.87), 64 hops max, 52 byte packets  1  192.168.0.1 (192.168.0.1)  1.249 ms  0.841 ms  0.887 ms  2  185.135.232.97 (185.135.232.97)  8.106 ms  2.245 ms  2.532 ms  3  192.168.56.9 (192.168.56.9)  2.100 ms  2.171 ms  2.474 ms  4  192.168.56.1 (192.168.56.1)  1.301 ms  1.390 ms  7.790 ms  5  spb-81-211-101-113.sovintel.ru (81.211.101.113)  12.569 ms  3.318 ms  4.262 ms  6  pe01.8marta.moscow.gldn.net (79.104.227.43)  24.653 ms  20.986 ms  21.924 ms  7  be101-dpi.tf01.moscow.gldn.net (62.141.106.228)  57.068 ms  59.442 ms  65.607 ms  8  pe03.kk12.moscow.gldn.net (79.104.235.213)  46.834 ms  23.077 ms  16.787 ms  9  72.14.213.116 (72.14.213.116)  18.630 ms     beeline-gw.moscow.google.com (81.211.29.17)  19.430 ms  18.128 ms 10  66.249.94.94 (66.249.94.94)  30.678 ms  16.598 ms  16.054 ms 11  108.170.232.47 (108.170.232.47)  23.193 ms  23.111 ms  19.483 ms 12  173.194.44.87 (173.194.44.87)  19.268 ms  19.977 ms * /code/pre  offline mode:  precodeiMac-Mikhail:~ MG$ ifconfig; nslookup www.google.de; traceroute www.google.de lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384     options=1203&lt;RXCSUM,TXCSUM,TXSTATUS,SW_TIMESTAMP&gt;     inet 127.0.0.1 netmask 0xff000000      inet6 ::1 prefixlen 128      inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1      nd6 options=201&lt;PERFORMNUD,DAD&gt; gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280 stf0: flags=0&lt;&gt; mtu 1280 en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=10b&lt;RXCSUM,TXCSUM,VLAN_HWTAGGING,AV&gt;     ether 38:c9:86:25:68:4e      nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: autoselect (none)     status: inactive en1: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     ether 28:f0:76:26:bb:92      inet6 fe80::1852:a5e9:cedc:44fc%en1 prefixlen 64 secured scopeid 0x5      inet 192.168.0.103 netmask 0xffffff00 broadcast 192.168.0.255     nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: autoselect     status: active en2: flags=963&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX&gt; mtu 1500     options=60&lt;TSO4,TSO6&gt;     ether 1a:00:01:0f:43:00      media: autoselect &lt;full-duplex&gt;     status: inactive en3: flags=963&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX&gt; mtu 1500     options=60&lt;TSO4,TSO6&gt;     ether 1a:00:01:0f:43:01      media: autoselect &lt;full-duplex&gt;     status: inactive bridge0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=63&lt;RXCSUM,TXCSUM,TSO4,TSO6&gt;     ether 1a:00:01:0f:43:00      Configuration:         id 0:0:0:0:0:0 priority 0 hellotime 0 fwddelay 0         maxage 0 holdcnt 0 proto stp maxaddr 100 timeout 1200         root id 0:0:0:0:0:0 priority 0 ifcost 0 port 0         ipfilter disabled flags 0x2     member: en2 flags=3&lt;LEARNING,DISCOVER&gt;             ifmaxaddr 0 port 6 priority 0 path cost 0     member: en3 flags=3&lt;LEARNING,DISCOVER&gt;             ifmaxaddr 0 port 7 priority 0 path cost 0     nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: &lt;unknown type&gt;     status: inactive p2p0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 2304     ether 0a:f0:76:26:bb:92      media: autoselect     status: inactive awdl0: flags=8943&lt;UP,BROADCAST,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1484     ether 22:93:88:a6:ad:01      inet6 fe80::2093:88ff:fea6:ad01%awdl0 prefixlen 64 scopeid 0xa      nd6 options=201&lt;PERFORMNUD,DAD&gt;     media: autoselect     status: active utun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 2000     inet6 fe80::1e08:2280:ffce:c67d%utun0 prefixlen 64 scopeid 0xb      nd6 options=201&lt;PERFORMNUD,DAD&gt; vnic0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=3&lt;RXCSUM,TXCSUM&gt;     ether 00:1c:42:00:00:08      inet 10.211.55.2 netmask 0xffffff00 broadcast 10.211.55.255     media: autoselect     status: active vnic1: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500     options=3&lt;RXCSUM,TXCSUM&gt;     ether 00:1c:42:00:00:09      inet 10.37.129.2 netmask 0xffffff00 broadcast 10.37.129.255     media: autoselect     status: active ;; connection timed out; no servers could be reached  traceroute: Warning: www.google.de has multiple addresses; using 173.194.32.184 traceroute to www.google.de (173.194.32.184), 64 hops max, 52 byte packets  1  192.168.0.1 (192.168.0.1)  2.063 ms  0.874 ms  0.869 ms  2  185.135.232.97 (185.135.232.97)  2.174 ms  1.965 ms  1.890 ms  3  192.168.56.9 (192.168.56.9)  11.893 ms  14.343 ms  11.902 ms  4  192.168.56.1 (192.168.56.1)  10.282 ms  8.986 ms  10.728 ms  5  spb-81-211-101-113.sovintel.ru (81.211.101.113)  12.518 ms  12.469 ms  12.921 ms  6  pe01.8marta.moscow.gldn.net (79.104.226.43)  29.079 ms  29.413 ms  31.094 ms  7  be101-dpi.tf01.moscow.gldn.net (62.141.106.228)  62.690 ms  62.176 ms  57.607 ms  8  pe03.kk12.moscow.gldn.net (79.104.235.213)  22.710 ms     pe03.kk12.moscow.gldn.net (79.104.235.215)  22.640 ms     pe26.moscow.gldn.net (79.104.225.57)  24.826 ms  9  beeline-gw.moscow.google.com (81.211.29.17)  36.809 ms     72.14.213.116 (72.14.213.116)  52.238 ms  21.297 ms 10  66.249.94.94 (66.249.94.94)  17.980 ms  23.172 ms  24.193 ms 11  72.14.235.231 (72.14.235.231)  23.953 ms  19.507 ms  17.455 ms 12  173.194.32.184 (173.194.32.184)  17.141 ms *  18.435 ms /code/pre  <answer286911> You might need to gather more data to make a determination.  The following several commands can help.  Open Applications-Utilities-Terminal and run once when the network is working and again when the connection fails.  precodeifconfig; nslookup www.google.de; traceroute www.google.de /code/pre  hr  Okay, so in the above, you can see that nslookup fails in "offline" mode. The traceroute succeeds, though. So you have a DNS problem.  What does that mean? For some reason, your DNS is updated after 30 seconds to a non-reachable DNS server. After that, you still have internet connection, but resolving "names" doesn't work anymore.  So, if you type "http://173.194.32.184" in your browser you will see http://www.google.com, but typing "http://www.google.com" won't work anymore.  You can search the internet for probable causes and dig out a solution to the root cause. If you just want things to work, what should do the job is  ol liOpen System Preferences/li liOpen Network/li liSelect Advanced/li liClick DNS tab/li liAdd some DNS servers - e.g. 8.8.8.8 and 8.8.4.4 (google) or 208.67.222.222 (opendns)/li /ol  hr  Ok... looks like an interesting problem if it still doesn't work.  As klanomath suggested, please add the output of  precodedig; scutil --dns; cat /etc/resolv.conf; cat /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist /code/pre  and  precodesudo dmesg | tail -n 50 /code/pre  you will need to give your password for the last command to execute.  The problem you have reminds me of DNS not resolving on Mac OS X  As suggested there, when the connection drops, try  precodesudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist /code/pre  and/or  precodesudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.discoveryd.plist sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.discoveryd.plist /code/pre  if mDNSResponder is unavailable. Does it work again then?  You may want to try to restore the default firewall settings to see if that fixes the issue:  precodesudo cp /usr/libexec/ApplicationFirewall/com.apple.alf.plist /Library/Preferences/com.apple.alf.plist /code/pre  <answer287675> So after trying about everything I could find online or at Mac support, What seemed to have helped is creating another user for my Mac. It still feels weird, as at first everything was working fine via new user, but at some point it had same issues, and logging to the original user helped. I had to do this process a couple times before it was stable.  So now I'm just working as the original users and everything seems to be fine.  <comment362130> ran it as you suggested and posted results in original question <comment362139> edited answer with suggestions. parallels just doesn't update or uses a hardcoded DNS, that's why it works. <comment362148> Please add the output of `scutil --dns` and `cat /etc/resolv.conf` to your question. <comment362212> That doesn't help, unfortunately. Neither typing 173.194.32.184 in browser, nor adding those servers. <comment362329> Oh that comment actually helps. I've seen that before. Added link to that question above. <comment363041> any update on the issue? <comment363249> posted an answer
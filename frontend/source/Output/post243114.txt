Expand OS X partition <body> I am using a Mac (OS X 10.10.3) that has a Windows and an OS X partition. From Windows, I shrunk the Windows partition using codediskmgmt.msc/code freeing up about 60 GB. I would like to expand the OS X partition into this free space. Disk Utility seems have greyed out the size field of the partition.  img src="https://i.stack.imgur.com/I0nQW.png" alt="enter image description here"  Here is the output of codesudo gpt -r show /dev/disk0/code:  precodestart       size  index  contents           0          1         PMBR           1          1         Pri GPT header           2         32         Pri GPT table          34          6          40     409600      1  GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B      409640   96408680      2  GPT part - 53746F72-6167-11AA-AA11-00306543ECAC    96818320    1269536      3  GPT part - 426F6F74-0000-11AA-AA11-00306543ECAC    98087856       1104    98088960  226988032      4  GPT part - EBD0A0A2-B9E5-4433-87C0-68B6B72699C7   325076992  165157727   490234719         32         Sec GPT table   490234751          1         Sec GPT header /code/pre  How do I expand it?  <answer243163> The recommended method to expand Macintosh HD is to backup and remove your Windows partition with WinClone, expanding your OS X volume and restoring the Windows partition. This can also be done with codedd/code and codefdisk/code. Both methods require an external drive.  hr  A strongvery/strong non-conventional method exists to expand Macintosh HD by using the internal Logical Volume Manager (CoreStorage).  Your main volume is already part of a CS Logical Volume Group – probably because it's encrypted. This can be seen by checking the partition type of disk0s2: 53746F72-6167-11AA-AA11-00306543ECAC.  After adding a partition in the unallocated disk space, formatting it as JFHS+ volume and adding it as physical volume, you may expand the logical volume emMacintosh HD/em into the free space of the now enlarged logical volume group.  strongThe method outlined below was tested in a VM and it works. Since I can't install Windows with the Boot Camp Assistant in a VM I can't assure that Windows is bootable afterwards. If Windows booting fails you can use codefdisk/code to modify the pMBR to make it bootable again./strong  strongPreparation:/strong    ul liBackup your data./li liDetach any external drive (especially your external Time Machine backup drive)./li liRestart to Internet Recovery Mode by pressing kbdalt/kbd kbdcmd/kbd kbdR/kbd at startup.br The prerequisites are the latest firmware update installed, either ethernet or WLAN (WPA/WPA2) and a router with DHCP activated.br On a 50 Mbps-line it takes about 4 min (presenting a small animated globe) to boot to a recovery netboot image which usually is loaded from an apple/akamai server.  I recommend ethernet because it's more reliable. If you are restricted to WIFI and the boot process fails, just restart your Mac until you succeed booting.  Alternatively you may start from a bootable installer thumb drive (Mavericks or Yosemite) or a thumb drive containing a full system (Mavericks or Yosemite). If you boot to a full system you have to prepend codesudo/code using some commands (e.g. codegpt/code or codenewfs_hfs/code)/li /ul  Verify and repair the disk and the volumes with emDisk Utility/em  strongModify CoreStorage stack:/strong  ul liOpen in the menubar Utilities/Terminal  First you should get an overview of your disks and the partition layout:/li liEnter codediskutil list/code, codediskutil cs list/code and codegpt -r show /dev/disk0/code/li liUnmount the disk containing the logical volume Macintosh HD and you main disk. Below I assume the logical volume (residing in disk0s2) has the disk identifier disk2 – check your diskutil listing for the proper identifier and use that one below.  precodediskutil umountDisk disk2 diskutil umountDisk disk0 /code/pre/li liAdd a partition in the unallocated disk space:  precodegpt add -b 325078016 -i 5 -s 165156696 -t 48465300-0000-11AA-AA11-00306543ECAC disk0 /code/pre/li liFormat the new partition:  precodenewfs_hfs -v "Expansion" -J /dev/rdisk0s5 /code/pre/li liAdd the partition to the logical volume group. The lvgUUID (the UUID of the Logcal Volume Group) can be found in the codediskutil cs/code listing:  precodediskutil cs addDisk lvgUUID /dev/disk0s5 /code/pre/li liExpand the logical volume. The lvUUID (the UUID of the Logcal Volume) can be found in the codediskutil cs/code listing:  precodediskutil cs resizeVolume lvUUID 0g /code/pre  0g is a magical number here and it will expand the LV to the max size./li liVerify and repair the disk and the volumes with emDisk Utility/em  The partition map finally looks like this:  precodestart       size  index  contents           0          1         PMBR           1          1         Pri GPT header           2         32         Pri GPT table          34          6          40     409600      1  GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B      409640   96408680      2  GPT part - 53746F72-6167-11AA-AA11-00306543ECAC    96818320    1269536      3  GPT part - 426F6F74-0000-11AA-AA11-00306543ECAC    98087856       1104    98088960  226988032      4  GPT part - EBD0A0A2-B9E5-4433-87C0-68B6B72699C7   325076992       1024     325078016  165156696      5  GPT part - 53746F72-6167-11AA-AA11-00306543ECA   490234712          7   490234719         32         Sec GPT table   490234751          1         Sec GPT header /code/pre  Your emMacintosh HD/em will now span disk0s2 and disk0s5 (similar to a Fusion disk but with one disk only)./li /ul  <comment299284> Please add the output of `sudo gpt -r show /dev/disk0` to your question! <comment299320> Unfortunately, (to the best of my knowledge - correct me if I am wrong) there is no way to do this without deleting the partition and recreating it. I had to do this yesterday because I had the same problem. If anyone has a workaround, let me know! <comment299321> @klanomath did so
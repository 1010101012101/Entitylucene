Error while Compressing the Mail DB: file is encrypted or is not a database <body> I am trying to compress the Mail database by running the sqlite3 codevacuum/code command. But I get the following error:  codeSQL Error: file is encrypted or is not a database/code  I was running Mac OS 10.6 and I upgraded to 10.7. Now, it's running 10.7.4. I found that the Mail data folder is placed under the folder code~/Library/Mail/V2/MailData/code instead of code~/Library/Mail/MailData/code on my machine.  So I use the following command:  codesqlite3 ~/Library/Mail/V2/MailData/Envelope\ Index vacuum/code  <answer83961> You should just move that file to trash and re-start Mail.  There is a 'PRAGMA integrity_check' option, but why risk a bad index, the file will be rebuilt when Mail senses it's missing.  <comment96634> Thanks bmike. My question is actually a few month old but what you told is actually what I did at the end.
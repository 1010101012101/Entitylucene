On-demand VPN without blocking internet while connecting on iOS <body> I have a code.mobileconfig/code that autoconnects OpenVPN whenever i leave home. Only traffic to my local network is routed through the VPN but it still blocks my internet connection on my phone until it is established. This takes a while sometimes and is quite annoying. Is there anything i can do to the config to allow internet traffic while connecting to the VPN?  precode            &lt;key&gt;DisconnectOnIdle&lt;/key&gt;             &lt;integer&gt;0&lt;/integer&gt;             &lt;key&gt;OnDemandEnabled&lt;/key&gt;             &lt;integer&gt;1&lt;/integer&gt;             &lt;key&gt;OnDemandRules&lt;/key&gt;             &lt;array&gt;                 &lt;dict&gt;                     &lt;key&gt;Action&lt;/key&gt;                     &lt;string&gt;Disconnect&lt;/string&gt;                     &lt;key&gt;InterfaceTypeMatch&lt;/key&gt;                     &lt;string&gt;WiFi&lt;/string&gt;                     &lt;key&gt;SSIDMatch&lt;/key&gt;                     &lt;array&gt;                         &lt;string&gt;My-home-ssid&lt;/string&gt;                     &lt;/array&gt;                 &lt;/dict&gt;                 &lt;dict&gt;                     &lt;key&gt;Action&lt;/key&gt;                     &lt;string&gt;Connect&lt;/string&gt;                 &lt;/dict&gt;             &lt;/array&gt; /code/pre  <comment373640> I don't have access to my computer, so I cannot look up the details right now, but you should change your *connect* condition, si it connects only when you access your home IP range or home TLD. <comment373704> I dont have a home tld, how can i make it conditional for ip’s? I thought it only works for domains. <comment373745> Use DNSServerAddressMatch as explained on https://developer.apple.com/library/content/featuredarticles/iPhoneConfigurationProfileRef/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010206-CH1-SW36 - you can use a wildcard like in 192.168.1.* to match your home IP range. <comment373765> Thats not how `DNSServerAddressMatch` works according to docs. It says it will connect if `DNS` server `IP` matches the wildcard which is not the same as only connecting when i try to reach my internal home `IP`. ”This rule matches if any of the network’s specified DNS servers match any entry in the array.”. <comment373767> You're right, that keyword does not apply. IP address marching seems to be no longer supported. I am using a TLD like *.local* which works well.
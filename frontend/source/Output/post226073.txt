How do I create user accounts from the Terminal in Mac OS X 10.11? <body> I would like to be able to create new users in Mac OS X 10.11 remotely after ssh'ing into the machine. On Mountain Lion, these steps were listed.   Running  precodedscl . -create /Users/joeadmin dscl . -create /Users/joeadmin UserShell /bin/bash dscl . -create /Users/joeadmin RealName "Joe Admin"  dscl . -create /Users/joeadmin UniqueID "510" dscl . -create /Users/joeadmin PrimaryGroupID 20 dscl . -create /Users/joeadmin NFSHomeDirectory /Users/joeadmin dscl . -passwd /Users/joeadmin password   dscl . -append /Groups/admin GroupMembership joeadmin /code/pre  After the above, the user doesn't become admin. What next?  <answer226080> The documentation lacks one important step:  precodereboot /code/pre  or   precodesudo reboot /code/pre  After the reboot the user enjoys strongemvisible/em/strong admin rights in System Preferences - Users and Groups.   But: even without rebooting the user strongemis/em/strong admin already - it's just not visible in the PrefPane. If you login as joeadmin immediately after creating the account (e.g. fast user switching) the admin role is visible from within his account.  <answer278068> After much testing, i have made this script to create user accounts from terminal.    precodeLOCAL_ADMIN_FULLNAME="Joe Admin"     # The local admin user's full name LOCAL_ADMIN_SHORTNAME="joeadmin"     # The local admin user's shortname LOCAL_ADMIN_PASSWORD="password"      # The local admin user's password  # Create a local admin user account sysadminctl -addUser $LOCAL_ADMIN_SHORTNAME -fullName "$LOCAL_ADMIN_FULLNAME" -password "$LOCAL_ADMIN_PASSWORD"  -admin dscl . create /Users/$LOCAL_ADMIN_SHORTNAME IsHidden 1  # Hides the account (10.10 and above) mv /Users/$LOCAL_ADMIN_SHORTNAME /var/$LOCAL_ADMIN_SHORTNAME # Moves the admin home folder to /var dscl . -create /Users/$LOCAL_ADMIN_SHORTNAME NFSHomeDirectory /var/$LOCAL_ADMIN_SHORTNAME # Create new home dir attribute dscl . -delete "/SharePoints/$LOCAL_ADMIN_FULLNAME's Public Folder" # Removes the public folder sharepoint for the local admin /code/pre  <answer292859> If you are here and your system is running anything from 10.10 and newer, the sysadminctl command is your best friend. It does a lot of magic that DSCL can't do.  Here's the output for sysadminctl:  precodesysadminctl[21233:29122637] Usage: sysadminctl     -deleteUser &lt;user name&gt; [-secure || -keepHome]     -newPassword &lt;new password&gt; -oldPassword &lt;old password&gt; [-passwordHint &lt;password hint&gt;]     -resetPasswordFor &lt;local user name&gt; -newPassword &lt;new password&gt; [-passwordHint &lt;password hint&gt;]     -addUser &lt;user name&gt; [-fullName &lt;full name&gt;] [-UID &lt;user ID&gt;] [-password &lt;user password&gt;] [-hint &lt;user hint&gt;] [-home &lt;full path to home&gt;] [-admin] [-picture &lt;full path to user image&gt;]  Pass '-' instead of password in commands above to request prompt. /code/pre  Then you'll want to do:  precodesudo createhomedir -c 2&gt;&amp;1 | grep -v "shell-init" /code/pre  To add/remove users use dseditgroup:  precodesudo dseditgroup -o edit -a usernametoadd -t user admin sudo dseditgroup -o edit -a usernametoadd -t user wheel /code/pre  <comment274479> Nice answer. I was going to comment to the OP to ask _what does the account is not admin_ look like to dig into how they were using the user or testing admin group membership. Depending on how they check, a log out might be all they need for their current user to read the new user as admin... <comment274480> Also relevant are http://apple.stackexchange.com/questions/4814/ and http://apple.stackexchange.com/questions/112857/ and https://github.com/MagerValp/CreateUserPkg
Custom nameservers, /etc/resolver/ and SRV records <body> I want to use a DNS server on my machine to resolve lookups for all names ending in code.dev/code.  I've created code/etc/resolver/dev/code to do this, and checked that it works for A records:  precode› dscacheutil -q host -a name blah.blah.dev name: blah.blah.dev ip_address: 127.0.0.1 /code/pre  So far, so gravy.  However, what I emreally/em need to do is use the local DNS server to resolve SRV queries.  When I point Ruby directly at the local DNS server, it can resolve the queries OK:  precode&gt;&gt; Resolv::DNS.new(     nameserver: '127.0.0.1',     search: 'dev',     ndots: 1 ).getresources(     '_http._tcp.demo-service-foo.dev',     Resolv::DNS::Resource::IN::SRV ) =&gt; [#&lt;Resolv::DNS::Resource::IN::SRV:0x007faa192fc720 @priority=0, @weight=0, @port=5200, @target=#&lt;Resolv::DNS::Name: 127.0.0.1.&gt;, @ttl=0&gt;] /code/pre  However, when I use the OS X defaults, the name is not resolved:  precode&gt;&gt; Resolv::DNS.new.getresources(     '_http._tcp.demo-service-foo.dev',     Resolv::DNS::Resource::IN::SRV ) =&gt; [] /code/pre  Using tcpdump, I can see that in the former situation, the resolution happens (and succeeds!) over the loopback interface:  precode› sudo tcpdump -i lo0 -s 0 -B 524288 -w ~/Desktop/DumpFile-with-nameserver.pcap › tcpdump -s 0 -r DumpFile-with-nameserver.pcap reading from file DumpFile-with-nameserver.pcap, link-type NULL (BSD loopback) 14:11:18.532418 IP localhost.mphlpdmc &gt; localhost.domain: 10530+ SRV? _http._tcp.demo-service-foo.dev. (55) 14:11:18.532575 IP localhost.domain &gt; localhost.mphlpdmc: 10530* 1/0/0 SRV 127.0.0.1.:5200 0 0 (84) /code/pre  In the latter situation (without manually specifying the nameserver), the resolution query goes out over the network, and fails as you'd expect:  precode› sudo tcpdump -i en0 -s 0 -B 524288 -w ~/Desktop/DumpFile-default.pcap › tcpdump -s 0 -r DumpFile-default.pcap reading from file DumpFile-default.pcap, link-type EN10MB (Ethernet) 14:09:35.567565 IP 192.168.3.21.netview-aix-6 &gt; o2.mobilewifi.domain: 21300+ SRV? _http._tcp.demo-service-foo.dev. (55) 14:09:35.643653 IP o2.mobilewifi.domain &gt; 192.168.3.21.netview-aix-6: 21300 NXDomain 0/1/0 (130) /code/pre  So, to me it looks like the code/etc/resolver/*/code system is used for A-type queries, but not for SRV?  I can't find confirmation for this in any documentation, however…  Is there a way for me to be able to use code/etc/resolver/code for SRV lookups? 
Identifying an accounts username upon login <body> I am trying to run a launch agent upon a user logging in, but the script encapsulated by it requires knowing who is logging in. Previously I could identify the user logging in by checking the owner of /dev/console but this no longer works. The owner of /dev/console is root upon a user's login or more precisely when the launch agent runs as it changes to the user afterwards. Is there anywhere I can find out the username of a person logging in for the purposes of a launch agent?  <answer274526> codeCurrentUser="$(env | grep LOGNAME | awk -F = '{print $2}')"/code and code$USER/code used in a script launched by a launch agent in /Library/LaunchAgents both contain the username of the user logging in.   codeCurrentUser="$(users)"/code contains strongall/strong users. So the first user will be revealed but logging in with a second user at the same time  (e.g. fast user switching) will break the script.  <comment345181> Isn't the launch agent running in the user session anyway? <comment345183> Please add the content (or at least the failing part) of the script <comment345185> In the script when I set the the variable CurrentUser  `code` CurrentUser="$(ls -lh /dev/console | awk '{print $3}') `code` the variable is set to root. <comment345191> Use either  `users` (which outputs the current user if only one user is logged in) or some `env | grep | awk ...` command "dissecting" the output of  LOGNAME. (i.e. `env | grep LOGNAME | awk -F = '{print $2}'`
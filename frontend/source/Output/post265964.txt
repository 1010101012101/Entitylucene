MacBook Pro does not boot after Sierra update <body> I've been using my MacBook Pro for years and it was still working fine. For the last year or two I was using Yosemite, it was working without any significant problems.  Yesterday I decided to update to Sierra. Mid 2010 MBP supports this version, so I decided to have a try.  The latest OS X version was downloaded from the AppStore, unarchived, installed. The installation (that claimed to last 34 minutes) took longer - about 3 hours. Finally it rebooted and loaded to the screen where I was asked to login with AppleID. However, there was no login/password field, only the label "login with your AppleID" and two disabled buttons ("back" and "next"). There was some empty space to fit the textfields for login and password, but it was just the empty space. I waited for some time, tried to do something, but there were no variants. So I powered my Macbook off.  When I turned it back again, I noticed that the loading (white screen, Apple logo, progress bar) took longer than usual. It slowed down reaching the half of the progress bar, but finally reached the end and stopped. I waited for another hour. Nothing happened. Apple logo and the full progress bar.  Tried to Safe Boot. It took a while, but finally I saw my desktop, a popup window with the new Sierra features, etc.  I decided that the first freeze was just a one-time error and turned the Macbook off again.  Since then I am unable to boot in either the normal mode, or SafeBoot mode. The only things I am able to do are the Recovery mode, the verbose mode and the single-user mode. I was not able to perform the hardware diagnostics mode (which is called something different in 2010 MBP) either.  I've tried reseting PRAM and SMC - no changes, the frozen Apple logo and the progress bar are still there.  Since I was able to access the recovery mode, I have tried the Disk Utility's First Aid. It told me, that everything is fine.  I tried to reinstall the OS, as I thought it will roll me back to Lion (or what was there by default..?). But the Sierra installation popped up again. I waited for another full round of Sierra installation. It rebooted, but with no luck. It still does not get past the boot part.  Finally here is what I get in the verbose mode. The Macbook was left overnight, and now I can tell there are a few stages.  Firstly it scrolls through some lines, which are different. There are some things, that look like errors to me. Like:  img src="https://dl.dropboxusercontent.com/u/36914948/image3.jpeg" alt="Photo"  Then the lines begin to appear slower:  img src="https://dl.dropboxusercontent.com/u/36914948/image4.jpeg" alt="Photo"  After that it comes to a very long sequence of AMFI exceptions. Like that:  img src="https://dl.dropboxusercontent.com/u/36914948/image6.jpeg" alt="Photo" img src="https://dl.dropboxusercontent.com/u/36914948/image7.jpeg" alt="Photo"  This goes on for a while. The number before "because" is increasing. And after a few hours this AMFI exceptions become rearer. The number in brackets is more than 4000 now.  The final stage I witness right now is the following:  img src="https://dl.dropboxusercontent.com/u/36914948/image8.jpg" alt="Photo"  There are looping blocks of lines about GTK, SmartBattery, "_peerManager is missing", and some rare AMFI's.  I really don't know what to do, Everything was working just fine before I tried to update. Now it  is a mess. I tried to search the web, but all I found were some unanswered questions.  <comment333504> You may erase the /private/var/db/.AppleSetupDone file in Single User Mode and repeat your setup or restore the **backup** you made before upgrading. <comment333505> I'll try the first one right now <comment333507> You (hopefully) will be asked to create a new user. From there it's easier to diagnose your problem. <comment333509> So, I delete the file in Single-user mode and reinstall the OS X from the Recovery mode, right? Or do I just try to boot once again? <comment333510> I would blur the PMK/TPIK keys and your mac address pairs if you don't want to share them with the rest of the world from the screens, as a precaution. <comment333511> I hid the PMK/TPIK part, is there anything else? <comment333512> @klanomath good news - I am in the same setting-up procedure, that I was in during the first boot. Bad news - there is the same "Login with Apple ID" page, There are tow buttons (the enabled "back" and disabled "continue"). Still no fileds to enter Apple ID.. <comment333513> @Deimos No cancel button/link (I don't really remember). Do you have an AppleID and did you protect your Mac somehow (e.g. Find my Mac)? <comment333514> While I was writing a comment about "There are no text fields for login-password pair", It loaded them instead of the empty space. Now it is stuck, processing my Apple ID, but I'll wait for a bit. <comment333517> OK, after a really long waiting period it finally ollowed me to set other things up (up to enabling siri). Then it rebooted, Apple logo with progress bar appeared. This time it stays empty (usually it was stuck on being full) for more than 10 minutes. I'll keep waiting, as the previous steps took long too. <comment333523> After about 30 minutes I understood that the progress bar was grey all that time. I read that if that occurs ypu should reset PRAM. After the reset the progress bar was white again and was slowly filling up. In about 15 minutes it was fully filled, but again nothing happens. <comment333524> in Verbose mode it keeps throwing "AMFI: allowing exception handler for 'apsd' / 'AppleIDAuthAgent" (xxx), because the handler was set by master-entitled process 'init' / 'launchd' (1)" <comment333525> Oh, and the "I080211Interface::updateReport _peerManager is missing" is back... I don't know how to solve all of this. <comment333531> There are no "AMFI" messages for 10 minutes, the ony thing updating in Vebose mode is the repeating "SmartBattery: finished polling with type 2/4" and the occasional  "I080211Interface::updateReport _peerManager is missing" and GTK lines like on the photos above. <comment333536> I decided to check the Sierra installation log. There are some things that look like errors to me, but I don't know how to handle them. Here it is - https://dl.dropboxusercontent.com/u/36914948/Installer%20Log%2023-Dec-2016.txt <comment333551> IMHO Just bring it to the Apple Store and get them to fix it; they'll reinstall Sierra and if that doesn't work run a hardware diagnostic test and maybe replace some internals. <comment333554> Actuallyâ€”you can run the hardware test yourself. Try that [following the instructions here](https://support.apple.com/en-us/HT201257). <comment333595> So, I managed to boot into th OS. The procedure was the following: I removed  /private/var/db/.AppleSetupDone from the Single-User mode. Rebooted. Waited for the setup to load. Went through all the steps, waited for a long time on the "Sign in with Apple ID" for the variants to appear. Continued without Apple ID. Disabled Siri (it failed when I tried to continue with Siri). Finally it loaded for some time and the Desktop appeared.
How does XCode install a .pkg file in a different location? <body> I'm looking to install the IOS Simulators via the command-line.  From the plist it downloads, I can see this:  precode&lt;dict&gt;     &lt;key&gt;dependencies&lt;/key&gt;     &lt;array/&gt;     &lt;key&gt;fileSize&lt;/key&gt;     &lt;integer&gt;584180466&lt;/integer&gt;     &lt;key&gt;identifier&lt;/key&gt;     &lt;string&gt;Xcode.SDK.iPhoneSimulator.6.1&lt;/string&gt;     &lt;key&gt;name&lt;/key&gt;     &lt;string&gt;iOS 6.1 Simulator&lt;/string&gt;     &lt;key&gt;source&lt;/key&gt;     &lt;string&gt;http://devimages.apple.com/downloads/xcode/simulators/ios_6_1_simulator.dmg&lt;/string&gt;     &lt;key&gt;userInfo&lt;/key&gt;     &lt;dict&gt;         &lt;key&gt;ActivationPredicate&lt;/key&gt;         &lt;string&gt;$XCODE_VERSION &amp;gt;= '5.0'&lt;/string&gt;         &lt;key&gt;ApplicationsBlockingInstallation&lt;/key&gt;         &lt;array&gt;             &lt;string&gt;com.apple.iphonesimulator&lt;/string&gt;         &lt;/array&gt;         &lt;key&gt;IconType&lt;/key&gt;         &lt;string&gt;IDEDownloadablesTypeSimulator&lt;/string&gt;         &lt;key&gt;InstallPrefix&lt;/key&gt;         &lt;string&gt;$(DEVELOPER)&lt;/string&gt;         &lt;key&gt;InstalledIfAllPathsArePresent&lt;/key&gt;         &lt;array&gt;             &lt;string&gt;$(DEVELOPER)/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk&lt;/string&gt;         &lt;/array&gt;         &lt;key&gt;RequiresADCAuthentication&lt;/key&gt;         &lt;false/&gt;         &lt;key&gt;Summary&lt;/key&gt;         &lt;string&gt;This package enables testing of this previous version of iOS by installing legacy frameworks into the iOS Simulator.  If your app intends to support this version of iOS, it is highly recommended that you download this package to aid in your development and debugging.&lt;/string&gt;         &lt;key&gt;Xcode.SDKs&lt;/key&gt;         &lt;array&gt;             &lt;dict&gt;                 &lt;key&gt;CanonicalName&lt;/key&gt;                 &lt;string&gt;iphonesimulator6.1&lt;/string&gt;                 &lt;key&gt;Path&lt;/key&gt;                 &lt;string&gt;$(DEVELOPER)/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk&lt;/string&gt;                 &lt;key&gt;Platform&lt;/key&gt;                 &lt;string&gt;com.apple.platform.iphonesimulator&lt;/string&gt;                 &lt;key&gt;SupportedDeviceFamilies&lt;/key&gt;                 &lt;array&gt;                     &lt;integer&gt;1&lt;/integer&gt;                     &lt;integer&gt;2&lt;/integer&gt;                 &lt;/array&gt;                 &lt;key&gt;Version&lt;/key&gt;                 &lt;string&gt;6.1&lt;/string&gt;             &lt;/dict&gt;         &lt;/array&gt;     &lt;/dict&gt;     &lt;key&gt;version&lt;/key&gt;     &lt;string&gt;6.1&lt;/string&gt; &lt;/dict&gt;  /code/pre  In here is a code.dmg/code codehttp://devimages.apple.com/downloads/xcode/simulators/ios_6_1_simulator.dmg/code and an codeInstallPrefix./code  Inside the code.dmg/code is a code.pkg/code file that installs to (relative) code./Platforms/code.  The problem is, if I just try to install that via codeinstaller/code:  precodesudo installer -pkg /Volumes/.../ios_6_1_simulator.pkg -target / /code/pre  It will install to code/Platforms/code instead of the intended code/Applications/Xcode.app/Contents/Developer/Platforms/code.  I'm unable to set a different target that isn't a mount point.  How do I get it to install to that location?  strongEDIT:/strong It doesn't even work if I do set a custom mount point.  Here's my attempt:  precode$ mkdir /tmp/SampleDir  $ hdiutil create -srcfolder "/tmp/SampleDir" -volname "Sample Install" -fs HFS+ -fsargs "-c c=64,a=16,e=16" -format UDRW -size 1g pack.temp.dmg ............................................................................................................................................................................................................................................. created: /tmp/pack.temp.dmg  $ hdiutil attach -readwrite -noverify -noautoopen -mountpoint /Volumes/SampleDir "pack.temp.dmg" /dev/disk4              GUID_partition_scheme            /dev/disk4s1            Apple_HFS                       /Volumes/SampleDir  $ sudo installer -pkg ~/Desktop/iPhoneSimulatorSDK6_1.pkg -target /Volumes/SampleDir Password: installer: Package name is iPhoneSimulatorSDK6_1 installer: Installing at base path /Volumes/SampleDir installer: The install failed (The Installer encountered an error that caused the installation to fail. Contact the software manufacturer for assistance.) /code/pre  <answer111969> In a situation where you're installing a package that supports relocation, it is possible to provide an installer choices XML file to codeinstaller/code to modify the installation options. However, this may not be supported or available on all packages (depending on how the package was built). From the installer man page:  precodeThe customLocation attribute can be set for a choice only if that choice explicitly allows a user-defined path. That is, if the choice would have a Location popup when viewed in the Customize pane of the Installer application, it  can be set via customLocation.  (Otherwise, installation paths cannot be  arbitrarily modified, since the package author must account for custom install  locations for the installation to work properly.) /code/pre  From what I can see, the iPhoneSimulatorSDK6_1.pkg that you're referencing does not support this option. However, it is still possible to perform the relocation of the installer package payload after installation:  precodesudo installer -pkg /Volumes/Bittersweet6M149.iPhoneSimulatorSDK6_1/iPhoneSimulatorSDK6_1.pkg -tgt / sudo mv /Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator/Developer/SDKs /code/pre  Alternately, you can use codepkgutil/code to expand the package, codecpio/code to extract the payload, and codemv/codeto put the SDK into place:  precodepkgutil --expand /Volumes/Bittersweet6M149.iPhoneSimulatorSDK6_1/iPhoneSimulatorSDK6_1.pkg ~/iPhoneSimulator6_1 cd ~/iPhoneSimulator6_1 cpio -i -I ~/iPhoneSimulator6_1/Payload sudo mv Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator/Developer/SDKs /code/pre  I'm not sure exactly how Xcode places the simulators/SDKs into the correct location. However, both of the methods mentioned above allow the iOS 6.1 simulator to be used within Xcode 5.0.2 on Mavericks (10.9).  <comment131090> Deleted one from stackoverflow. <comment284865> fix: pkutil - pkgutil <comment284883> @DanSkeel - thanks for the fix!
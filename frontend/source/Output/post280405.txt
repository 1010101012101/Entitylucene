Create an EFI partition <body> I had the following problem with my internal HD. When I started my mac, after the logo loaded the screen went black and an error panel with the message: "Unapproved caller. SecurityAgent may only be invoked by Apple software" showed. I've had HD problems before so I have an external HD with Mac OS X installed. I used it to boot Mac OS (with no problems) and used Disk utility to repair the ESP (disk0s1 partition of my internal HD), but the partition was deleted in this process. My internal HD (disk0) now looks like this:  img src="https://i.stack.imgur.com/PHRJA.png" alt="enter image description here"  img src="https://i.stack.imgur.com/OSjlC.png" alt="enter image description here"  I have a backup of my internalHD on disk1, so I could just delete the disk and reinstall everything but I'm curious if the HD can be restored without doing this, so no worries about data loss if the attempt fails.  My thoughts on how to solve this are to implement the following procedure:     ol   liCopy the ESP from disk1, and add it to a new partition on disk0 (I don't know if this can be done simultaneously, so the newly created partition has the exact size of the ESP, or if I need to create a partition and then copy the ESP into it)./li   liMove the newly created partition from disk0s3 to disk0s1, and then disk0s3 (internal HD) to disk0s2./li   /ol   I don't know if this will solve the problem, of it can be done, and if so, how to do it.  Any suggestions are welcome!  <answer280409> Googling the error message I get a plethora of different causes: e.g. no space on the main volume, broken SATA cables etc.  So restoring or rebuilding the EFI partition probably won't solve your problem.  Recreating a/the EFI partition should be easy though:  ul liCreate some OS X installer thumb drive/li liDetach your external drive/li liBoot to the thumb drive./li liOpen Terminal in the menubar  Utilities/li liEnter codediskutil list/code to get the disk identifier of your internal disk (probably disk0) - you will get about 12-14 disks almost all of them related to the thumb drive. Check the sizes to get the right one - below I assume it's disk0./li liUnmount disk0 with codediskutil umountDisk disk0/code/li liCheck partition table:  precodegpt show -r /dev/disk0 /code/pre/li liRemove the two existing partitions:  precodegpt remove -i 1 /dev/disk0 gpt remove -i 2 /dev/disk0 /code/pre/li liCreate a new partition and re-add the other two:  precodegpt add -i 1 -b 40 -s 409600 -t C12A7328-F81F-11D2-BA4B-00A0C93EC93B /dev/disk0 gpt add -i 3 -b 1952255592 -s 1269536 -t 426F6F74-0000-11AA-AA11-00306543ECAC /dev/disk0 gpt add -i 2 -b 409640 -s 1951845952 -t 48465300-0000-11AA-AA11-00306543ECAC /dev/disk0 /code/pre/li liIf the disk is stubborn destroy the gpt and a add a new one:  precodegpt destroy /dev/disk0 gpt create -f /dev/disk0 /code/pre  Now repeat the previous step and add the three partitions./li liAttach the external drive/li liGet the disk identifier of the external drive with codediskutil list/code (probably disk14 or even higher - below I assume it's disk14)/li liUnmount disk0 with codediskutil umountDisk disk0/code/li liUnmount disk14 with codediskutil umountDisk disk14/code/li liClone the EFI partition of the external drive to your internal drvie with:  precodedd if=/dev/disk14s1 of=/dev/disk0s1 bs=1m /code/pre/li liEnter codereboot/code to reboot your Mac/li /ul  <comment352682> Please add your Mac model (e.g. MacBook Pro 17" early 2011)! <comment352683> I have a Macbook Pro 13" mid 2009 <comment352688> thanks! I have a thumb drive with a OS X installer already, so I will try this and see if the error message persists. <comment352691> when creating the new partition I get the following error: entry at index 1 is not free. This is the index where my internal HD is currently stored <comment352702> when trying to add partitions 2 or 3 I get the error: no secondary GPT header; run recover <comment352704> yes, but it appears the secondary GPT table and header were deleted when deleting the previous partitions or when creating the new EFI partition <comment352709> @LuisVera Answer modified once more. <comment352717> very stubborn HD but it seems I was able to do it. When typing the code to copy the EFI of external HD (disk17)  I get the error: dd: unknown operand of <comment352719> sorry, typing mistake <comment352729> thank you for your help! As you suspected, the problem was not solved (I will address it in a new question) but I was successfully able to recreate the EFI partition on the internal HD :)
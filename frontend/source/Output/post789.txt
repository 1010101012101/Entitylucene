Mount home sparsebundle when SSH <body> I'm using FileVault to encrypt my homedir. But when I'm not logged (locally) into my remote machine and I'm connecting to it trough SSH my home contains only the sparsebundle file.  How can I mount it so my home dir appears normally as a local login on the machine ?  <answer791> h3Mount/h3  SSH lets you create a code~/.ssh/rc/code that will be executed right after the environment has been set up, but before any shell will be active (so beware of that; search for "sshrc" in man ssh(8) for more informations).  So, to mount your FileVault partition you can add  this line to your code~/.ssh/rc/code file:  precodehdiutil attach /Users/$USER/$USER.sparsebundle -mountpoint /Users/$USER /code/pre  Don't worry, your code~/.ssh/rc/code will be available to the system even before mounting the FileVault partition.  h3Unmount/h3  Now you have to ensure the unmount at logout, and only if you are connected via ssh. To do that you can use your shell's logout script. These are the logout script paths for the 3 most used shells on Macs (feel free to add more in the comments):  ul libash: code~/.bash_logout/code/li lizsh: code~/.zlogout/code/li li(t)csh: code~/.logout/code/li /ul  Open (or create) the appropriate file and add:  precodeif [[ -n $SSH_CONNECTION ]]     then hdiutil detach /Users/$USER/$USER.sparsebundle fi /code/pre  <comment23704> I read this answer with interest alongside answers under a question in SuperÂ User, [Mounting a FileVault 2 encrypted external Home Drive at boot with OS X Lion](http://superuser.com/q/315911/84988) <comment119639> I don't know how `hdiutil detach` would work as written since it's hidden by the mounted partition.  Even if I specify `/Users/$USER` instead, I get "Permission Denied" or "Resource Busy".  Suggestions?
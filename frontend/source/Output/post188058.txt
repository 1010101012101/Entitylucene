WiFi problems after wake up (MBP2011 OS X 10.10.3) <body> Suddenly yesterday my mac started to have WiFi-problems. I have had this mac since 2011 and it has always worked and I have only been using it on WiFi.  But today when I woke it up it didn't enable the WiFi. I tried to disable WiFi and enable it again but it didn't work.  I rebooted. It worked. After ~5 minutes it stopped working again.  Now I'm using my iphone (via USB) to connect to internet. Works fine.  Just before the problem occurred I installed the following updates:  ul liRemote Desktop Client Update V3.8.4/li liCommand Line Tools (OS X 10.10) V6.3/li /ul  Does anyone have any tips for me?  Thanks in advance :)  Update: I add a section from my wifi.log file on the time of one of my failures  precodeWed May 20 16:45:53.489 &lt;airportd[50]&gt; airportdProcessDLILEvent: en1 attached (up) Wed May 20 22:20:51.299 ***Starting Up*** Wed May 20 22:20:51.504 &lt;airportd[50]&gt; airportdProcessDLILEvent: en1 attached (up) Wed May 20 23:19:39.448 &lt;airportd[50]&gt; _handleLinkEvent: WiFi is not powered. Resetting state variables. Wed May 20 23:20:13.062 &lt;airportd[50]&gt; WARNING: Network Diagnostics (827) is not entitled for com.apple.wifi.set_power, temporarily allowing request with background priority —— all entitlement requirements will be strictly enforced in a future release Wed May 20 23:20:13.275 &lt;airportd[50]&gt; WARNING: Network Diagnostics (827) is not entitled for com.apple.wifi.scan, temporarily allowing request with background priority —— all entitlement requirements will be strictly enforced in a future release Wed May 20 23:22:20.165 ***Starting Up*** Wed May 20 23:22:20.198 &lt;airportd[50]&gt; airportdProcessDLILEvent: en1 attached (up) Wed May 20 23:23:49.476 &lt;airportd[50]&gt; -[CWXPCConnection performScanWithChannels:ssidList:legacyScanSSID:includeHiddenNetworks:mergeScanResults:maxAge:maxMissCount:maxWakeCount:maxAutoJoinCount:interfaceName:waitForWiFi:waitForBluetooth:token:priority:reply:]: !!! SCAN request received 1.2470 seconds after previous scan request from 243 (locationd) Wed May 20 23:25:10.549 &lt;airportd[50]&gt; _handleLinkEvent: WiFi is not powered. Resetting state variables. Wed May 20 23:31:45.127 &lt;airportd[50]&gt; _handleLinkEvent: WiFi is not powered. Resetting state variables. /code/pre  emUpdate/em  Today (4 weeks later) my MBP couldnt enable the wifi when I woke it from sleep. I turned it off via the terminal and then I turned it on with:  precodenetworksetup -setairportpower en1 on /code/pre  My computer froze. The most interesting I could find in the log is  precodekernel[0]: en1: Error configuring antenna diversity (index = -1). /code/pre  I have no idea what that means though. Ideas?  I could also find the following in the log  precode Wifiscript[1018]: dig attempt via    Wifiscript[1022]: *** WIFI ERROR #1 DETECTED -- Trying again ***  Wifiscript[1024]: dig attempt via    Wifiscript[1028]: *** WIFI ERROR #2 DETECTED ***  Wifiscript[1029]: ---&gt; Bringing en1 down and waiting five seconds  Wifiscript[1032]: ---&gt; Turning off Airport and waiting five seconds  Wifiscript[1036]: ---&gt; Turning on Airport and waiting five seconds  kernel[0]: LinkStatus 3011 Uncorrectible Errors 100000 Correctible Errors are: 30c1  kernel[0]: Attempt to restore PCIe Config Space  kernel[0]: en1: setting diversity to: -1  kernel[0]: en1: Error configuring antenna diversity (index = -1).  kernel[0]: en1: setting tx antenna: -1  kernel[0]: en1: Error configuring transmit antenna (index = -1).  Wifiscript[1042]: ---&gt; Bringing en1 up and waiting five seconds  kernel[0]: Vendor ID 0xffff is not validVendor ID 0xffff is not validen1: setting diversity to: -1  kernel[0]: en1: Error configuring antenna diversity (index = -1).  kernel[0]: en1: setting tx antenna: -1  kernel[0]: en1: Error configuring transmit antenna (index = -1).  kernel[0]: Vendor ID 0xffff is not validwl_recover_nocard: Timer already started  Wifiscript[1045]: *** WIFI RECOVERY ATTEMPT COMPLETED *** /code/pre  And now after some more reboots it says No hardware installed and I cannot get the card to work at all :(  <answer191685> I think my problems are solved. I opened my cover on the MBP and saw 2 screws that were loose. They were supposed to hold the WIFI antenna. I tightened them up and now it seems to work...   Strange that they opened themselves?  <comment222475> Update: I might have fixed it. I removed all Network services in the preferences. I also removed all my saved networks and locations. I rebooted and added only my WiFi again. I've tried a number of times and will try again the following days. I write back :) <comment222715> I just found another thread with very similar issues: https://discussions.apple.com/thread/6619286?start=15&tstart=0 <comment222775> I had similar issues a couple of days ago, a safe boot and restart apparently fixed them. It appears to affect mostly upgraded Yosemite installs. <comment222861> Thanks a lot! I rebooted to safe mode, reset NVRAM + SMC. Will try for a while again :) <comment222867> I found another similar thread here: http://apple.stackexchange.com/questions/152214/mac-pro-loses-network-connection-after-wake-from-sleep-since-yosemite-upgrade <comment227205> Today it crashed again. It started by losing internet connection. I tried ifconfig en1 down all ok. I tried ifconfig en1 up and the computer froze. <comment227241> I've had minor intermittent issues which usually resolve themselves turning wifi off and on again.
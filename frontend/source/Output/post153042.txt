Yosemite won't boot any more after attempting to enable FileVault and TRIM <body> I installed Yosemite yesterday and it was working fine.  Now whenever it tries to boot it runs Safe Mode and fails 1/3 of the way through.  From what I can remember I went to enable FileVault and backed out of it as I didn't enter my correct iCloud information, and didn't want to go down the key generation route.  I also tried to enable TRIM.  This morning I restarted my machine after installing Kies and it wouldn't boot. The error I'm getting is this:  pre class="lang-none prettyprint-override"codeOct 26 11:01:33 localhost Unknown[358]: Keyboard Layouts: duplicate keyboard layout identifier -16899. Oct 26 11:01:33 localhost Unknown[358]: Keyboard Layouts: keyboard layout identifier -16899 has been replaced with -28673. Oct 26 11:01:33 localhost Unknown[358]: Keyboard Layouts: duplicate keyboard layout identifier -16900. Oct 26 11:01:33 localhost Unknown[358]: Keyboard Layouts: keyboard layout identifier -16900 has been replaced with -28674. Oct 26 11:01:34 localhost Unknown[358]: Setting boot completed. Oct 26 11:01:34 localhost Language Chooser[357]: Could not write to /var/log/CDIS.custom Oct 26 11:01:34 localhost OSIESpringboard[372]: Can not connect to /var/run/systemkeychaincheck.socket: No such file or directory Oct 26 11:01:34 localhost OSIESpringboard[372]: Failed to unlock login keychain. Oct 26 11:01:34 localhost Unknown[358]: 2014-10-26 11:01:34.864 OS X  Utilities[372:303] *** WARNING: -[NSImage compositeToPoint:fromRect:operation:] is deprecated in MacOSX 10.8 and later. Please use -[NSImage drawAtPoint:fromRect:operation:fraction:] instead. Oct 26 11:01:35 localhost Unknown[358]: Keyboard Layouts: duplicate keyboard layout identifier -16899. Oct 26 11:01:35 localhost Unknown[358]: Keyboard Layouts: keyboard layout identifier -16899 has been replaced with -28673. Oct 26 11:01:35 localhost Unknown[358]: Keyboard Layouts: duplicate keyboard layout identifier -16900. Oct 26 11:01:35 localhost Unknown[358]: Keyboard Layouts: keyboard layout identifier -16900 has been replaced with -28674. Oct 26 11:01:40 localhost Unknown[358]: 2014-10-26 11:01:40.167 OS X Utilities[372:303] *** WARNING: Method userSpaceScaleFactor in class NSWindow is deprecated on 10.7 and later. It should not be used in new applications. Use convertRectToBacking: instead. /code/pre  What could be causing this error?  I've tried two things:  ul liInstalling mavericks from the recovery drive - this fails./li liDisabling trim from the command line./li /ul  Neither of these work, is there something else causing this issue?  Edit: verbose mode stops at "still waiting for root device"  <answer153585> Yosemite apparently uses a new security feature called kext signing. This will prevent the old method of TRIM enabling. See the Trim Enabler FAQ, The question strongRecovering from stop sign on boot screen/strong might help you:     h2Recovering from stop sign on boot screen/h2      For those who are stuck on the grey boot screen, here’s how you get   back into OS X:       strongStep 1/strong: Boot recovery mode by holding Cmd+R during boot      strongStep 2/strong: Is your volume encrypted (FileVault)? If so, first open Disk Utility from the menu bar and unlock/mount your drive. em[see here for the procedure]/em      strongStep 3/strong: Open the Terminal from the menu bar      strongStep 4/strong: Run this command: codenvram boot-args/code      Does it say codekext-dev-mode=1/code? if so, you can skip to strongStep 6/strong. If it   says codeerror getting variable/code, continue with these steps:      strongStep 5/strong: Run this command: codenvram boot-args=kext-dev-mode=1/code      strongStep 6/strong: Reboot back in to Recovery Mode again      strongStep 7/strong: Run these commands, replacing Your Disk Name with the name of your Mac disk   (partition). You can type codels /Volumes/code to get a list of volumes. Note   the quotes around the disk path and that there should be no / before   System.      codecd "/Volumes/Your Disk Name"/code      codetouch System/Library/Extensions/code      codekextcache -u "/Volumes/Your Disk name"/code      Step 8: Wait until it finishes (can take as long as 5-10 minutes,   don’t abort it) and reboot. You should now be back in OS X with Trim emenabled/em.      h2The commands are not working!/h2      The commands will work if they are entered correctly. However, if you are not familiar with the Terminal, it can be hard to follow the steps above. If can’t get the Terminal commands to work, or want an easier option, you can also use the Recovery Mode to reinstall OS X. Reinstalling OS X will only reinstall the system files, leaving your files and preferences untouched.   Please check the original source for updates!  strongEDIT:/strongbr See my answer here: Since the release of 10.10.4, Apple now provides a new tool called codetrimforce/code, allowing users to activate TRIM also on unsupported disks. No more dangerous experiments with third party software necessary. strong/EDIT/strong  <answer169641> Try the new update 10.10.2 It fix mine  <comment180206> It says t has a duplicate keyboard? What do you use the "Kies" for ? Also it lost access to your keychain ? Start in Safe mode! <comment180207> You enabled trim... not good in Yosemite [Edit: clarification, Yosemite does not allow modded or non-standard kexts without some user intervention] <comment180210> @Buscar웃 - Kies is a management suite for andorid phones! Its trying to boot in safe mode I think. <comment180211> @Tetsujin I've realised this now and have followed the terminal commands to remove it. I still cant boot so I dont think thats the problem! <comment180212> What point exactly is '1/3 of the way through'? Can you verbose boot this and show what happens? <comment180213> Thanks for the advice @grgarside ill do that now and come back to you. <comment180214> @grgarside - verbose mode gets the same circle with a cross through it like safe mode. It sits at still waiting for root device. <comment180215> Try giving it what is waiting for- connect the Android so the kies can complete its function. If not, do a system restore to fix your boot sector. <comment180218> @Buscar웃 - I don't have a backup, would a reinstall of the os from a usb in recovery do the trick? As this way would also keep my files? <comment180229> I would say yes (USB) and your files should remain intact. Still, the last thing you did before it stopped working was to install the Samsung's Kies! Does the cmd-r works ? if yes use the disk Utility to do some repairs from there. <comment180231> @Buscar웃 - I can get to recovery. I've decided to partition, clean install of maverics on one and then I'll setup the boot able dmg in there. Back out and use that to try fix the yosemite partition. If all else fails ill use the clean install and drag over the files I want. Disk  utility is telling me the drive is fine.
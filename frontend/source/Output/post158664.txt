iTunes/Applescript: get all tracks from (incomplete) album <body> I try to write an Applescript that would sort playlists by album. That is, a playlist P might contain 20 tracks split on 4 albums (A1, A2â€¦). Each album has 10 tracks, in other words, on this playlist, the albums on average only contain half of the tracks.  I have found a lot of examples where you can query iTunes for all tracks that belong to an album on the library level, typically something like this  precodeset albumSongs to (every track of library playlist 1 whose album is currentAlbum) /code/pre  while I want to do something like this  precodeset albumSongs to (every track of playlist myPlaylist whose album is currentAlbum) /code/pre  but compiling my example returns an error message emExpected class name but found identifier./em pointing at the emtrack/em keyword in the line above.  Update:  The unfinished function I try to write where I want to get all tracks that belong to a certain album  precodeon sortPlaylist(albumList, currentPlaylist)     repeat with currentAlbum in albumList         set albumSongs to (every track of currentPlaylist whose album is currentAlbum)     end repeat end sortPlaylist /code/pre  It takes a list without duplicates of all albums (codealbumList/code) and the playlist (codecurrentPlaylist/code) I want to work with. I still have no code to actually sort it (input is appreciated!) but the plan is to sort codealbumSongs/code in track order and then add the tracks to the playlist in order.  <answer158669> Try:  precodeset playlistName to "playlist name"  tell application "iTunes"     set playlistReference to first playlist whose name = playlistName     set currentAlbum to album of current track     set albumSongs to (every track of playlistReference whose album is currentAlbum) end tell /code/pre  <answer158670> precodeset albumSongs to (every track of playlist (name of myPlaylist) whose album is currentAlbum) /code/pre  <comment186583> Still the same error message. <comment186584> Still the same error message. <comment186607> Have you tried making a new script and pasting only my code into it? <comment186626> could you post more of your code ? It would be easier to help you... <comment186630> More code added. <comment186631> I just did and then it works. Surprising. I don't understand what significant difference there is between yours and mine code. <comment186641> You never included a tell application "iTunes" block in your handler <comment186646> @adayzdone have found the solution, your handler should be in a tell application "iTunes" block. <comment186745> But I have a tell application itunes in the function calling this subroutine. Something like `tell applictation "itunes" sortPlaylist (arg1, arg2) end tell  sortPlaylist (arg1, arg2)  [your code here] end`  Doesn't this function inherit the `tell itunes`? <comment186839> No... a handler called from within a tell block does not inherit the tell block.
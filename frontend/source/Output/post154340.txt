MacBook Pro freezes after being woken up from sleep mode with Samsung 850 Pro SSD <body> My MacBook Pro freezes after it's being woken from sleep mode. I can move the mouse but can't click anything and the password form courser is not blinking too.I recently installed a SSD and did 2 fresh installs of Yosemite with no Time Machine backups or anything, just a clean install.  I tried to disable hibernation and unchecked energy saving for the hdd in the system prefs but it still happens and i would like hibernate to be honest.  I would be happy to provide more info if needed.  Specs:  ul liMacBookPro8,1/li liIntel Core i7 @ 2,7 GHz/li li8 GB RAM/li liSamsung 850 Pro 256 GB/li liHITACHI 500 GB/li liSuperDrive removed/li /ul  SystemLog of a freeze:  precode01.11.14 21:03:08,000 kernel[0]: sleep   01.11.14 21:03:08,000 kernel[0]: Wake reason: EHC2   01.11.14 22:35:05,000 kernel[0]: AirPort_Brcm43xx::powerChange: System Wake - Full Wake/ Dark Wake / Maintenance wake   01.11.14 22:35:05,000 kernel[0]: Previous sleep cause: 5   01.11.14 22:35:05,000 kernel[0]: The USB device HubDevice (Port 1 of Hub at 0xfa000000) may have caused a wake by issuing a remote wakeup (2)   01.11.14 22:35:05,000 kernel[0]: AppleThunderboltGenericHAL::earlyWake - complete - took 1 milliseconds   01.11.14 22:35:05,000 kernel[0]: The USB device BRCM2070 Hub (Port 1 of Hub at 0xfa100000) may have caused a wake by issuing a remote wakeup (3)   01.11.14 22:35:05,000 kernel[0]: TBT W (1): 0 [x]   01.11.14 22:35:05,000 kernel[0]: AppleUSBMultitouchDriver::validateChecksum - 512-byte packet checksum is incorrect (expected 0x47b, checksum bytes were 0xdead)   01.11.14 22:35:05,000 kernel[0]: wlEvent: en1 en1 Link DOWN virtIf = 0   01.11.14 22:35:05,000 kernel[0]: AirPort: Link Down on en1. Reason 8 (Disassociated because station leaving).   01.11.14 22:35:05,000 kernel[0]: en1::IO80211Interface::postMessage bssid changed   01.11.14 22:35:05,000 kernel[0]: en1: 802.11d country code set to 'X3'.   01.11.14 22:35:05,000 kernel[0]: en1: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 120 124 128 132 136 140   01.11.14 22:35:05,140 sharingd[250]: 22:35:05.140 : SDStatusMonitor::kStatusWirelessPowerChanged   01.11.14 22:35:05,147 discoveryd[48]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.8.8 Port 53 errno 50, fd 46, ErrLogCount 1 ResolverIntf:0   01.11.14 22:35:05,148 discoveryd[48]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.8.8 Port 53 errno 50, fd 46, ErrLogCount 2 ResolverIntf:0   01.11.14 22:35:05,148 discoveryd[48]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.8.8 Port 53 errno 50, fd 46, ErrLogCount 3 ResolverIntf:0   01.11.14 22:35:05,148 discoveryd[48]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.8.8 Port 53 errno 50, fd 46, ErrLogCount 4 ResolverIntf:0   01.11.14 22:35:05,149 discoveryd[48]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.8.8 Port 53 errno 50, fd 46, ErrLogCount 5 ResolverIntf:0   01.11.14 22:35:05,153 UserEventAgent[16]: Captive: CNPluginHandler en1: Inactive   01.11.14 22:35:05,154 configd[25]: network changed: v4(en0:192.168.178.30, en1-:192.168.178.22) DNS* Proxy SMB   01.11.14 22:35:05,156 discoveryd[48]: Basic Warn DD_Warn: Corrupt NSEC RDATA size   01.11.14 22:35:05,154 networkd[156]: +[NETLedBelly stopFastFail] Clearing ledbelly failure cache   01.11.14 22:35:05,000 kernel[0]: The USB device Bluetooth USB Host Controller (Port 3 of Hub at 0xfa110000) may have caused a wake by issuing a remote wakeup (3)   01.11.14 22:35:05,000 kernel[0]: full wake promotion (reason 1) 241 ms   01.11.14 22:35:05,214 watchdogd[200]: [watchdog_daemon] @( pm_callback) - ref=0x0 msg_type=0xe0000320 msg=0x0   01.11.14 22:35:05,234 hidd[68]: MultitouchHID: device bootloaded   01.11.14 22:35:05,446 discoveryd[48]: Basic Bonjour,Warn Warning: IPv6 listener multicast send failed en1, 49   01.11.14 22:35:05,560 sharingd[250]: 22:35:05.559 : SDStatusMonitor::kStatusWirelessPowerChanged   01.11.14 22:35:05,588 sharingd[250]: 22:35:05.588 : SDStatusMonitor::kStatusWirelessPowerChanged   01.11.14 22:35:05,611 sandboxd[283]: ([29]) airportd(29) deny file-read-metadata /Library/Preferences/com.apple.security-common.plist   01.11.14 22:35:05,620 sandboxd[283]: ([29]) airportd(29) deny file-read-data /Library/Preferences/com.apple.security-common.plist   01.11.14 22:35:05,000 kernel[0]: MacAuthEvent en1 Auth result for: 58:6d:8f:ae:80:e9 MAC AUTH succeeded   01.11.14 22:35:05,000 kernel[0]: wlEvent: en1 en1 Link UP virtIf = 0   01.11.14 22:35:05,000 kernel[0]: AirPort: Link Up on en1   01.11.14 22:35:05,000 kernel[0]: en1: BSSID changed to 58:6d:8f:ae:80:e9   01.11.14 22:35:05,000 kernel[0]: en1::IO80211Interface::postMessage bssid changed   01.11.14 22:35:05,000 kernel[0]: AirPort: RSN handshake complete on en1   01.11.14 22:35:06,666 WindowServer[137]: CGXDisplayDidWakeNotification [3660674748260]: posting kCGSDisplayDidWake   01.11.14 22:35:06,667 WindowServer[137]: handle_will_sleep_auth_and_shield_windows: Reordering authw 0x7f8e4d73e0e0(2004) (lock state: 3)   01.11.14 22:35:06,667 WindowServer[137]: handle_will_sleep_auth_and_shield_windows: err 0x0   01.11.14 22:35:06,926 networkd[156]: +[NETLedBelly stopFastFail] Clearing ledbelly failure cache   01.11.14 22:35:06,927 configd[25]: network changed: v4(en0:192.168.178.30) DNS* Proxy SMB   01.11.14 22:35:06,928 UserEventAgent[16]: Captive: [CNInfoNetworkActive:1709] en1: SSID 'Desperate Housewifi' making interface primary (cache indicates network not captive)   01.11.14 22:35:06,929 UserEventAgent[16]: Captive: CNPluginHandler en1: Evaluating   01.11.14 22:35:06,934 UserEventAgent[16]: Captive: en1: Not probing 'Desperate Housewifi' (cache indicates not captive)   01.11.14 22:35:06,935 UserEventAgent[16]: Captive: CNPluginHandler en1: Authenticated   01.11.14 22:35:06,936 configd[25]: network changed: v4(en0:192.168.178.30, en1!:192.168.178.22) DNS Proxy SMB   01.11.14 22:35:06,943 networkd[156]: +[NETLedBelly stopFastFail] Clearing ledbelly failure cache   01.11.14 22:35:06,000 kernel[0]: en1: BSSID changed to 58:6d:8f:ae:80:e9   01.11.14 22:35:06,954 sharingd[250]: 22:35:06.953 : SDStatusMonitor::kStatusWirelessPowerChanged   01.11.14 22:35:08,023 discoveryd[48]: Basic Bonjour Failed to delete registration recordId=21 error=4   01.11.14 22:35:12,885 discoveryd[48]: Basic DNSResolver UDNSServer:: PowerState is Wakeup   01.11.14 22:35:14,000 kernel[0]: Ethernet [AppleBCM5701Ethernet]: Link up on en0, 1-Gigabit, Full-duplex, Symmetric flow-control, Debug [796d,2301,0de1,0300,cde1,3c00]   01.11.14 22:35:14,772 ntpd[749]: wake time set +0.196458 s   01.11.14 22:35:14,850 com.apple.xpc.launchd[1]: (com.apple.imfoundation.IMRemoteURLConnectionAgent) The _DirtyJetsamMemoryLimit key is not available on this platform.   01.11.14 22:35:14,886 com.apple.iCloudHelper[799]: objc[799]: Class FALogging is implemented in both /System/Library/PrivateFrameworks/FamilyCircle.framework/Versions/A/FamilyCircle and /System/Library/PrivateFrameworks/FamilyNotification.framework/Versions/A/FamilyNotification. One of the two will be used. Which one is undefined.   01.11.14 22:35:14,898 com.apple.xpc.launchd[1]: (com.apple.imfoundation.IMRemoteURLConnectionAgent) The _DirtyJetsamMemoryLimit key is not available on this platform.   01.11.14 22:35:15,561 CalendarAgent[216]: [com.apple.calendar.store.log.caldav.coredav] [Refusing to parse response to PROPPATCH because of content-type: [text/html; charset=UTF-8].]   01.11.14 22:35:15,616 CalendarAgent[216]: [com.apple.calendar.store.log.caldav.coredav] [Refusing to parse response to PROPPATCH because of content-type: [text/html; charset=UTF-8].]   01.11.14 22:35:16,181 CalendarAgent[216]: [com.apple.calendar.store.log.caldav.coredav] [Refusing to parse response to PROPPATCH because of content-type: [text/plain; charset="utf-8"].]   01.11.14 22:35:16,334 CalendarAgent[216]: [com.apple.calendar.store.log.caldav.coredav] [Refusing to parse response to PROPPATCH because of content-type: [text/plain; charset="utf-8"].]   01.11.14 22:35:20,013 com.apple.iCloudHelper[799]: AOSKit WARN: APS timeout encountered (cxn initialization)   01.11.14 22:35:20,013 com.apple.iCloudHelper[799]: AOSKit WARN: Failed to get response from APSConnection's initialization method(s)   01.11.14 22:35:26,000 kernel[0]: en1: 802.11d country code set to 'DE'.   01.11.14 22:35:26,000 kernel[0]: en1: Supported channels 1 2 3 4 5 6 7 8 9 10 11 12 13 36 40 44 48 52 56 60 64 100 104 108 112 116 120 124 128 132 136 140   01.11.14 22:35:26,363 AddressBookSourceSync[797]: Stream 0x7ff1e3628fb0 is sending an event before being opened   01.11.14 22:35:26,419 com.apple.xpc.launchd[1]: (com.apple.imfoundation.IMRemoteURLConnectionAgent) The _DirtyJetsamMemoryLimit key is not available on this platform.   01.11.14 22:35:31,000 kernel[0]: MacAuthEvent en1 Auth result for: 58:6d:8f:ae:80:e9 MAC AUTH succeeded   01.11.14 22:35:31,000 kernel[0]: wlEvent: en1 en1 Link UP virtIf = 0   01.11.14 22:35:31,000 kernel[0]: AirPort: RSN handshake complete on en1   01.11.14 22:35:31,000 kernel[0]: wl0: Roamed or switched channel, reason #8, bssid 58:6d:8f:ae:80:e9   01.11.14 22:35:31,000 kernel[0]: en1: BSSID changed to 58:6d:8f:ae:80:e9   01.11.14 22:35:31,000 kernel[0]: en1::IO80211Interface::postMessage bssid changed   /code/pre  <answer154343> OK, as step one we need to clean your Network set up.  It is generating to many Errors.  Disable Sharing and iCloud and Bonjour.  Try the simple approach by Deleting all your network profiles and then reboot without them.  Check your connection quality to the SSID 'Desperate Housewifi'  Next is to set a new network profiles (connections)- reboot again to see if it works.  <answer159533> SSD: If you did install the Trim command, undo that, it will conflict in Yosemite. On a modern SSD it is counterproductive because of timing issues at the file level access. Perhaps it is best to do a OS restore from the Recovery Partition, do not use TimeMachine for this. About Hibernatemode: even if you set it to 0, a sleepimage will be made (size about 1.2GB in Mavericks and Yosemite). After setting the Hibernate mode to 0, you have to delete the existing sleepimage, then create a new one with the Touch command, and then lock this new sleepimage (size 0kB)with chflags command so that a write command will fail.  <answer247347> I have had this problem for a long time, but here is an excellent workaround.   ol liOpen Keychain Access/li liOpen Preferences/li liCheck the option: "Show keychain status in menu bar"/li /ol  This will put a small open lock in your menu bar. This will be useful because the mouse is working during the freeze.  So next time your Mac freezes, just "click" on the lock, and select the option to "Lock Screen". This will take you to login screen and allow to type-in your password.  <comment181598> Hi, give us some time to read your Console log, for now it is your WiFi, it is your Bluetooth hub and .... <comment181607> Okay I deleted all network connections, rebooted and added ethernet and wifi again and rebooted again. Here is the connection quality to my wifi http://imgur.com/msq3jqS  I also logged out of iCloud now. How can i disable Bonjour and Sharing? <comment181609> File sharing is already disabled. Just checked. <comment181610> Thanks, that connection looks fine. Did I forget to say to disable Bluetooth and disconnect external devices? Sometimes it is enough if restarting in safe mode to fix some basic issues. Your Network is not doing well but not sure why. It first uses the X3 country code then it uses the DE country code? <comment181611> Okay I disabled Bluetooth now and unplugged everything but the MagSafe connector. My Network has 2 Routers that may be the problem. Internet comes from a FritzBox but all the devices are connected to a Cisco Router (Bridged Mode). Could that be the problem?  I will try to do a safe boot now and will check if it still freezes there with all the settings turned off. <comment181614> I booted in safe mode now and disabled all the settings. I put my MacBook to sleep and went away for a couple of minutes and was able to login again. Here is the log: http://pastebin.com/h8Tmw1pE <comment181615> OK this time we see at the beginig this "error 0xe00002db opening hibernation file" you know system creates a hibernate file to use when waking up. Yours is kaput.) lets try to fix that with Disk Utility. First run Verify Disk, then run verify permissions the run repair permissions. <comment181617> OK another question. are you using the Symantec PGP Encryption? I just read the PGP could be the cause for the hibernation file not been saved properly. <comment181635> Never heard of that before. I don't have FileVault enabled if thats the same. <comment181651> Ok i just booted the restore partition and verified and repaired my disk. I will let the MacBook sleep over night without any external devices and see if it wakes up again in the morning. Thanks for the help! <comment181686> Okay, I turned off bluetooth and wifi and disconnected every cable tonight and put the macbook to sleep. I had no problems waking up the device in the morning so it has to be connected to one of the external devices or bluetooth/wifi right?  Should I try to add one device after the another and see if it sleeps okay with it? <comment181687> Also could you check if the hibernation file is created correctly? Could that also be cause that it's working now? I really don't know at the moment. Here is the log: http://pastebin.com/V6W0UHkY <comment181757> Okay it just happened again although it was working with same external devices connected prior to this. I tried to wake the Macbook in Clamshell mode with the lid closed.  This time I got really excessive log output: http://pastebin.com/hJs9CGHF <comment195435> "It will conflict with Yosemite" – Any sources on this? I'd go so far as to call this incorrect. Works for me. As an alternative to locking the `sleepimage`, one can also create a symbolic link to the bitbucket (`sudo ln -s /dev/null /var/vm/sleepimage`) so that no bytes are actually written to the SSD on sleep.
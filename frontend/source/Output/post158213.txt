Programmatically mark file(s) to be ignored by Time Machine <body> I'm writing some code that produces a kind of package file, however it includes a kind of working database that isn't strictly necessary (as it can be re-computed) but is best kept bundled with the package file.  Anyway, the problem is that the database can get quite large, and often changes are fairly small, this means that these databases are always being backed up by Time Machine, which is very wasteful as they don't really add anything important to back-ups.  I can't really ask the end-users to mark these databases manually for every package in their Time Machine preferences, especially if they move the package file around and forget. But I also don't want these databases to be waisting a bunch of space in their Time Machine backups, as it could cause premature pruning of old backups with no useful benefits.  I've already considered moving the databases into the user's code~/Library/Caches/code folder but this is a lot more complicated to manage. The database is also useful within the package as it eliminates a somewhat lengthy pre-compute step.  So; is there any other means by which I can tell Time Machine to ignore a file or folder? Ideally something I can do via script, but if it requires a small program it's not a huge issue.  <answer158215> There is a C function 'CSBackupSetItemExcluded' you can use to tell Time Machine to exclude a file.  You can find it documented here...  https://developer.apple.com/library/mac/documentation/MacOSX/Reference/Backup/#//apple_ref/c/func/CSBackupSetItemExcluded  <comment186006> Do you mean '~/Library/Caches'? <comment186007> Does this file change as the app is run - if so then it should not be in the package and must be elsewhere <comment186008> there's `sudo tmutil addexclusion ~/myFolder` though idk if you can do any variation on that from shellscript etc. <comment186010> As written right now the question revolves primarily about design and coding issues, both of which are off-topic on AD (which focuses on end user problems). OTOH having a scripting solution to exclude files from TM might be of general interest, so if you can rewrite the question to focus on the scripting approach this would be great. <comment294413> Use sticky exclusion via `tmutil addexclusion file` (without `-p`) seem not work if files are inside a package/bundle. You can check with exclusion state with `tmutil isexcluded file` (should return "[Excluded]    file")
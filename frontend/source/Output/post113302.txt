Can I configure my Macbook to unmount all external drives when I close the lid? <body> I have a new 13" Macbook Pro running Mavericks. This computer is connected to an external USB drive which I use for my Time Machine backups and for external storage Time Machine backups occur a few times per day and the drive is largely inactive for most of the day.  When I am rushing to a meeting, to the server room or I'm heading home at the end of the day, I would like to do the following:  ol liClose the lid on my Macbook, quickly./li liHave the Mac automatically unmount all external drives, as quickly as possible, and forcibly if required. I'm willing to wait a few seconds for the all of lights to turn off./li /ol  Is there a way to get the computer to automatically unmount all external drives as soon as I close the lid on my Mac?   Currently if I forget to unmount the external drives, my Mac chastises me later with the error "The disk was not ejected properly. If possible, always eject a disk before unplugging it or turning it off."  I know it is best practice to always unmount a disk cleanly before removing the disk interface, but I'm looking for an automated solution. I am not very concerned if one Time Machine backup image is interrupted or corrupted, as one of the next subsequent backups will work and I very rarely ever need to restore from backup. Since the filesystem is a journaling filesystem, the journal transparently takes care of many other filesystem corruption errors.  <answer113304> There are a number of apps that can run scripts on sleep:  ul liSleepWatcher — simple yet effective./li liScenario — can also run scripts at other times such as after wake./li liControlPlane — more customisable, lets you run scripts after many different events./li /ul  A bash script such as the following will unmount all specified disks:  precodeVOLUMES="/Volumes/drive1 /Volumes/drive2 /Volumes/drive3" for volume in $VOLUMES ; do [ -d $volume ] &amp;&amp; umount -f $volume done /code/pre  To unmount all volumes except code//code:  precodeumount -A /code/pre  or more cleanly…  precodeosascript -e 'tell application "Finder" to eject (every disk whose ejectable is true)' /code/pre  <answer113322> I'll elaborate on @grgarside's answer.  I'm using SleepWatcher   ol liInstall from ports:  precodesudo port install sleepwatcher /code/pre/li liRead the manual at code/opt/local/share/doc/sleepwatcher/ReadMe.rtf/code and via codeman sleepwatcher/code. Read this old Machint from Macworld: Cure an insomniac Mac with SleepWatcher System. According to the Machint I can simply add code to code~/.sleep/code and code~/.wakeup/code , or to the global files code/etc/rc.sleep/code &amp; code/etc/rc.wakeup/code./li liPlace the following code in code~/.sleep/code:  precodeosascript -e 'tell application "Finder" to eject (every disk whose ejectable is true)' /code/pre/li liActivate sleepwatcher. Change code&lt;key&gt;Disabled&lt;/key&gt;&lt;true/&gt;/code to code&lt;key&gt;Disabled&lt;/key&gt;&lt;false/&gt;/code.  precodesudo vim /Library/LaunchDaemons/org.macports.sleepwatcher.plist sudo launchctl load /Library/LaunchDaemons/org.macports.sleepwatcher.plist sudo launchctl list | grep sleepwatcher /code/pre/li liVerify:  precodeps aux |grep [s]leepwatcher root              421   0.0  0.0  2459568   1012   ??  Ss    2:45PM   0:00.00 /opt/local/bin/daemondo --label=sleepwatcher --start-cmd /opt/local/sbin/sleepwatcher --verbose --sleep /opt/local/etc/rc.sleep --wakeup /opt/local/etc/rc.wakeup ; --pid=exec root              422   0.0  0.0  2460656   1888   ??  S     2:45PM   0:00.17 /opt/local/sbin/sleepwatcher --verbose --sleep /opt/local/etc/rc.sleep --wakeup /opt/local/etc/rc.wakeup /code/pre/li liDone!/li /ol  <answer115820> Another option is Jettison (available through the App Store) - that's what I've been using for a couple of months now and haven't had any problems at all.  It recently gained the option of automatically remounting still-connected disks when you wake from sleep.  The newer v1.3.0 (direct download only - I assume it's on its way to the App Store) costs more and they explain why this is in their FAQ.  If I read that correctly, one could buy the App Store version for two dollars and then upgrade to the direct-download version for free, but I haven't confirmed or tried this.  Not exactly expensive at either price, but not free like the SleepWatcher option seems to be.  <comment132958> I'm trying SleepWatcher right now, thanks! <comment132988> I could use some review on this answer to ensure that I am activating the `.plist` thing correctly. <comment133017> Followed it step-by-step, but it doesn't work for me. After sleep I unplug my external hard-drive, my MacBook5,3 wakes up and when I open the lid I get the unproperly ejected disk error. <comment133755> This works for me, but only sometimes. Not sure why. <comment133756> However, I also get the error "The disk was not ejected properly. If possible, always eject a disk before unplugging it or turning it off." while the machine is active, with the lid open, while I'm using it also. It seems that Mavericks has a bug with sporadic errors regarding USB-attached disks. <comment133761> I'm still on ML, so it's not Mavericks specific, and I don't get the errors when the machine is active. I noticed that the .sleep script sometimes gets executed at wake, as if it doesn't get enough time to do so when it's going to sleep. <comment135531> Since logging out of your account unmounts all drives, is there a significant downside to just logging out? Also, I believe the OS flushes all filesystem IO writes, so the chance of an actual problem with ejection during sleep seems quite low to me - doubly so for journaled filesystems. <comment146212> I have now disabled this as it doesn't seem to work consistently. In addition, I'm running into a Mavericks "sleep wake failure" crashes and I'm trying to see if I my sleepwatcher script was the culprit. <comment200698> Also a good guide here: http://damacy.net/post/9377132648/automatically-unmount-external-drives-on-sleep
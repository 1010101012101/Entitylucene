Z shell history broken on OS X Mavericks <body> I can't get Z shell's history working at all.  codecat .zshrc/code :  precodeHISTSIZE=1000 SAVEHIST=1000 HISTFILE='~/.shell_history' setopt APPEND_HISTORY EXTENDED_HISTORY INC_APPEND_HISTORY /code/pre  Whatever the terminal emulator, number of terminal restarts et cætera — nothing works.   How can I get it working, please ?  <comment267127> Is .zshrc read correctly by the shell (are the enc vars set)? <comment267709> @patrix 'enc vars' ? I don't know but I think it should — since I write all my files as U.T.F.-8, I wonder whether this is or not a problem. Or maybe you were talking about something else. <comment267712> "Env vars". Are the variables you've defined above set as such in the shell (idea is to use this to check whether the file gets read at all)? <comment267725> @patrix That was the problem. Thank you.
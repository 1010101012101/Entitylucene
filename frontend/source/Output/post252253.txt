Not able to clear History in Safari using AppleScript in OS X El Capitan <body> I have been using below script to clear the Safari history from selenium test in OS X Yosemite . I have upgraded to OS X El Capitan and now the script won't work.  Error returned : Can't get "Clear History" button  precodetell application "Safari" to activate tell application "System Events"     tell process "Safari"         tell menu bar 1             tell menu bar item "History"                 tell menu 1                     click menu item "Clear History…"                 end tell             end tell         end tell         delay 1 -- optional         click button "Clear History"     end tell end tell /code/pre  <answer252255> In OS X El Capitan, when clicking Clear History… on the History menu, it causes Clear History to appear either as a modal Dialog Box or as a focused Sheet on a window, as illustrated in the images at the bottom of this answer, and the AppleScript emcode/em below handles it in either case scenario.   The emcode/em is written with the assumption it appears as a Dialog Box and if it fails to process as a Dialog Box, then the codeon error/code emhandler/em processes it as a Sheet.  This emcode/em, directly below, essentially replicates what your emcode/em did in OS X Yosemite, although adjusted for use in OS X El Capitan, sans the codedelay/code command which you can add if you want.  hr  pre class="lang-none prettyprint-override"codetell application "Safari" to activate tell application "System Events"         click menu item "Clear History…" of menu 1 of menu bar item "History" of menu bar 1 of process "Safari"         try                 click button "Clear History" of front window of process "Safari"             on error         try             click button "Clear History" of sheet 1 of window 1 of process "Safari"                     end try     end try end tell /code/pre  hr  To interact with the emlist/em on the Clear pop up button, for how much of the History to clear, the following emcode/em example address it.  Because it can appear two different ways, it unfortunately requires two separate sets of similar emcode/em and both sections of emcode/em surrounding the "Clear ..." list must be manually maintained and in sync if/when using that emcode/em segment.  strongNote:/strong There are 10 lines of emcode/em commented out, preceded by code--/code, pertaining to the "Clear ..." list, 5 lines in each grouping of emcode/em. You can change the current emvalue/em for one of 4 choices by uncommenting the codeclick pop up button 1 of window 1 of process "Safari"/code and codeclick pop up button 1 of sheet 1 of window 1 of process "Safari"/code lines of emcode/em, the one in each section, and then only 1 of the other 4 at a time, the similar one in each section. This means only 4 lines total are to be uncommented, 2 in each section, 1 to click the popup button and the other for how much of the History you want cleared. The comments I've added, preceded by code-- #/code, within the emcode/em should be self-explanatory.  pre class="lang-none prettyprint-override"codetell application "Safari"     activate end tell  tell application "System Events"      click menu item "Clear History…" of menu 1 of menu bar item "History" of menu bar 1 of process "Safari"      try         -- #          -- # NOTE: Keep this block of commented out code in sync with the similar block below!         -- #          -- # If you want to change the value of the "Clear ..." list, then uncomment the line of code directly below this comment.         -- #          -- click pop up button 1 of window 1 of process "Safari"         -- #              -- # If you've uncommented the line of code directly above this comment, then uncomment only 1 of the 4 lines of code below.         -- #          -- click menu item "the last hour" of menu 1 of pop up button 1 of window 1 of process "Safari"         -- click menu item "today" of menu 1 of pop up button 1 of window 1 of process "Safari"         -- click menu item "today and yesterday" of menu 1 of pop up button 1 of window 1 of process "Safari"         -- click menu item "all history" of menu 1 of pop up button 1 of window 1 of process "Safari"         -- #           click button "Clear History" of front window of process "Safari"      on error         try             -- #              -- # NOTE: Keep this block of commented out code in sync with the similar block above!             -- #                  -- # If you want to change the value of the "Clear ..." list, then uncomment the line of code directly below this comment.             -- #              -- click pop up button 1 of sheet 1 of window 1 of process "Safari"             -- #                  -- # If you've uncommented the line of code directly above this comment, then uncomment only 1 of the 4 lines of code below.             -- #              -- click menu item "the last hour" of menu 1 of pop up button 1 of sheet 1 of window 1 of process "Safari"             -- click menu item "today" of menu 1 of pop up button 1 of sheet 1 of window 1 of process "Safari"             -- click menu item "today and yesterday" of menu 1 of pop up button 1 of sheet 1 of window 1 of process "Safari"             -- click menu item "all history" of menu 1 of pop up button 1 of sheet 1 of window 1 of process "Safari"             -- #               click button "Clear History" of sheet 1 of window 1 of process "Safari"          end try     end try end tell /code/pre  hr  This as coded runs very fast, however, you can insert some codedelay/code emcommands/em, where appropriate, if you want to see better what's happening as the History is being cleared.  hr  In the images below, one with the red arrow is pointing at what the 10 lines of emcode/em commented out, preceded by code--/code, pertaining to the "Clear ..." list is about. To change e.g., "the last hour" to one of the other emvalues/em, this is where you uncomment the appropriate commented lines of emcode/em.  strongAs a Sheet:/strong img src="https://i.stack.imgur.com/PvdqV.png" alt="enter image description here"  strongAs a Dialog Box:/strong  img src="https://i.stack.imgur.com/D2SgI.png" alt="enter image description here"  <comment313889> @user3290656, I'll assume you understood the _code_ that was commented out and how to use it, if needed/wanted. If not, just ask. <comment314134> I understood the code. Sure.  My Scenario was to clear all the history.  It was straight forward. Your code works perfectly.  Also , I am facing one more issue.  Sometime the history sheet we get as pop up.  How do I handle that scenario <comment314767> @user3290656, I've updated, actually rewritten, my answer to your question. It now handles Clear History appearing as either a modal Dialog Box or a focused Sheet. <comment315162> Is my updated answer working for you? <comment372345> Hi: thanks for this script. However I get an error saying that „menu bar item "History" of menu bar 1 of process "Safari"“ cannot be read (-1728). What is the source of this? Thx for helping!
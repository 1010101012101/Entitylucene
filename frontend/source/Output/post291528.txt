Remove delimiter section from filename with Automator <body> I'm creating an automator script that copies files from one folder to another and then runs an AppleScript to rename the file by splitting via delimiter and resaving with the second item. For example, using file names of:  ul lia new file$SG789.jpg/li lifile_2$123-456.jpg/li lifile_name$LG123.jpg/li lithis_file$558-432.jpg/li /ul  I'm trying to split the filename by the "$" dollar sign to create the following new files:  ul liSG789.jpg/li li123-456.jpg/li liLG123.jpg/li li558-432.jpg/li /ul  However, when I run the script, I get the following error:  emThe action “Run AppleScript” encountered an error. Can’t get item 2 of alias "Macintosh HD:Users:downloads:Archive:a new file$SG789-PROC.jpg"./em  This is the code I'm running in the Run AppleScript workflow:  precodeon run {input, parameters}     set AppleScript's text item delimiters to "$"     repeat with anItem in input         set fileName to item 2 of anItem         return fileName     end repeat end run /code/pre  What am I doing wrong?  <answer291553> You're doing many things wrong:  ol liIf you set AppleScript's text item delimiters to other then its default code{}/code, always reset it to code{}/code when finished with the temporary delimiter./li licodeinput/code is a codelist/code and as such you should codereturn/code a codelist/code and do it outside of the coderepeat/code emloop/em. /li licodeitem 2/code within the coderepeat/code emloop/em needs to be codetext item 2/code, stronghowever/strong, codeanItem/code within the coderepeat/code emloop/em in this use case must also be codetext/code, so it needs to be code(anItem as text)/code. /li licodefileName/code needs to be a codelist/code because you are processing a codelist/code and you need to codereturn/code a codelist/code./li /ol  That said, here's an example Automator workflow with an AppleScript emaction/em coded in an example manner of how I'd write the emcode/em. Note though, that while it returns a list of the filenames after the code$/code delimiter, I'm not sure what good it's going to do you as it all depends on additional emcode/em not currently present in this example.  img src="https://i.stack.imgur.com/RM5v4.png" alt="Example Automator Workflow"  AppleScript emcode/em for the Run AppleScript emaction/em:  precodeon run {input, parameters}     try         set AppleScript's text item delimiters to {"$"}         set theFileNameList to {}         repeat with thisItem in input             set the end of theFileNameList to text item 2 of (thisItem as text)         end repeat         set AppleScript's text item delimiters to {}         return theFileNameList     on error eStr number eNum         display dialog eStr &amp; " number " &amp; eNum buttons {"OK"} ¬             default button 1 with icon caution         set AppleScript's text item delimiters to {}         return     end try end run /code/pre  <comment368095> Ah! What you pointed out makes sense. This is my first foray into AppleScript and I was cobbling together what I understood from other examples. You mentioned you're not sure what good it's going to do me to get back the list. The next step in the workflow is a Rename Text, since I then need to add the same prefix to all files. Would returning the list be correct or is there something I'm missing? <comment368123> @Yazmin, Since you did not include you entire Automator workflow, what type of workflow it is and all relevant information and the question you asked, "_What am I doing wrong?_" has been answered, I'd suggest you mark my answer appropriately as either helpful (an up-vote) and or the accepted answer (click the check mark), then in a new question continue your quest to do whatever it is you're actually trying to do. You said "_The next step in the workflow is a Rename Text_" and I'm unaware of that Automator _action_. <comment368124> @Yazmin, I said "_I'm not sure what good it's going to do you as it all depends on additional code not currently present in this example._" because this answer was meant to point out what was wrong in your code, not fix a broken workflow what has not been presented in it entirety. You certainly can add additional code, as needed/required to do more that what it's presently doing but in all fairness that's outside the scope of the question you asked, "_What am I doing wrong?_" in reference to the AppleScript _code_ in your Run AppleScript _action_ that you presented. <comment368125> @Yazmin, You asked "_Would returning the list be correct or is there something I'm missing?_". What's returned is dependent on what's needed and how it's going to be used and without the complete picture I can't say and why you should start a new question with includes the entire Automator workflow, type of workflow, all relevant settings and information, etc.
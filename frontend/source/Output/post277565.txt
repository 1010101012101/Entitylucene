Plugging in external monitor "logs out" (crashes?) user session <body> When plugging a second external monitor, macOS Sierra "logs out" (crashes?) user session. I get presented with the login window. No error message.  It's not just "show login window", because all apps load anew after logging in (which takes a very loooong time, killing my productivity).  macOS Sierra 10.12.3 (16D32).  DisplayPort external monitors.  MacBook Pro Retina Late 2013, 13".  I don't recall this happening on El Capitan. I upgraded to sierra yesterday.  There is no error message, like "was not closed normally", therefore I believe this is not a duplicate of After Installing El Capitan I Will be Logged Out Frequently (and mine is about Sierra).  I do not see anything interesting in Console logs (although maybe someone could point me to where to look).  What could be causing this? How to prevent this from happening?  What diagnostics can I do?  Edit: Some other considerations:  ol liI was fiddling with SwitchResX for custom display modes (HiDPI on external displays). As described in: 1280x720 HiDPI resolution for 2560x1440 monitor/li lithere is no corrupted graphics like in the other question(s)/li /ol  Edit 2: The main monitor is: LG 27UD88-W Monitor 27" UHD 4K USB-C USB 3.0, connected via DisplayPort  Edit 3: The problem also happens when I unplug the monitor (or switch the monitor, in its own menu, to use another input cable)  Edit 4: Also posted on Apple support: https://discussions.apple.com/message/31686056  Edit 5: Also uninstalled SwitchResX (via their menu). Problem still happens!  <comment354940> Please, anyone? Very often, when I unplug my external monitor, the whole session crashes. This is killing my productivity. <comment354942> I also posted it on apple community forum: https://discussions.apple.com/message/31686056#31686056 <comment355435> Edit 5: Also uninstalled SwitchResX (via their menu). Problem still happens! <comment355438> Try in Safe Mode.  I like to begin diagnostics by starting at the bare minimum.  If the problem goes away, it will most likely be something that is not part of macOS (3rd party).  If it happens in Safe Mode, then it's an issue with the OS itself.  If that's the case, try installing an booting from a clean install (an external drive will suffice since this is for diagnostic purposes.) <comment355444> Thanks. Tried safe mode. Holding shift while restarting. Though it does not boot at all. Hangs on 100% progress bar after many minutes of waiting. <comment355446> But found a workaround: first disconnecting the Dell 27" 2560x1440 monitor, before disconnecting the LG 27" 4k monitor. Looks like the system causes problems when LG is being disconnected while the Dell is also connected.  Suggesting that the culprit is actually the LG somehow. Which could make sense, since the problems started more-or-less when I started using the LG (which was some days before the time when I upgraded to Sierra). <comment355449> Though connecting LG while Dell is already connected, does NOT cause crash. Only *disconneting* LG while dell is connected. <comment355485> Just to confirm, this issue _only_ occurs if you disconnect the LG monitor first? Otherwise you have no other symptoms? <comment355497> Thanks for asking. I think this is true. Only having the problem if LG monitor is being disconnected while Dell is connected. <comment355628> Managed to boot to safe mode. Problem seems to happen the same. BUT the monitors actually do not display anything (they are black). Though unplugging LG while Dell is connected, seems to make me go to login screen (crashes session).
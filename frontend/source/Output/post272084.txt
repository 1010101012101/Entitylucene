Power source event trigger <body> Late 2014 Mac mini running Sierra connected to an APC BackUPS Pro 900. No special software has been installed to support the UPS.   At the moment I run codepmset/code every minute to determine the power source, and trigger actions based on the results.   However, a dialog window pops up as soon as the Mac switches to backup power. I'm wondering if there is any way I can trigger based on anything else, given that macOS seems to be able to do so.   <answer272087> Yes, using third party tools, like Power Manager, you can trigger scripts based on your UPS state.  img src="https://i.stack.imgur.com/Gkhm3.jpg" alt="Power Manager used to script a shut down when 30% of UPS left"  Thirty party tools can monitor the UPS state through the codeIOKit/code and receive callbacks on state changes; thus avoiding polling.  If you are comfortable with shell script or AppleScript, Power Manager provides hooks for scripting your UPS in these languages.  I wrote Power Manager, so feel free to ask technical questions.  <answer272108> In codeSystem Preferences &gt; Energy Saver/code, you will find an additional tab labeled UPS, which allows you to set specific Shutdown Options...  img src="https://i.stack.imgur.com/QSRdY.png" alt="enter image description here"  <comment341989> That is some serious scripting support. Appreciate the recommendation. However, it's not worth it for me to make this investment in software. I might see if I can build a simple command line tool using IOKit, thanks for that recommendation. <comment342078> Using that, thanks. But I want to run custom scripts that trigger when power switches to UPS and back to grid.
El Capitan "Create NAT64 Network" - connection issues <body> I am trying to test apps for IPv6 according to Apple's documentation at Supporting IPv6 DNS64/NAT64 Networks. I have difficulties connecting from the iPad to my emapp/em server.  strongMy Network Layout:/strong  img src="https://i.stack.imgur.com/NGShp.png" alt="My Network Layout"  The Fritzbox has IPv6 support turned on with 6to4 enabled, because my provider does not have IPv6. I ran a set of tests with IPv6 turned off. The result was the same (see list of test items below).  emmacmedia/em runs El Capitan and runs iTunes serving as a media server.  emmacsrv/em runs El Capitan and OS X Server 5 with DNS, DHCP, File Sharing, Web, Wiki.  strongMy Test Process:/strong  I can set up the NAT64 network as described in the Apple document (in "Settings" hold option key, press "Sharing", then "Internet Sharing" and release option key).  I ran some tests, one of them looked like this:  ul liturn on NAT64 on emmacsrv/em/li liin iPad Air WLAN settings select NAT64 network/li lithe blue checkmark appears in front of the network name/li lithe blue i-icon delivers this:  ul liIP 169.254.55.58 / mask 255.255.0.0/li liDNS 2001:2:0:aab1::1/li liall other fields empty/li /ul/li liin Safari on iPad Air:  ul licodehttps://www.google.com//code - takes a long time, eventually a message like: "Could not open the page, because the server does not respond any more."/li licodehttp://macsrv:8989//code - could not find server/li licodehttp://macsrv.local:8989//code - "It works!" (Just looked at the logs: The access in apache2 was logged with the IPv6 address of the en0 interface of emmacsrv/em)/li licodehttp://192.168.1.11:8989//code - Error like "Could not open page, because the iPad is not connected to the internet." (192.168.1.11 is emmacsrv/em)/li licodehttp://[2001:2::aab1:129a:ddff:fe4f:38f8]:80/code - takes a long time, eventually a message like: "Could not open the page, because the server does not respond any more." (like google.com; the address is the IPv6 address of the en0 interface on emmacsrv/em)/li licodehttp://192.168.1.115:8088//code - Error like "Could not open page, because the iPad is not connected to the internet."/li licodehttp://app.intra.admadic.com:8088//code - could not find server (this is the same as 192.168.1.115)/li /ul/li /ul  Once I connected the iPad Air to the emmacrsv/em NAT64 network and it received the IP address 192.168.2.2. This happened never again.  When I start the NAT64 network on emmacmedia/em, the iPad cannot connect and the activity indicator keeps spinning forever.  strongNAT64 Details:/strong  I looked for processes running when NAT64 is enabled:  precode/usr/libexec/InternetSharing rtadvd -c /etc/com.apple.mis.rtadvd.conf -f -s bridge100 unbound -c /etc/com.apple.mis.unbound.conf -d /code/pre  There are two config files related to codecom.apple.mis.../code:  /etc/com.apple.mis.rtadvd.conf:  precodebridge100:\      nolladdr:maxinterval#135:mininterval#45:rltime#1800:addr="2001:2:0:aab1::":prefixlen#64:rdnssaddrs#1:rdnssaddr="2001:2:0:aab1::1" /code/pre  /etc/com.apple.mis.unbound.conf:  precodeserver:     chroot: ""     pidfile: "/etc/unbound.pid"     chroot: ""     directory: "/etc"     username: ""     do-daemonize: no     access-control: ::0/0 allow     module-config: "dns64 iterator"     dns64-synthall: yes     dns64-prefix: 64:ff9b::/96     interface: ::0 forward-zone:     name: "."     forward-addr: 192.168.1.11 /code/pre  I checked these conf files on emmacsrv/em and emmacmedia/em and they are identical in every detail.   strongQuestions:/strong  Q1. What could be the reason for NAT64 not working on emmacmedia/em?  Q2. Can I convince the NAT64 network to use my intranet DNS?  Q3. What could be the reason for NAT64 on emmacsrv/em to be sometimes working and sometimes not?  Q4. Why does the iPad get an 169.254.55.58 IPv4 address? (Shouldn't it only have IPv6 when connecting to NAT64?)  Q5: Do the com.apple.mis... conf files look ok? (having 192.168.1.11 as forward looks fine to me...)  <answer214259> If I get your network configuration correctly, your setup is completely hosed.  You need two separate (physical) networks:  ul lione with IPv4 only (e.g. ethernet)/li lione with IPv6 only (e.g. local Wi-Fi)/li /ul  Depending of the capabilities of your machines, the machine with two interfaces (ethernet and Wi-Fi) should be the server (DNS/DHCP etc.)/NAT64-router (= emmacsrv/em).  Since the iDevices don't have an ethernet interface and you try to test their IPv6/IPv4 functionality they should reside in the Wi-Fi section, which should be dedicated to IPv6 then. This local Wi-Fi network is strongnot/strong your Fritz!Box' Wi-Fi! You have to setup a personal hotspot on the NAT64 router!  To access a IPv4 server from your iDevices you may either use your normal router connection to the WAN or a dedicated IPv4 "server" (= emmacmedia/em) - both of them reside in the ethernet section "behind" the NAT64-router (= emmacsrv/em). If emmacmedia/em doesn't have an ethernet interface just connect it to the Fritz!Box Wi-Fi, because technically the Fritz!Box Wi-Fi and the Fritz!Box ethernet are both in the ethernet section.  To access an IPv6 server use a web server on emmacsrv/em.  Since you don't need IPv6 on your Fritz!Box router, simply turn it off.  <comment258607> I assume that you are trying to test the scenario shown in Figure 10-2 of the linked Apple documentation. Then please add the IPv6/v4 config of all devices. <comment258617> @klanomath I added some information, will add later more of the iPad. (Have to do some other things for the next hour) <comment258669> Thanks for the information. I turned on IPv6 on the FritzBox for testing whether iDevices can connect without NAT64 and they could. I will turn it off and run a test. The Fritzbox has WiFi turned off all the time. The NAT64 is created on macsrv by opening a WiFi network just for the NAT64 network. (macmedia and macsrv have a usually unused WiFi, which I use to test NAT64). So the NAT64 dedicated WiFi is there (via macsrv). Still it does not seem to work? <comment258671> I forgot to mention: All machines and the Fritzbox are connected by wire. There are WiFis created by Apple Airport Extreme boxes which I usually use for the iDevices, but these should not interfere with the NAT64 WiFi on macsrv. <comment258672> @RainerSchwarze What's the purpose of *app* (the Windows machine)? <comment258679> The *app* machine hosts the test server (Rails) in a VM to which the iPad app shall connect. <comment259194> You mentioned that to access an IPv6 server I should use a web server on *macsrv*. Shouldn't be the point of NAT64 be that I access an IPv4 server? So far I cannot access any server, neither on *macsrv* nor anywhere else. <comment259195> @RainerSchwarze Just for testing purposes. One ipv6 server running on *macsrv* and one ipv4 server running on *macmedia*/some wan server in the internet. <comment259226> I added more details about another test which I ran. <comment259231> I've already setup a similar environment using a thumb drive (with 10.11.1), the remains of my network and an older iPhone but my iPhone can't even connect to the local (iMac) Wi-Fi. BTW how (or where) did you create the network scheme? <comment259265> You mean the diagram? The software is called yEd - their homepage is at http://www.yworks.com/en/products/yfiles/yed/ . It's free, it works on all platforms (Java); sometimes it has its rough edges, but it works well for me.
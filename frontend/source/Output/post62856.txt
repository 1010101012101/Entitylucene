MacPorts on mountain lion - cannot install apache2 due to gettext package <body> I have been having problem with installing gettext package from macports. When I am launching  precode /opt/local/bin/port -v install apache2 /code/pre  it checks dependencies, and continues with gettext package installation. But the configure process freezes here:  precodechecking for egrep... /usr/bin/grep -E /code/pre  and nothing happens.. can wait hours, nothing changes.  I tried to configure, make, make install manually for that package and it went all fine. But, when same configure is launched by ports, it hangs there. Question:  1) How can that be fixed? 2) Maybe I can somehow manually tell ports, that I installed that gettext package manually already?  Sorry, if wrong "site" for this question. Felt most proper one.  hr  sudo port -v install apache2 solved the problem :/  still unbelievable, that same operation from root user was hanging..  <answer62895> You need to run macport port command as root best using port as shown in all the examples in the Macports guide This is so that all the processes are set up as the correct user and the files are saved no changeable by other users.  e.g. codesudo /opt/local/bin/port -v install apache2/code  <answer115219> Found this answer at http://theengguy.blogspot.com/2012/05/macports-install-gettext-hangs-on-later.html  hr  If you are having issues with the installation of gettext and other packages hanging on macports, its most probably due to JAVA_HOME not being set. Set it and it should work:  precode# export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework # /opt/local/bin/port install gettext /code/pre  hr  You probably have JAVA_HOME set in your user's environment, but not in root's.  While logged in as root, I set JAVA_HOME and successfully built gettext.  I've since added this to ~root/.profile so I don't have to remember it in 6 months...  <comment72514> You should run as `sudo /opt/local/bin/port -v install apache2` so that it runs as the correct user <comment72556> oh my. i was launching it from root user, entering it via sudo su <comment72557> Mark, post your comment as answer - so I can mark it as resolution.
macOS Sierra identifies my external Microsoft keyboard as my MacBook internal keyboard <body> My computer identifies my external Microsoft Sculpt keyboard as my MacBook internal keyboard. When I run "Change Keyboard Type..." in System Preferences, I get the error "You have pressed a key on your Apple keyboard. Please press the keys on the keyboard that can't be identified." Also, the modifier key custom preferences for my internal keyboard get applied to my external keyboard as well. Everything works fine when I boot into Safe Mode. I had other recent keyboard problems that I posted about here on this MacBook, and followed these instructions to no avail.  I have tried removing everything I found related to my uninstalled copies of Karabiner, Karabiner Elements, and Logitech software like the Logitech Control Center.  <answer261414> I finally figured out that there was a kernel extension named codeorg.pqrs.driver.VirtualHIDManager/code from an old Karabiner installation that was running and causing this problem. It was in my boot volume at code/Library/Application Support/org.pqrs/Karabiner-Elements/org.pqrs.driver.VirtualHIDManager.kext//code. Removing codeorg.pqrs/code didn't work while I was logged in, so I restarted into my recovery volume, mounted my boot volume, and used the terminal to remove the directory. Everything went back to normal after that. 
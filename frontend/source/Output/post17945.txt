How can I install Mac OS X Lion in VirtualBox, or any other type of virtual machine? <body> I strikepurchased/strike bought a license of Lion and heard that it supports virtual machine install.   I want to install Lion into my VirtualBoxVM on Lion on an iMac. How can I do this?  <answer18093> See this article: http://osxdaily.com/2011/06/08/create-burn-bootable-mac-os-x-lion-install-disc/  Use the .dmg as your source disk.  You may have to convert it first to an .iso: if that's the case, use Disk Utility to convert it to a "CD/DVD Master" image (.cdo) and simply rename it to .iso.  <answer19197> VMWare Fusion 4 is supposed to support it but I don't know if it's out yet?  <answer19550> h110.7 (Build 11A511) guest in VirtualBox 4.1 greater/h1  Whilst end user forums are strongcurrently limited to Mac OS X emServer/em/strong, not updated for Lion, there emis/em discussion of Lion (not always Lion Server) in that context.   With the most recent VirtualBox it is unnecessary to convert disk images; .dmg files are recognised.   Depending on your approach, you might see:      codeThis version of Mac OS X is not supported on this platform!/code   — (example) — I saw that at least once.   h2Suggestion A: await media from Apple/h2  I recommend this most strongly.   Await Apple's provision of Lion on a USB thumb drive. It may be something greater than 11A511 and if so, that greatness may be more strongsuitable for use in virtual machines without the need to hack/strong (see caution below).   h2Suggestion B: attempt upgrade from Snow Leopard within the virtual machine/h2  In the virtual machine: install Snow Leopard then (honouring Apple's license for Snow Leopard as far as possible in this situation) use that installation for nothing other than an immediate upgrade to Lion. Attention please to agreements at Apple — Legal.   h2Suggestion C: hobby hacking with BaseSystem.dmg/h2  ol limount the hidden Apple_Boot emRecovery HD/em /li liuse codeditto/code or codecp/code to set strongaside/strong from that volume a copy of the following file:   code/Volumes/Recovery HD/com.apple.recovery.boot/BaseSystem.dmg/code/li liunmount Recovery HD/li liuse chflags with the codenohidden/code keyword to remove the codehidden/code flag from the copy that you set aside/li liif you can boot the virtual machine from that .dmg then use Mac OS X Utilities to  reinstall using the electronic software distribution downloaded from Apple/li liif at step (5) you fail, discuss in Ask Different Chat./li /ol  h2Suggestion D: hobby hacking with InstallESD.dmg/h2  At least one Apple Exchange user reports some success with a home-produced DVD burnt from an codeInstallESD.dmg/code  This may be most tempting and most likely to yield immediate success, of sorts, but in my estimation: hacking with this particular .dmg (ignoring Apple's .app for 11A511 as a whole) carries the greatest long-term risks.   h1Caution!/h1  By using emany/em .dmg out of context, as suggested above, you may be risking the integrity of your installation in ways that strongwe can not predict/strong. Please consider the following extract from Ask Different Chat:   ul lihome-produced bootable media for Lion: known risks and unknowns around 10.7 (Build 11A511)/li /ul  With that caution in mind, my strongest recommendation is (A) to wait for Apple to provide USB flash media (scheduled for August 2011) with the emassumption/em that it will be both (i) greater than 11A511 and (ii) more suitable for virtual machines and other environments that lacked broad support from Apple on the day of Lion's release.   (Bear in mind: day one was almost totally oriented to strongdownload-based upgrades from Snow Leopard/strong.)  <answer19962> h1NVRAM for Lion in a virtual machine/h1  I don't use VMware, and I don't know which version was in use by the person who posted the following article, but it seems to contain interesting information about NVRAM.   Installing Mac OS X Lion in VMware — obviouslogic : solutions (undated, bookmarked by me on 2nd July)  Could help people to think about how to get an installation of Lion started, without upgrade from Snow Leopard, in virtual machines hosted by things emother/em than VMWare Fusion.   <answer58612> h110.7.x or 10.8 (Build 12A269) in VirtualBox/h1  A preferred alternative to my earlier answer, a strongsimpler/strong approach to installing then imaging what's required to run 10.8 in a VirtualBoxVM.   Assume that a similar approach will be equally good for 10.7.   h2Intention/h2  A template, a reasonably small virtual disk image that can be copied for use in any VirtualBoxVM.   h2Requirements/h2  VirtualBox 4.1.18 or greater.  A spare drive. For a virtual machine with 2 GB memory, a 16 GB device will suffice.  h2Create a template/h2  ul liUse Disk Utility to partition the spare drive, one partition/li liname the partition emMountain Lion template/em/li liinstall a bootloader to your template /li liinstall Mountain Lion to the template/li liwhen the Welcome screen displays regions, shut down/li liuse Startup Manager to start from something other than the template/li liuse the Startup Disk pane of System Preferences to select a system for everyday use/li lioptionally, install other things to the device that includes the template/li liideally, optimise the template (I used iDefrag)/li liuse Disk Utility to erase free space/li liunmount the template /li liget the size, in bytes, of the device/li licreate a virtual disk image of the device/li lidrag the image to the Virtual Media Manager of VirtualBox./li /ul  h3First use of a copy of the template/h3  ul liUse the Virtual Media Manager to copy the image/li liadd the copy to a virtual machine/li liconfigure the machine to not use EFI/li listart the machine/li ligive the startup volume a distinctive name./li /ul  h3Hints/h3  For a virtual machine configured in the way outlined above:   ul lido not enable FileVault 2 – without EfiLoginUI it will be impossible to start from the protected volume/li lido not choose About This Mac from the Apple menu – instead, use System Information /li liOS X may not restart without a little intervention – see below./li /ul  hr  h2Whenever you start the virtual machine/h2  For verbosity, use boot option code-v/code. An example, with Chimera:   img src="https://i.stack.imgur.com/ZfSZK.png" alt="Screenshot of Chimera 1.11.1 with boot option -v"  h3Whenever you attempt to restart the virtual machine/h3  Verbosity will allow you to see when things are emdone/em, after which a emMACH Reboot/em is attempted:   img src="https://i.stack.imgur.com/6svLS.png" alt="OS X in a VirtualBoxVM not proceeding beyond MACH Reboot"  If OS X does not proceed beyond that point, use the Machine menu of the VirtualBoxVM:   ul liReset./li /ul  hr  h2Bootloaders/h2  For a first test, I chose Chimera 1.10.0.   MultiBeast 5.0 for Mountain Lion can install Chimera 1.11.1.   h2Getting the size of a device/h2  Use diskutil.   In this example I want the size of codedisk4/code:  precodesh-3.2$ diskutil list disk4 /dev/disk4    #:                       TYPE NAME                    SIZE       IDENTIFIER    0:      GUID_partition_scheme                        *15.9 GB    disk4    1:                        EFI                         209.7 MB   disk4s1    2:                  Apple_HFS Mountain Lion template  14.4 GB    disk4s2    3:                 Apple_Boot Recovery HD             650.0 MB   disk4s3    4:                 Apple_Boot Coriolis Recovery HD    650.0 MB   disk4s4 sh-3.2$ diskutil info disk4 | grep Total    Total Size:               15.9 GB (15879634944 Bytes) (exactly 31014912 512-Byte-Blocks) /code/pre  The second command – codediskutil info disk4 | grep Total/code – gave me the total.  h2Creating a virtual disk image of a device/h2  Use VBoxManage convertfromraw.   For the example above:   precodesudo cat /dev/disk4 | VBoxManage convertfromraw stdin ~/Documents/Mountain\ Lion\ template.vdi 15879634944 /code/pre  As zeros were written when free space was erased, the resulting image should be far smaller than the size of the device – probably less than 8 GB.   Additional credit: the accepted answer to a Super User question, VirtualBox: booting cloned disk.   h3Why image the entire device?/h3  Assume that a future version of VirtualBox will be able to use codeApple_Boot/code slices.  h2Serial number and hardware UUID/h2  I don't know what's normal for VirtualBox.   A screenshot of my test result (machine type Mac OS X, machine version Mac OS X (64 bit), Chimera 1.11.1):   img src="https://i.stack.imgur.com/bI5AQ.png" alt="a serial number and hardware UUID in a VirtualBoxVM"  It's possible to change such things, but methods of changing are beyond the scope of this question.   hr  h1A longer approach/h1  Revision 7 of this answer outlined a stronglonger and more complicated/strong approach to installing and running 10.7 in a VirtualBoxVM. That approach, originally for 10.7, may be equally good for 10.8.  <answer60686> With VMWare Fusion 4 there is a very elegant approach to installing Lion into a VM. Its essentially using the Lion Installer image from the Mac App Store. It boils down to drag and drop of the Lion installer to get started. No disk image conversion, no spare partitions needed as indicated in Installing Mac OS X 10.7 (Lion) as a virtual machine in Fusion 4 Additionally there are VMWare Tools available for OS X once you get OS X Lion installed too.     strongTo install Mac OS X 10.7 (Lion) in a virtual machine using the Lion installer download:/strong      ol   liIn Fusion, from the menu bar, go to File  New./li   liChoose Continue without disc./li   liDrag and drop the Install Mac OS X Lion application onto the Use operating system installation disc or image drop-down menu. (The inner window frame highlights in blue, indicating that you can drop the file there).       emThe drop-down menu changes to Install Mac OS X Lion./em /li   liClick Continue./li   liEnsure Operating System is set to Apple Mac OS X and Version is set to OS X 10.7 64-bit then click Continue./li   liIf you wish to adjust any of the settings, click Customize Settings to specify non-default values for memory (RAM), CPU, hard disk size, etc./li   liClick Finish.       emThe installation starts./em /li   liWhen prompted, select Reinstall Mac OS X and click Continue./li   liClick Continue./li   liAgree to the license agreement and follow the prompts to begin the installation. The Lion installer download additional needed components, then reboots./li   /ol   <answer107070> I found a solution for running Mac OS X in VirtualBox on Mac hardware at http://ntk.me/2012/09/07/os-x-on-os-x/. I've not tried the 10.9 setup yet, but I have successfully installed and run Mac OS X 10.8 (Mountain Lion) in VirtualBox 4.3. I found I had to go searching for and download a copy of NullCPUPowerManagement.kext in order to get the installer to finish booting, but that was the only extra thing the script needed. I also had to run the installer a couple of times, but that could have been only due to running out of disk space partway through the first install.  <comment19768> To be clear, Lion is *licensed* for installation in a VM, which is the first time Apple has allowed this for client versions of MacOS.  This says nothing about the current ease of accomplishing it, given that no VM on the market actually provides emulation of Mac hardware. <comment19776> I should correct that to say that support has been for server versions of Snow Leopard, client versions of Lion may require work on the part of the VM vendors.  But it certainly doesn't hurt to give it a try! <comment21025> Check it on here: `http://www.vmware.com/products/fusion/overview.html` <comment21444> Thank you for great answer. I have chosen A :) <comment21448> @user4225 my pleasure. And to anyone who experiments in some other way: be cautious, but [enjoy](http://identi.ca/conversation/76905136#notice-79507220) :-) <comment21769> What long-term risks Suggestion D carries? <comment21773> shpokas, the answers may be multiple and complex (more than I alone can answer). Certainly some of the answers will be off-topic from VirtualBox. I think **it would make a good question, if you would like to ask it** (and gain reputation). Something like: *What risks surround nonstandard uses of .dmg files for 10.7 (Build 11A511)?* … I made a similar suggestion (that someone should ask the question) under http://apple.stackexchange.com/questions/17761/is-it-possible-to-burn-a-dvd-out-of-the-lion-app-store-install/19433#19433 <comment67468> Similar: [Installing a Lion Vm within Mountain Lion](http://apple.stackexchange.com/q/57889/8546) <comment69852> What OS is the iMac running? <comment71032> @shpokas now for 10.8: [What actions are performed by Install OS X Mountain Lion.app that are not performed by InstallESD.dmg without the app?](http://apple.stackexchange.com/q/59239/8546) <comment82379> @bmike a heads-up before I properly correct this answer: the sudo produces a `.vdi` that is writeable only by system (root). So there'll be at least one extra step: relaxation/expansion of permissions before that `.vdi` can be written by the logged-in user. A few more hours' testing then I'll make the edit properly. <comment83195> https://www.virtualbox.org/ticket/9388#comment:17 makes me suspect unannounced improvements to VirtualBox. <comment125608> @David You're right. Though I write this long time ago, I fixed it now.
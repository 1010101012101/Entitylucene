Safari: using dtrace to investigate iCloud Tab Sync <body> I'm investigating how Safari syncs tabs through iCloud.  To start, I really want to know how Safari is updating its shared list of tabs, which means monitoring it or some background daemon for file creations and modifications. (My hypothesis being: when I open a new tab on my phone, iCloud sends a push to my Mac which updates Safari's "iCloud Tabs" list.)  I'm trying to use codedtrace/code to monitor Safari's file opens, with something simple like:  precodesudo dtrace -n 'syscall::open*:entry /execname == "Safari"/ { printf ("%s", copyinstr(arg0)); }' /code/pre  but codedtrace/code prints out this error:  precodedtrace: error on enabled probe ID 7 (ID 160: syscall::open:entry): invalid user access in action #1 at DIF offset 24 /code/pre  (This is the same error as someone asked on Apple's forums)  Debugging a strange iTunes permissions problem with DTrace had information about a similar issue with iTunes, but I don't quite understand what backflips they performed in codegdb/code to get iTunes to be codedtrace/code-able.  ol liCan someone help me understand Debugging a strange iTunes permissions problem with DTrace: what's the error caused by, and what's the resolution?/li liDo you have any additional knowledge/information about iCloud Tab syncing? What process syncs them? Where are they stored on-disk?/li /ol  <answer232587> The file that contains the iCloud tabs is:  precode~/Library/SyncedPreferences/com.apple.Safari.plist /code/pre  It's a binary file, so you can use codeplutil/code to convert a copy to JSON/XML for processing. I expected the syncing to be via codebird/code but some light spelunking with codebrctl log -w/code and other light snooping don't reflect changes I make to the tab database. There are quite a few nice projects on github that parse this file in python, JS as well as a nice menu bar app:  ul lihttps://github.com/josh-/CloudyTabs/li /ul  Knowing where the data persists on disk shows that codesyncdefaultsd/code is the owning process:  precodesudo fsusage -w | grep com.apple.Safari /code/pre  Sadly, that private framework and daemon are basically undocumented by Apple save for what you can glean from the launchd plist for the service.  <comment284599>  this is fantastic, thank you! Now I can dive into my Time Machine backup for some lost tabsâ€¦ <comment284600> I also didn't know about the projects which read that file. Cool!
Why is Safari ignoring my /etc/hosts file? <body> I added some domains to block (127.0.0.1 mydomain.com) to my /etc/hosts file and for some reason, Safari seems to be ignoring them. I have tried disabling Safari extensions, clearing the cache (sudo dscacheutil -flushcache), and restarting Safari and the Mac altogether. Chrome respects the /etc/hosts changes, but Safari does not. Attached is a sample of my /etc/hosts file.   I am running Safari 6.0.4 with Mountain Lion 10.8.3  Any ideas?  precode## # Host Database # # localhost is used to configure the loopback interface # when the system is booting.  Do not change this entry. ## 127.0.0.1       localhost 255.255.255.255 broadcasthost ::1             localhost fe80::1%lo0     localhost 127.0.0.1       facebook.com /code/pre  <answer92771> Try putting one or two carriage returns after the last entry.  precode... 127.0.0.1       facebook.com  ^ Carriage Return /code/pre  <answer93892> According to this blog http://thecoredump.org/2011/09/editing-the-hosts-file-in-mac-os-x-lion/  You have to put the entry at the start of the host file. Very unorthodox. Haven't any personal experience of this though.  <answer96583> I had this same problem and it was caused by having really long lines in my hosts file (multiple hosts mapped to the same IP address listed on the same line). I fixed it by splitting this into several lines.  <answer136111> I had wrong line ending. It has to have LF, I had CR.  <answer161385> I had this problem too but the solution is really easy Let's suppose you create an Alias in the host file to your machine with the name localhost2  That entry in the host file should look like this: 127.0.0.1       localhost2  When you type "localhost2" in the safari url bar you will notice in the dropdown that the default option is to search that in google, you should select the option saying "Go to Site localhost2"  <answer163186> Worked for me on Yosemite:  ol liGo to System Preferences  Network  Advanced  Proxies/li liTick Auto Proxy Discovery, hit OK and Apply (I haven't got anything else ticked)/li liEnter in Terminal: dscacheutil -flushcache/li /ol  This flushes the dnscache in Yosemite. Now Safari and Chrome should respect your hosts file.  <answer207243> I had a similar issue. Every piece of software on my Mac honored my /etc/hosts file entry when my hosts file was symlinked (aliased) to another file, except Safari. When your hosts file is a symlink, Safari ignores it.  My solution was to make /etc/hosts a hard link. Luckily the hosts file I keep up to date is in the same file system. If it isn't, you're borked.  Bad Safari... bad.  <answer259721> I had a slightly different version of the same problem, and thought I'd mention what worked for me.  I develop websites.  To do that, I have a complete copy of each site running on my local network.  When I wish to work locally, I have always just added an entry for "example.com" to my local /etc/hosts file, and that has always overridden DNS, making it possible for me to access the local copy of the website in any browser, including Safari and Firefox.  I can work without affecting the actual live site, then upload changes when they're complete.  Recently, however, this technique stopped working for both Safari and Firefox, but not for Chrome, so for a while I was limited to using Chrome for local development.  I searched google and tried all the suggested fixes -- CR at the end of the hosts file, only one entry per line, various Firefox configuration changes using "about:config", etc.  Nothing worked.  Then I tried this simple thing:  in addition to putting the IPV4 version of the address in the /etc/hosts file, I also put the IPV6 version.  Before:  precode10.0.1.23       example.com /code/pre  After:  precode10.0.1.23       example.com 0:0:0:0:0:FFFF:0A00:0117        example.com /code/pre  As soon as I added the IPV6 entry, both Firefox and Safari started hitting the correct (local) server.  There are various websites that will translate IPV4 addresses to IPV6; just do a google search on "ipv4 to ipv6".  <answer260449> The emonly/em thing that works for me (10.12.1 "Sierra"):  precode127.0.0.1   example.com 127.0.0.1   www.example.com fe80::1%lo0 example.com fe80::1%lo0 www.example.com /code/pre  <answer295367> I spent quite some time on OS X El Captain 10.11.4 to block sites using /etc/hosts file instead of using Parental Control in System preferences. At the end it simply  worked like this:  precode127.0.0.1 www.website.com 127.0.0.1 website.com /code/pre  I tried a lot of variants, but I was always mapping to 0.0.0.0 (code0.0.0.0 website.com/code). That never worked in any variation.  h3Unlike some suggestions on the web, these were useless:/h3  ul liThere was no need for IPv6 blocking like codefe80::1%lo0 www.website.com/code or code::1 website.com/code/li liThere was no need for codedscacheutil -flushcache/code, but just do it in case./li liIt does not matter if you paste it at the beginning or end of the hosts file/li liBrowsers seem to have been responded differently: Chrome and Safari blocked it immediately once the correct codehosts/code file was saved, Firefox kept ignoring it for a while (not clear if restarting it was enough).  ul liTry to use codeNew Private Window/code or restart the browser for testing it. /li /ul/li liDo not add codehttp:///code or codehttps:///code at the beginning of the address/li liNo other commands were necessary./li liDo not disable (= comment out by adding a code#/code at the beginning) lines that are in the hosts file already./li /ul  h3Useful checks/h3  ul liCheck if the system recognizes your redirection codedscacheutil -q host -a name website.com/code -  it should display:  precodename: website.com ip_address: 127.0.0.1 /code/pre/li liCheck if the syntax of the codehosts/code file is correct by: codecat -vet /etc/hosts/code. This shows invisible characters:  ul liLines should end with code$/code/li liBetween code127.0.0.1/code and codewebsite.com/code should be only a space or a tab, which is displayed as code^I/code./li /ul/li liNote that for some sites, like facebook for instance, you might need to block a lot of addresses./li liI think that the codehosts/code file should end with a newline./li /ul  <comment108725> If there is no response, Safari will try to add `www.` To the beginning of the URL. Facebook can then redirect the browser to `Facebook.com`. Try adding `www.facebook.com` to your file and see if that works. <comment108735> I thought this might be the case. I tried both www.facebook.com and *.facebook.com. Neither worked. <comment108765> When I saved the text in the code block as /etc/hosts, it did block Facebook in Safari. [Does your /etc/hosts use CR line endings, or have you tried moving other entries above the IPv6 entries](http://www.justincarmony.com/blog/2011/07/27/mac-os-x-lion-etc-hosts-bugs-and-dns-resolution/)? <comment109115> What's interesting is that the line i use for redirecting search.yahoo.com to DuckDuckGo works, even if i put it after the redirect for facebook.com, but the Facebook line doesn't do anything. Totally stumped on this one. <comment109118> unfortunately this didn't help. <comment113407> They are wrong. Only syntax matters, not location. And all additional entries should always follow the defaults. <comment146409> Solved my issue, thanks! <comment161459> did you flush the dns cache and clear the safary history and cache-  if you don't know how to flush the dns cache you can also restart your mac. <comment191018> They probably say to put it at the beginning to avoid a common pitfall of people editing the hosts file: they forget to put a newline at the end of the last line. Without that newline, the last line will be ignored. If you add the entry to the front, it's hard to forget the newline. <comment191019> You have to have a newline (_not_ a carriage return) at the end of every line, including the last one. <comment192652> @NicholasTulach Same problem here, facebook.com doesn't redirect to Google IP address. reddit.com and twitter.com are redirected fine. Did you find a solution in the end? <comment195304> Not sure why, but this works for me. I'm using yosemite. <comment254470> Unless he's running Mac OS 9. :o <comment324974> Could you check the last character of your `/etc/hosts` is a newline? For example open it with `vi`. <comment325388> The last character of my /etc/hosts file is "\n", or hex 0A. <comment326091> This is the correct answer. You must add `domain.com` and `www.domain.com` in host file. Safari can add `www.` in your request and will not match with `domain.com`. <comment342263> This is the correct answer. To prevent Safari, you'll need *both* IPv4 and IPv6 entries. Tested in MacOS 10.12. <comment342264> Per comment on an answer below, make sure to add both IPv4 and IPv6 addresses. <comment344353> I wanted to try this one, but I'm tethering with my iPhone and the Advanced  Proxies option is not available.
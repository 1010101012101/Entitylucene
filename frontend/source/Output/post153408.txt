Process completed immediately after opening Terminal <body> After I open Terminal in OS X:  pre class="lang-none prettyprint-override"codeLast login: Tue Oct 28 10:29:21 on ttys000 login(14773,0x7fff7572f300) malloc: * error for object 0x7fd4bb715110: pointer being freed was not allocated * set a breakpoint in malloc_error_break to debug  [Process completed] /code/pre  I have no idea what I did or how to fix it.  <answer153411> Go to Preferences → General and set Shells open with to Command, and enter the following:  precode/bin/bash -x /code/pre  Open a new shell and see what is being run, then remove the relevant lines from your profile files.  <answer154019> This could be something as simple as some borked permissions. I was having some issues starting up a shell when I migrated a machine to Yosemite, and a permission repair took care of the problem.   Try to use the "Repair Permissions" function on your startup disk using Disk Utility.app. Hopefully, as it's running, the log window will show a series of files with incorrect permissions. If you have more than one or two files with bad permissions, rinse and repeat until you get a clean log.   Note: occasionally there will be some files that trip up the repair utility (can't recall specifics at the moment), but on a new Mac mini, you should be able to get a clean run on the second or third try.   <answer237064> I know this is old...but I had the same problem, and couldn't find any information to fix this issue, so I decided to share the solution here too.  Hopefully it helps someone else. :)  After upgrading a Mac from OS X 10.6.8 (Snow Leopard) to 10.11.4 (El Capitan), it would no longer open a shell in Terminal. It would open a Terminal Window with only [Process completed] displayed on the screen.  The Console log showed the errors:  precodelogin: in openpam_load_module(): no pam_serialnumber.so found login: pam_start(): system error /code/pre  This post (https://discussions.apple.com/message/11861278#11861278) pointed me in the right direction.  I checked the contents of /private/etc/pam.d/login.term on the affected Mac, and on a working Mac.  Broken Mac Terminal /private/etc/pam.d/login.term  precode# login: auth account password session auth       optional       pam_krb5.so auth       optional       pam_mount.so auth       sufficient     pam_serialnumber.so serverinstall legacy auth       required       pam_opendirectory.so account    required       pam_nologin.so account    required       pam_opendirectory.so password   required       pam_deny.so session    required       pam_uwtmp.so session    optional       pam_mount.so /code/pre  Working Mac Terminal /private/etc/pam.d/login.term  precode# login: account session account    required       pam_nologin.so account    required       pam_opendirectory.so session    required       pam_uwtmp.so /code/pre  I edited the contents of the Mac with the broken Terminal to match the Mac with the working Terminal, and Terminal immediately started working correctly.   <answer242544> The following solved it for me:  ol liGo to: Terminal  Preferences/li liScroll down to: Shell/li liChange, code/bin/bash/code to: code/bin/sh/code/li /ol  <answer269464> ol liGo to Terminal icon on Dock, press right click and press New Command 2./bin/bash -x      (it shows your problem)/li lisudo nano .bash_profile (open this problem place)/li lidelete this, Ctrl + X (exit) Yes, Enter/li /ol  <comment180536> I would bet something is wrong in your .profile or .bashrc causing this error and make he shell not able to start. <comment180538> .bashrc  - what is that? I cant google it lol...  Im new to mac ;]  I dont even have /etc folder <comment180544> still the same. In the preferences (general from dock) I cant turn on "general", "start disc" and "notice" ;]  something is broken I guess. OSX yosmite <comment180547> OS X doesn't source ~/.bashrc by itself anyway, so check ~/.profile and other such files to see if they source ~/.bashrc —cc @Matthieu <comment180548> I know. But I cant open those tabs in general preferences now, so there may be more things broken. <comment180549> @user Ah, I see what you mean. Yes, that would indicate something else is wrong—perhaps reinstall OS X? <comment180551> is there any simply way to do it? I have mac mini <comment180687> @user98034 Perhaps everyone is assuming knowledge you don't have. Files with names starting with a dot, like .profile and so on are generally invisible. You can list the names of the files in Terminal.app by typing "ls -a". You can see what is in a file like .profile by typing "cat .profile". You can then open another window (shell) in Terminal.app. You can type the commands in one by one, or you can copy-and-paste from one window to another. By looking in the new window, you can see the effect of each command individually. <comment181242> @user98034 If you're interested in learning about the shell functionality underlying OS X, check out the book "From Bash to Z Shell: Conquering the Command Line" (homepage [here](http://www.bash2zsh.com)). I found that the early chapters were great at describing some of these simple tools to which people are referring. <comment242853> and ~/.bash_profile <comment338470> Your answer doesn't seem to add anything beyond grgarside's answer.
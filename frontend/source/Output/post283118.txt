pfctl NAT on macOS Sierra is not working <body> I want to connect my Linux virtual machine with the Internet, so I need NAT to translate packets  precodecd /etc/pf.anchors vim com.aaron.nat /code/pre  then type:  precodenat on ppp0 inet from 192.168.100.0/24 to any -&gt; ppp0 /code/pre  ppp0 is my PPPoE interface, virtual machine's ip addr is 192.168.100.100/24  then I add these line to /etc/pf.conf:  precodenat-anchor "com.aaron.nat" load anchor "com.aaron.nat" from "/etc/pf.anchors/com.aaron.nat" /code/pre  at last:  precodepfctl -vf /etc/pf.conf /code/pre  and test it on the virtual machine:  precodeping 8.8.8.8 64 bytes from 8.8.8.8: icmp_seq=0 ttl=46 time=261.543 ms 64 bytes from 8.8.8.8: icmp_seq=1 ttl=46 time=261.222 ms ... /code/pre  so far so fine  but when I request an Internet resource, for example:  precodewget http://XXXX/image.png # or yum update ... /code/pre  it doesn't work.  Did I miss something?  At first I thought I missed the TCP/UDP filter, but after adding:  precodenat on ppp0 inet proto tcp from 192.168.100.0/24 to any -&gt; ppp0 nat on ppp0 inet proto udp from 192.168.100.0/24 to any -&gt; ppp0 /code/pre  it still doesn't work.  What should I do next?  The hypervisor is VMware Fusion and the network interface settings are:     strongmacOS/strong      ppp0: PPPoE interface, ip from DHCP Server      vmnet4: 192.168.100.1/24      strongLinux/strong(Virtual Machine)      eth0: 192.168.100.100/24 GATE:192.168.100.1   img src="https://i.stack.imgur.com/9Okc9.png" alt="enter image description here"  I found a way to connect my Linux with internet:first I repeat above steps, and I open my macOS System Preference - Sharing - Network sharing(source: ppp0, dest: Wi-Fi port), then it work, But why?  img src="https://i.stack.imgur.com/939va.png" alt="enter image description here"  <comment356910> Thanks for your reply! And I found a way to connect my Linux with internet:first I repeat above steps, and I open my macOS System Preference - Sharing - Network sharing(source: ppp0, dest: Wi-Fi port),  then it work! But why? =...= <comment356913> That's still unclear because some more details are missing. We still need a screenshot of VMware  Preferences  Network  vmnet4. AFAIK this is only available in the Pro version.
Creating whitelist of few websites from Terminal <body> I want to block all websites except one or two websites (white list) while working for 'productivity' purposes (when I am working only). I know how to block individual websites as shown here http://www.wikihow.com/Block-and-Unblock-Internet-Sites-(On-a-Mac) but I want to block all except one or two (i.e., create a white list).   Can it be done from Terminal? (like blocking apps as in the link)   I would prefer to do it without installing any productivity apps.  <answer232851> Basically using the same strategy as the linked article you posted but in a slightly different way.  strongFirst Get the IP addresses of the sites you want to access/strong  Easiest way is just to ping them from Terminal, codeping www.google.com/code. Record the IP address.  If that doesn't give you an IP address, try nslookup codenslookup www.google.com/code. Record the IP address.  strongTurn your DNS off/strong  Manually turn your DNS server settings to nothing.  If you are using DHCP you may need to set a static IP address on your Mac to accomplish this, or do it on your router / DHCP server and renew your IP.  strongAllow the sites you want to access/strong  Open you hosts file from Terminal, codevi /etc/hosts/code and add the IP address and DNS names of the sites you wish to access  precode216.58.199.78    www.google.com 157.166.226.25   www.cnn.com /code/pre  Add these to the end of the file.  strongWhen your done being productive/strong  Turn you DNS settings back to normal.  You may also want to comment out the lines in the hosts file with a code#/code.  precode#216.58.199.78    www.google.com #157.166.226.25   www.cnn.com /code/pre  <answer232866> To permanently block outgoing traffic to all domains except some you should create a new anchor file and add it to pf.conf and enable the included pf firewall.  ol liCreate an anchor file emorg.user.block.out/em in /private/etc/pf.anchors   precodesudo touch /private/etc/pf.anchors/org.user.block.out /code/pre  with the following content and a trailing empty line  precode#whitelist mygoodhosts = "{ wikipedia.org, stackexchange.com, 197.10.15.234 }" #ports to block/pass myports = "{ 443, 80, 8080 }"  block drop out proto { tcp, udp } from any to any port $myports pass out proto { tcp, udp } from any to $mygoodhosts port $myports /code/pre  The additional IP address in mygoodhosts is just an example how to add additional items to the whitelist. The same goes for port 8080 in myports.  strongemTo allow complete access to stackexchange.com you have to add some more domains because some items (e.g. javascript) are loaded from third-party domains like ajax.googleapis.com./em/strong/li liModify the file /private/etc/pf.conf but keep a trailing empty line  original file:  precodescrub-anchor "com.apple/*" nat-anchor "com.apple/*" rdr-anchor "com.apple/*" dummynet-anchor "com.apple/*" anchor "com.apple/*" load anchor "com.apple" from "/etc/pf.anchors/com.apple" /code/pre  to  precodescrub-anchor "com.apple/*" nat-anchor "com.apple/*" rdr-anchor "com.apple/*" dummynet-anchor "com.apple/*" anchor "com.apple/*" anchor "org.user.block.out" load anchor "com.apple" from "/etc/pf.anchors/com.apple" load anchor "org.user.block.out" from "/etc/pf.anchors/org.user.block.out" /code/pre/li liParse and test your anchor file to make sure there are no errors:  precodesudo pfctl -vnf /etc/pf.anchors/org.user.block.out /code/pre/li liNow enable the firewall:  precodesudo pfctl -f /etc/pf.conf -e /code/pre/li liTo disable codepf/code later (after you are done with productive work) simply enter:  precodesudo pfctl -d /code/pre/li /ol  The first two steps have only to be done once. If you want to add or remove a domain in the whitelist, stop the firewall, modify emorg.user.block.out/em, parse the anchor file and re-enable the firewall.  hr  To enable logging you have to modify several files and add a launch daemon/shell script (all files created/modified probably need a trailing empty line):  ol liCreate a log file:  precodesudo touch /etc/log/pf.log /code/pre/li liModify syslog.conf by adding a line:  precodelocal2.*                        /var/log/pf.log /code/pre/li liAdd a shell script in /usr/local/bin/pflog.sh witht the content:  precode#!/bin/sh # bodged solution to absence of pflogd, ref 'Book of PF' p136  ifconfig pflog0 create /usr/sbin/tcpdump -lnettti pflog0 | /usr/bin/logger -t pf -p local2.info /code/pre/li liCreate a launch daemon /Library/LaunchDaemons/org.user.pflog.plist with the content:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;KeepAlive&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;org.user.pflog&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/usr/local/bin/pflog.sh&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;Disabled&lt;/key&gt;                  &lt;false/&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre/li liStop pfctl with codesudo pfctl -d/code/li liModify the emblock drop/em line in /private/etc/pf.anchors/org.user.block.out to:  precodeblock drop out log (all) proto { tcp, udp } from any to any port $myports /code/pre/li liLoad the logger plist:  precodesudo launchctl load -w /Library/LaunchDaemons/org.user.pflog.plist /code/pre/li liNow re-enable the firewall:  precodesudo pfctl -f /etc/pf.conf -e /code/pre/li liWatch pf.log in Console.app!/li /ol  hr  After a system update or upgrade some of the original files above may have been replaced and you have to reapply all changes.  <comment284638> I have tried to implement this. But when I get static IP, all websites are blocked including the one I want to access. For eg., `216.58.199.78    www.google.com` <comment284658> Can you post what you added to your host file? <comment284665> in beginning, I just added white list to my already black list, but then i erased the black list and now i just type **google** to see if it works or not .. and this is how it looks `108.177.14.94 www.google.se` <comment285306> after turning DNS off i still get nothing... i.e no web acess <comment285312> I think the issue is there bec as soon as I turn DNS off.. there is no web access what so ever <comment285313> I have tried all this steps but can access all websites after following all steps. To start with, I did every as it is as you write, that is with wikipedia and stackoverflow and tested after applying the changes if other websites are opening or not.. but they are opening... <comment285317> I dont know, how to check it ? <comment285319> both the files (org.user.block.out and pf.conf) have an empty new line at the end <comment285321> Let us [continue this discussion in chat](http://chat.stackexchange.com/rooms/37849/discussion-between-umar-and-klanomath). <comment285347> @Umar added logging solution <comment285348> Great!, one more thing, if I want to allow an app (along with few website) than what should i do? I tried to put the name of app there along with whitelist websites e.g `nameofapplication.app` but that app is still not working even if I have put it in white list. <comment285350> @Umar Hmm that doesn't work that easy with pf. pf is no "application firewall" like  "alf". I think it's possible (this extra firewall already has an anchor in /private/etc/pf.anchors/com.apple) but I think it's complicated. Probably that's better asked in a new question because that's far beyond the scope of **this** one here.
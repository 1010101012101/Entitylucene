Is it possible to evaluate an expression in launchd's ProgramArguments array? <body> Is it possible to compose my codelaunchd.plist/code file so that an embedded expression is evaluated and not treated as a literal value? And, if so, how?  I have a code~/Library/LaunchAgents/setenv.JAVA_HOME.plist/code file which contains a code/bin/launchctl/code call as follows:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;setenv.JAVA_HOME&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/bin/launchctl&lt;/string&gt;         &lt;string&gt;setenv&lt;/string&gt;         &lt;string&gt;JAVA_HOME&lt;/string&gt;         &lt;string&gt;$(/usr/libexec/java_home -v1.8)&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;ServiceIPC&lt;/key&gt;     &lt;false/&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  Problem is, the code$(/usr/libexec/java_home -v1.8)/code expression is not evaluated and instead the codeJAVA_HOME/code environment variable is assigned the literal value code$(/usr/libexec/java_home -v1.8)/code.  I asked this question in Stack Overflow last week but have had so few views I'm guessing that that's not the place for it.  <answer225851> Got an answer in the original Stack Overflow question, Is it possible to evaluate an expression in launchd's ProgramArguments array?  It is possible by means of this bash command:  precode/bin/bash -c '/bin/launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v1.8)' /code/pre  The plist file you want is as follows:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;test.so&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/bin/bash&lt;/string&gt;         &lt;string&gt;-c&lt;/string&gt;         &lt;string&gt;/bin/launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v1.8)&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt;     &lt;key&gt;ServiceIPC&lt;/key&gt;     &lt;false/&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  <answer225942> Though this is better suited as a comment it's much to long so I made it an answer:  Specs:  ul liOS X 10.10.5/li liJDKs 1.8.0_72 strongand/strong 1.7.0_80 installed (for testing purposes)/li /ul  Using two different plists emtest.so.global/em installed to /Library/LaunchDaemons with the content:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;test.so.global&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/bin/bash&lt;/string&gt;         &lt;string&gt;-c&lt;/string&gt;         &lt;string&gt;/bin/launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v 1.7)&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  and  emtest.so.user/em installed to ~/Library/LaunchAgents with the content:  precode&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt; &lt;plist version="1.0"&gt; &lt;dict&gt;     &lt;key&gt;Label&lt;/key&gt;     &lt;string&gt;test.so.user&lt;/string&gt;     &lt;key&gt;ProgramArguments&lt;/key&gt;     &lt;array&gt;         &lt;string&gt;/bin/bash&lt;/string&gt;         &lt;string&gt;-c&lt;/string&gt;         &lt;string&gt;/bin/launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v 1.8)&lt;/string&gt;     &lt;/array&gt;     &lt;key&gt;RunAtLoad&lt;/key&gt;     &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; /code/pre  and both loaded I get the following results:  precodehost:~ user$ echo $JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk/Contents/Home host:~ user$ launchctl getenv JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk/Contents/Home host:~ user$ sudo launchctl getenv JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home /code/pre  Only loading emtest.so.global/em yields:  precodehost:~ user$ echo $JAVA_HOME     #empty line host:~ user$ launchctl getenv JAVA_HOME host:~ user$ sudo launchctl getenv JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home /code/pre  Only loading emtest.so.user/em yields:  precodehost:~ user$ echo $JAVA_HOME     #empty line host:~ user$ launchctl getenv JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk/Contents/Home host:~ user$ sudo launchctl getenv JAVA_HOME /code/pre  So depending on how/where you want to set JAVA_HOME use either both or one of the two plists.  <comment274143> So, you're in essence trying to find a way to set a global environment variable, no? http://apple.stackexchange.com/questions/107787/ and http://apple.stackexchange.com/questions/64916/ <comment274147> this doesn't work for me <comment274263> klanomath, what is the value of the `JAVA_HOME` environment variable on your machine after the above file is loaded on login? i.e. what gets printed in Terminal when you run this command: `launchctl getenv JAVA_HOME`?
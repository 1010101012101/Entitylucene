Is there a quick way to relink my homebrew kegs? <body> I just upgraded my MacBook Air to Mavericks.  The process appears to have removed almost all of the symlinks that codehomebrew/code put in code/usr/local/bin/code.  As I notice things missing then I relink them via codebrew unlink &lt;keg&gt; &amp;&amp; brew link &lt;keg&gt;/code (although the symlinks are gone, codehomebrew/code still thinks they are there so I need to codeunlink/code first).  This feels somewhat inefficient.  I could just loop through everything in code/usr/local/Cellar/code but not emevery/em keg is automatically linked and I don't want to link those.  So my next guess is to list every emlinked/em keg and relink them (using the above).  Is there some magic command that will find all the kegs that codehomebrew/code emthinks/em are linked so that I can relink them?  <answer123991> This bash command (taken from there) will unlink all installed formulas and then link them again:  precodebrew list -1 | while read line; do brew unlink $line; brew link $line; done /code/pre  I guess all formulas need to be linked, otherwise, whichever tool depends on them, won't be able to find them..  <answer125319> code/usr/local/Library/LinkedKegs/code seems to contain a list of, well, linked kegs, so this should do the trick:  precodels -1 /usr/local/Library/LinkedKegs | while read line; do     echo $line     brew unlink $line     brew link --force $line done /code/pre  I'd recommend ensuring you have write permissions to code/usr/local/lib/code again before trying this.  <answer128959> In addition to the other answers to this question, you may also need to relink formula with multiple versions installed (codebrew link/code won't do this for you).  First, relink all the formulas you can:  precodebrew list -1 | while read line; do brew unlink $line; brew link --force $line; done /code/pre  Then run codebrew doctor/code, which should complain and give you two lists:  ul liUnlinked formulae with multiple versions/li liKeg-only formulae which have been incorrectly link by the original relinking process. /li /ul  For each formula with multiple versions run the following, replacing "python" with the formula name:  precodebrew info python   /code/pre  This will show you, among other information, all installed versions. Choose which version you want to link (for me its 2.7.6), and use codebrew switch/code  precodebrew switch python 2.7.6 /code/pre  You will also want to run codebrew unlink/code on the list (if any) of keg-only formulae that have been linked.  <comment144882> I'm not sure that all formulae do need to be linked.  Some are _keg-only_ but I don't know which, since some were installed as dependencies of others. <comment147497> It seems you just get some warnings like  "Warning: extempore is keg-only and must be linked with --force" <comment147499> I used Migration Assistant to move "everything" from an old Mac to a new one, and I also lost all my homebrew symlinks. Annoying. <comment150091> Here's an equivalent version using xargs: `brew list -1 | xargs -I formula sh -c "brew unlink formula && brew link formula"` <comment163927> Pretty sure that this just restored my homebrew into working order. Thanks! <comment301439> Amazing, thank you :)  just made a gist out of it if you don't mind, I'm pretty sure that we are not the only one who faced this problem..  https://goo.gl/YTPMjh <comment319261> Worked great, thanks!!! <comment348744> No, don't do `--force`! `brew link` should be sufficient, and some kegs really shouldn't be linked (as they can conflict with system libraries), whereas `--force` will force their linkage. <comment373602> great to use. I am using 10.12.6 mac os
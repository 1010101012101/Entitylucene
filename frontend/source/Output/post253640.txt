Install Sierra as guest OS in VM with Parallels 12 <body> Trying to install the official version of macOS Sierra, released today 2016-09-20.   When I use the emParallels Wizard/em to create a new VM, I selected the codeInstall macOS Sierra.app/code application as listed. Next step is saving the codeOS X image file.dmg/code file with its default name in a folder I choose. Then I get the error:     Failed to create a bootable disk image file for this version of OS X.   Running Parallels 12.0.2 on a MacBook Pro with El Capitan.  Ironically, I successfully did this same operation with the second, and last, GM seed from Apple using Parallels 12.0.1. Now, a few days later, I cannot install the official Sierra release with Parallels 12.0.2 (.2 update of Parallels is last day or two). So I suppose either (a) Apple changed something with the installer last-minute, or (b) the Parallels company changed something with this week’s new Parallels 12.0.2 update.  <answer253644> I'm use VMware Fusion and just downloaded "Install macOS Sierra.app" from the App Store and then made an ISO Image to install from. The ISO Image should also work in Parallels Desktop.  To create an ISO Image from the "Install macOS Sierra.app" application bundle, I used the following bash script. Note: This requires 12 GB of free space to create but only uses 6 GB when finished.  In Terminal:  precodetouch makeSierraISO open makeSierraISO /code/pre  ul liCopy and paste the emcode/em below into the document, modifying the path to the codeInstallESD.dmg/code if necessary, then save and close./li /ul  Back in Terminal:  precodechmod u+x makeSierraISO /code/pre  To run the emscript/em in Terminal: code./makeSierraISO/code  pre class="lang-none prettyprint-override"code#!/bin/bash  hdiutil attach "/Applications/Install macOS Sierra.app/Contents/SharedSupport/InstallESD.dmg" -noverify -nobrowse -mountpoint /Volumes/esd hdiutil create -o macOS_Sierra_10.12.0.cdr -size 6144m -layout SPUD -fs HFS+J hdiutil attach macOS_Sierra_10.12.0.cdr.dmg -noverify -nobrowse -mountpoint /Volumes/iso asr restore -source /Volumes/esd/BaseSystem.dmg -target /Volumes/iso -noprompt -noverify -erase rm /Volumes/OS\ X\ Base\ System/System/Installation/Packages cp -rp /Volumes/esd/Packages /Volumes/OS\ X\ Base\ System/System/Installation cp -rp /Volumes/esd/BaseSystem.chunklist /Volumes/OS\ X\ Base\ System/ cp -rp /Volumes/esd/BaseSystem.dmg /Volumes/OS\ X\ Base\ System/ hdiutil detach /Volumes/esd hdiutil detach /Volumes/OS\ X\ Base\ System hdiutil convert macOS_Sierra_10.12.0.cdr.dmg -format UDTO -o macOS_Sierra_10.12.0.iso rm macOS_Sierra_10.12.0.cdr.dmg mv macOS_Sierra_10.12.0.iso.cdr macOS_Sierra_10.12.0.iso /code/pre  Assuming you ran the emscript/em from your Home Folder in Terminal, then look for the file codemacOS_Sierra_10.12.0.iso/code in your Home Folder. Use Parallels to create new VM. Point the new VM wizard to that .iso file. Parallels may complain, saying it is unable to recognize the OS being installed. Proceed and choose codemacOS/code from the offered menu.   hr  img src="https://i.stack.imgur.com/EhGPE.jpg" alt="enter image description here"  <answer254298> The method posted by @user3439894 worked for me under Parallels.   I did initially have a problem at the first step: + hdiutil attach '/Applications/Install macOS Sierra.app/Contents/SharedSupport/InstallESD.dmg' -noverify -nobrowse -mountpoint /Volumes/esd hdiutil: attach failed - Resource busy  In code/Volumes/code, I unmounted iso and "OS X Install ESD":  codecd /Volumes//code  codeamount iso/code  codeumount "OS X Install ESD"/code  Possibly only one of the two mounts above caused the issue, but too late to tell.  Once macOS_Sierra_10.12.0.iso is created, start up Parallels Control Centre:  ol liChoose "Install Windows or another OS from a DVD or image file", continue/li liChoose "Locate Manually", "Select a file ..." and find macOS_Sierra_10.12.0.iso /li liParallels will respond "Unable to detect operating system". Continue, and choose OS X. /li liCarry on/li /ol  <comment318549> I installed with Virtual Box using the Mac 64-bit option and selected the macOS_Sierra_10.12.0.iso. Before I could install, I had to reformat the Disk .vdi into a Journaled format using Disk Utility (after selecting language). Otherwise there was no disk to select for installation. <comment318603> @Paul Solt, I'm using VMware Fusion and it has a default 40GB HFS+ virtual disk. So it shows when installing, however if I want anything bigger I have to take care of it in Disk Utility before I install OS X/macOS. These directions were really just for creation of the ISO Image, not what's necessary to install it in the different Type 2 Hypervisors. <comment326012> I didn't see iso and umount "OS X Install ESD" did the trick, thanks! <comment327296> Follow-up: Installing Sierra from `Install macOS Sierra.app` with Parallels 12 seems to be randomly successful. I have tried re-downloading the installer from Apple, and tried each released update from Parallels. For each combination sometimes the install succeeds, sometimes it doesn't… must be related the phase of the moon. If it fails one day, try again the next day. <comment327298> These instructions worked *perfectly* to make .iso file! Thanks so much. I pointed Parallels 12 to the newly-created .iso file, I identified which OS (`macOS`) and off we went to full normal installation in the usual amount of time (around 10 minutes, not sure). Installing from the .iso solved my underlying problem of Parallels insisting on creating a `OS X image file.hdd` file of 5 gigs in addition to, and permanently required by, the usual .pvm file. Installing with the .iso worked successfully with no `.hdd` file created. Again, thanks! Many hours I’ve wasted on other other workarounds. <comment348699> Is there a way to generalize this to all macOS/OSX installs? <comment348703> @William, Yes there is and the script I actually use does that. I only posted a handful of hard coded lines to complete the specific task of the OP. I would have liked to post the entire script but it was not commented and I do not like posting a script that has 70+ lines of code that's uncommented. I actually started to add comments and was going to update this answer but never got around to it because I hadn't finished the comments. I'll see if in the next day or so I can make it presentable to post. <comment348715> @user3439894 awesome let me know if you would like me to add a bounty to an existing question or post a new one. <comment373180> I seem to be able to get it to work in Parallels, but never VirtualBox <comment373182> @Madivad VirtualBox does not directly support macOS as a guest. You have to do some hacking to get it to work.
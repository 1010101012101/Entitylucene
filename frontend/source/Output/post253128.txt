What should I do to fix homebrew? <body> I installed apache-spark 1.6.1 lately and then I uninstalled it and update homebrew to install apache-spark 2.0.0. However, When I run codebrew doctor/code I don't get any helpful diagnostics about what is wrong:  precodeError: No such file or directory - /usr/local/Cellar/apache-spark/1.6.1 /code/pre  What should  I do now? The version of my os is 10.11.6.  <answer253162> That is as expected  You "I installed apache-spark 1.6.1 lately and then I uninstalled it" so  uninstalled apache-spark 1.6.1 which deletes /usr/local/Cellar/apache-spark/1.6.1  Installing apache-spark 2.0.0. will install in /usr/local/Cellar/apache-spark/2.0.0  <answer253200> You have broken links. Homebrew has built in repair utility.br /codebrew doctor/codebr /br /After brew finishes the doctor utility, run prune to update &amp; fix homebrew's sym links.br /codebrew prune/code  <answer259058> You probably have the SPARK_HOME environment variable set to the wrong folder. You can check by running the following command in the shell:  precodeecho $SPARK_HOME /code/pre  If this outputs the '/usr/local/Cellar/apache-spark/1.6.1' folder, than that's your problem. To fix, just run the following command in terminal:  precodeexport SPARK_HOME="/usr/local/Cellar/apache-spark/2.0.1/libexec/" /code/pre  or put it somewhere in your .bashrc file. (or whatever dotfile you use).  <comment315208> It doesn't work for me because the same warning shows immediately after these two command. <comment315209> Maybe I didn't explain what the problem is. My problem is when I want to install some software else or use brew update or brew doctor, the same warning shows all the time.
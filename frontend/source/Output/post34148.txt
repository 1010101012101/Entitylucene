Add a new user with a specific uid and gid <body> We have a mixed mac and linux environment at work, to make life easy we use the same uid, gid for each user both on the mac and linux side (I believe this is a standard practice).    The problem is, when you add a new user on a mac, there is no way to set the uid and gid "while" you are creating it, so you need to add the user then set the uid/gid and then go and execute a few codefind ... -exec ...{} .../code commands to change the owner and permissions on the home directory for the user that you already made,   Is there a better solution for this?  <answer34253> One solution would be to write a simple script to do the whole job at once.     precodedscl . -create /Users/ali UniqueID 549 PrimaryGroupID 320 RealName "Ali Moeeny"  /code/pre  Or something like that.  <comment39110> Problem is, I often find this non unix tools that Apple adds to macosx (like dscl instead of adduser ...) very unintuitive. <comment61081> The problem with this is, the new user does not show up in the Users & Groups preference pane afterwards, and you can't actually log in as the user. Or perhaps one should take the “or something like that” addendum a bit more seriously, and actually read the dscl man page … <comment61184> If you set the uid above 500 it would show up in the Preferences and you can login as well, I think you can login even if it's uid is below 500 but you need to choose other (pre-lion) and enter both user name and password. <comment61224> Didn't work for me, with uid=13799. Anyhow, it was easy enough to change the uid after the fact. (By command line or GUI. I only had to do it for two users …) <comment64998> Could you elaborate on how to change the UID for an existing user after the fact?  What commands do you need to run or what files do you need to edit to change the user's UID?  I'm comfortable with a Unix command line, but want to know the Mac-specific stuff.  (On a Unix box, I know I'd need to change /etc/password, /etc/group, and do a chgrp -R to change the uid/gids on all existing user files.  What about on MacOSX?) <comment65097> On Mac the "standard" procedure is to change the userid and group id through GUI and then run something like `find /Users/USERNAME -user OLDUSERID -exec chown NEWUSERID {}\;` . You can use the same `dscl . -create` command to overwrite/change the user id as far as I know but it maybe a bit tricky!
can't use publickey authentication for ssh with sierra <body> I have had a script that has worked for a number of years that runs on linux (ubuntu 14.04) that ssh's to my iMac.  i set up public private key pairs for the script to log into the iMac. I have struck a problem so i regenerated the public private key pairs using  ssh-keygen -t rsa -b 2048  then i put the public key in ~/.ssh/authorized_keys i made sure the permissions of .ssh where set to 0600  i did the reciprocal key generation on ubuntu and the imac can log into ubuntu i have updated ports on the imac.  a transcript of ssh -v 192.168.1.111 (imac) from (ubuntu) follows:  precodepete@ZEN:~$ ssh -v 192.168.1.111 OpenSSH_6.6.1, OpenSSL 1.0.1f 6 Jan 2014 debug1: Reading configuration data /etc/ssh/ssh_config debug1: /etc/ssh/ssh_config line 19: Applying options for * debug1: Connecting to imac.local [192.168.1.111] port 22. debug1: Connection established. debug1: identity file /home/pete/.ssh/id_rsa type 1 debug1: identity file /home/pete/.ssh/id_rsa-cert type -1 debug1: identity file /home/pete/.ssh/id_dsa type -1 debug1: identity file /home/pete/.ssh/id_dsa-cert type -1 debug1: identity file /home/pete/.ssh/id_ecdsa type -1 debug1: identity file /home/pete/.ssh/id_ecdsa-cert type -1 debug1: identity file /home/pete/.ssh/id_ed25519 type -1 debug1: identity file /home/pete/.ssh/id_ed25519-cert type -1 debug1: Enabling compatibility mode for protocol 2.0 debug1: Local version string SSH-2.0-OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.8 debug1: Remote protocol version 2.0, remote software version OpenSSH_7.2 debug1: match: OpenSSH_7.2 pat OpenSSH* compat 0x04000000 debug1: SSH2_MSG_KEXINIT sent debug1: SSH2_MSG_KEXINIT received debug1: kex: server-&gt;client aes128-ctr hmac-sha1-etm@openssh.com none debug1: kex: client-&gt;server aes128-ctr hmac-sha1-etm@openssh.com none debug1: sending SSH2_MSG_KEX_ECDH_INIT debug1: expecting SSH2_MSG_KEX_ECDH_REPLY debug1: Server host key: RSA 19:dd:96:1d:99:9b:53:1a:71:b2:3f:2d:93:d0:c4:d9 debug1: Host 'imac.local' is known and matches the RSA host key. debug1: Found key in /home/pete/.ssh/known_hosts:1 debug1: ssh_rsa_verify: signature correct debug1: SSH2_MSG_NEWKEYS sent debug1: expecting SSH2_MSG_NEWKEYS debug1: SSH2_MSG_NEWKEYS received debug1: SSH2_MSG_SERVICE_REQUEST sent debug1: SSH2_MSG_SERVICE_ACCEPT received debug1: Authentications that can continue: publickey,password,keyboard-interactive debug1: Next authentication method: publickey debug1: Offering RSA public key: /home/pete/.ssh/id_rsa debug1: Authentications that can continue: publickey,password,keyboard-interactive debug1: Trying private key: /home/pete/.ssh/id_dsa debug1: Trying private key: /home/pete/.ssh/id_ecdsa debug1: Trying private key: /home/pete/.ssh/id_ed25519 debug1: Next authentication method: keyboard-interactive Password: /code/pre  <answer256247> The fact that the log shows the key in a first iteration of offering public keys (note that it says "offering RSA public key") indicates that it is coming from the ssh-agent or another source of keys.  Did you check if the old id_rsa key is maybe still stored in the ssh-agent? 